/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const w=11111111111111e-7,he=.31111111111111117,Le=1,ee=1,ne=0,V=/\d/,te=15,Ie=(t,n)=>t!==void 0?t:n,m=(t,n,r)=>t===null&&t===void 0?"":typeof t=="string"?t:r.formatNumber(t,n),T=t=>(String(t).split(".")[1]||"").length,re=(t,n)=>Math.max(T(t),T(n)),oe=t=>Math.min(t,te),G=(t,n)=>{const r=oe(n);return parseFloat(t.toFixed(r))},Ne=(t,n,r,e,u,o,a)=>{const s=re(t||0,r||0),c=U(G((t||0)+(r||0),s),e,u);n.eventValue=c,n.currentLooseValue=m(c,o,a),n.selectionStart=n.selectionEnd=N(n.currentLooseValue,V)},Pe=(t,n,r,e,u,o,a)=>{const s=re(t||0,r||0),c=U(G((t||0)-(r||0),s),e,u);n.eventValue=c,n.currentLooseValue=m(c,o,a),n.selectionStart=n.selectionEnd=N(n.currentLooseValue,V)},U=(t,n,r)=>t==null?t:!(t>1||t<1||t===1)||r!==void 0&&n!==void 0&&r<n?null:(r!==void 0&&t>r&&(t=r),n!==void 0&&t<n&&(t=n),t),se=(t,n)=>{const r=n.findIndex(([u,o])=>!!o&&t.indexOf(o)===t.length-o.length);if(r===-1)return-1;const e=n[r][1];return t.length-e.length},ue=(t,n)=>{const r=n.findIndex(([u,o])=>!!u&&t.indexOf(u)===0);return r===-1?-1:n[r][0].length},ie=(t,n,r)=>{const e=se(t,n);if(e!==-1&&r.selectionStart>e){r.selectionStart=r.selectionEnd=e;return}r.selectionStart>t.length&&(r.selectionStart=r.selectionEnd=t.length);const u=ue(t,n);u!==-1&&r.selectionStart<u&&(r.selectionStart=r.selectionEnd=u),r.selectionStart===-1&&(r.selectionStart=r.selectionEnd=0)},x=(t,n,r,e)=>{t.selectionStart=t.selectionEnd=n,ie(r,e,t)},M=(t,n,r,e)=>{t.eventValue=e.parseNumber(t.prevLooseValue,n),t.currentLooseValue=t.prevLooseValue,t.valueIsCorrected=!0,x(t,t.selectionStart,t.currentLooseValue,r)},v=(t,n,r)=>n.split(t).length!==r.split(t).length&&n.length===r.length+t.length,ce=(t,n)=>{const r=String(t.currentLooseValue),e=String(t.prevLooseValue);return v(n.minusSign,r,e)||v("-",r,e)||v("−",r,e)},le=(t,n)=>{const r=String(t.currentLooseValue),e=String(t.prevLooseValue);return r.indexOf(n.minusSign)===-1&&e.indexOf(n.minusSign)!==-1},ae=(t,n)=>String(t.currentLooseValue).split(n.decimal).length>2,de=(t,n)=>{const r=n.formatNumber(w,t),e=n.formatNumber(-11111111111111e-7,t),u=n.formatNumber(ne,t),o=n.formatNumber(ee,t),a=D(r),s=D(e),c=D(u),l=D(o),P=O(r),C=O(e),b=O(u),h=O(o);return{positiveInfo:[a,P],negativeInfo:[s,C],zeroInfo:[c,b],oneInfo:[l,h]}},ge=(t,n)=>{const r=n.formatNumber(w,t),e=n.formatNumber(-11111111111111e-7,t),u=n.formatNumber(ne,t),o=n.formatNumber(ee,t),a=n.numberSymbols(),s=new RegExp(`[\\d\\${a.decimal}${a.group}]`,"g");return[r,e,u,o].map(l=>l.replace(s,"")).join("").split("").filter((l,P,C)=>C.indexOf(l)===P).join("")},y=(t,n)=>{const r=t.indexOf(n.decimal);return r>-1?r:N(t,V)},S=t=>t.split("").reverse().join(""),N=(t,n)=>t.length-S(t).search(n),D=t=>t.split(t[t.search(V)])[0],O=t=>{const n=S(t);return S(n.split(n[n.search(V)])[0])},F=(t,n)=>t.search(n),$=(t,n)=>{const r=t.indexOf(n);return r>-1?t.length-r-1:0},j=(t,n,r,e,u)=>{const o=t.replace(u,"")[0]==="0",a=n.replace(u,"")[0]==="0";if(o&&!a)return r-1;if(a&&e)return r+1;let s=0;for(let l=0;l<r;l++)V.test(t.charAt(l))&&s++;let c=0;for(;s>0&&n.length>c;)V.test(n.charAt(c))&&s--,c++;return c},Ce=(t,n,r)=>{const e={...t},{prevLooseValue:u}=e,o=r.numberSymbols(),a=ge(n,r),s=String(e.currentLooseValue),c=String(u),l=new RegExp(`[^\\d\\${o.decimal}]`,"g"),P=new RegExp(`[^\\d\\${o.decimal}\\${o.group}]`,"g"),C=new RegExp(`[\\d\\${o.decimal}\\${o.group}]`),b=s.replace(l,""),h=F(s,V),E=h===-1?-1:N(s,V),fe=s.indexOf(o.decimal),X=(s.substring(0,h)+s.substring(h,E).replace(P,"")+s.substring(E,s.length)).split("").filter(p=>a.indexOf(p)!==-1||p.search(C)!==-1).join(""),Z=r.formatNumber(he,n).replace(l,""),W=Z.indexOf(o.decimal),I=W>-1?Z.length-W-1:0,k=r.formatNumber(Le,n).replace(l,""),q=k.indexOf(o.decimal),R=q>-1?k.length-q-1:0,{positiveInfo:me,negativeInfo:Ve,zeroInfo:pe,oneInfo:xe}=de(n,r),g=[me,Ve,pe,xe],be=g.findIndex(p=>p.findIndex(L=>!!L)!==-1)!==1,z=s.length>0&&s.length<c.length,H=typeof n=="string"&&n[0]==="p"&&s&&s.indexOf(o.percentSign)===-1;if(!e.isPaste){if(s==="")return e.eventValue=null,e.currentLooseValue="",e;if(e.currentLooseValue===o.minusSign&&r.formatNumber(-0,n)!==c)return e.eventValue=-0,e.currentLooseValue=m(e.eventValue,n,r),x(e,y(e.currentLooseValue,o),e.currentLooseValue,g),e;if(e.currentLooseValue===o.decimal){e.eventValue=0;const f=m(e.eventValue,n,r);if(R===0&&I>0){const i=N(f,V);e.currentLooseValue=f.substring(0,i)+o.decimal+f.substring(i)}else e.currentLooseValue=f;return x(e,y(e.currentLooseValue,o)+1,e.currentLooseValue,g),e}if(ce(e,o)){const f=r.parseNumber(u,n);e.eventValue=-(f!==null?f:0),e.currentLooseValue=m(e.eventValue,n,r);const i=F(e.currentLooseValue,V),d=F(c,V);return x(e,e.selectionEnd-1+(i-d),e.currentLooseValue,g),e}if(le(e,o))return e.eventValue=r.parseNumber(e.currentLooseValue,n),x(e,e.selectionStart,e.currentLooseValue,g),e;if(ae(e,o))return M(e,n,g,r),e;if(H)return e.eventValue=r.parseNumber(s,n)/100,e.currentLooseValue=m(e.eventValue,n,r),e;if(String(e.currentLooseValue).replace(/[^\d]/g,"").length>te||b!==s&&s&&be&&g.findIndex(([i,d])=>{const _=s.indexOf(i),B=s.indexOf(d),J=_===0,K=B===s.length-d.length,Q=_+i.length!==h&&h!==-1&&s[_+i.length]!==o.decimal,Y=B!==E&&E!==-1&&s[B-1]!==o.decimal;return i&&d?Q||Y?!1:J&&K:i?Q?!1:J:d?Y?!1:K:!1})===-1)return M(e,n,g,r),e;if(b[b.length-1]===o.decimal&&I>0)return e.eventValue=r.parseNumber(s,n),e.currentLooseValue=X,e;if(e.currentLooseValue&&u&&(a+o.decimal+o.group).split("").findIndex(i=>s.split("").filter(d=>d===i).length<c.split("").filter(d=>d===i).length&&s.length+1===c.length?!(i===o.decimal&&$(c.replace(l,""),o.decimal)===0):!1)>-1)return e.eventValue=r.parseNumber(t.prevLooseValue,n),e.currentLooseValue=t.prevLooseValue,e;const L=$(b,o.decimal),A=b[b.length-1]==="0";if(z&&A&&L<R)return e.eventValue=r.parseNumber(e.currentLooseValue,n),e.currentLooseValue=m(e.eventValue,n,r),e;if(L>0){const f=s.substring(0,fe);if(A&&(!f||c.indexOf(f)!==0)){e.eventValue=r.parseNumber(e.currentLooseValue,n);const i=m(e.eventValue,n,r);return x(e,j(s,i,e.selectionEnd,z,l),i,g),e.currentLooseValue=i,e}if(L>I){const i=s.indexOf(o.decimal),d=s.substring(0,i)+s.substring(i,i+1+I)+s.substring(E,String(e.currentLooseValue).length);return e.eventValue=r.parseNumber(d,n),e.currentLooseValue=d,x(e,e.selectionStart,d,g),e}if(R!==I&&L<=I&&A)return e.eventValue=r.parseNumber(e.currentLooseValue,n),e.currentLooseValue=X,e;if(L<R)return e.eventValue=r.parseNumber(e.currentLooseValue,n),e.currentLooseValue=m(e.eventValue,n,r),e}}if(e.eventValue=r.parseNumber(e.currentLooseValue,n),H&&(e.eventValue=e.eventValue/100),typeof e.eventValue=="number"){const p=m(e.eventValue,n,r);s.length===1?x(e,y(p,o),p,g):x(e,j(s,p,e.selectionEnd,z,l),p,g),e.currentLooseValue=p}else e.currentLooseValue=m(r.parseNumber(b),n,r);return e};exports.changeBasedSelection=j;exports.decreaseValue=Pe;exports.formatValue=m;exports.fractionLength=T;exports.getDecimalCount=$;exports.getFirstNumberIndex=F;exports.getFormatPrefixSufix=de;exports.getFormatSymbols=ge;exports.getInitialPosition=y;exports.getLastNumberIndex=N;exports.getMaxCursorPosition=se;exports.getMinCursorPosition=ue;exports.getPrefix=D;exports.getStateOrPropsValue=Ie;exports.getSuffix=O;exports.increaseValue=Ne;exports.isDecimalDuplicated=ae;exports.isMinusSymbolAdded=ce;exports.isMinusSymbolRemoved=le;exports.limitPrecision=oe;exports.rangeSelection=ie;exports.rangeValue=U;exports.reverseString=S;exports.sanitizeNumber=Ce;exports.setInvalid=M;exports.setSelection=x;exports.toFixedPrecision=G;
