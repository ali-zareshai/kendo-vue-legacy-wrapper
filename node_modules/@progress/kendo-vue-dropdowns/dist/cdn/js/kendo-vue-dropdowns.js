/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@progress/kendo-vue-common"),require("vue"),require("@progress/kendo-vue-buttons"),require("@progress/kendo-vue-popup"),require("@progress/kendo-svg-icons"),require("@progress/kendo-vue-inputs"),require("@progress/kendo-vue-intl"),require("@progress/kendo-vue-layout"),require("@progress/kendo-vue-treeview"),require("@progress/kendo-vue-labels")):"function"==typeof define&&define.amd?define(["exports","@progress/kendo-vue-common","vue","@progress/kendo-vue-buttons","@progress/kendo-vue-popup","@progress/kendo-svg-icons","@progress/kendo-vue-inputs","@progress/kendo-vue-intl","@progress/kendo-vue-layout","@progress/kendo-vue-treeview","@progress/kendo-vue-labels"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoVueDropdowns={},e.KendoVueCommon,e.Vue,e.KendoVueButtons,e.KendoVuePopup,e.KendoSVGIcons,e.KendoVueInputs,e.KendoVueIntl,e.KendoVueLayout,e.KendoVueTreeview,e.KendoVueLabels)}(this,(function(e,t,i,s,a,n,o,l,r,d,h){"use strict";const p=i.defineComponent({name:"list-container",emits:{mousedown:e=>!0,blur:e=>!0,open:e=>!0,close:e=>!0},props:{width:[String,Number],dir:String,itemsCount:Number,popupSettings:{type:Object,default:function(){return{animate:!0,height:"200px"}}}},created(){this.kendoAnchorRef=void 0},methods:{onMouseDown(e){this.$emit("mousedown",e)},onBlur(e){this.$emit("blur",e)},onOpen(e){this.$emit("open",e)},onClose(e){this.$emit("close",e)}},render(){const e=t.getDefaultSlots(this),{width:s,dir:n,popupSettings:o}=this.$props,{popupClass:l,className:r,animate:d,anchor:h,anchorAlign:p,show:u,itemsCount:c,appendTo:g,collision:m,direction:v,offset:f,popupAlign:b,style:y,width:k,popupStyle:S}=o;return i.createVNode(a.Popup,{ref:"popup",style:{...y,width:k||s,direction:n},popupClass:r,animate:d,anchor:h,anchorAlign:p,show:u,onOpen:this.onOpen,onClose:this.onClose,appendTo:g,collision:m,direction:v,offset:f,popupAlign:b},{default:()=>[i.createVNode("div",{class:l,style:S,onMousedown:this.onMouseDown,onFocusout:this.onBlur},[e])]})}}),u="dropdowns.nodata",c="dropdowns.expandbutton",g="dropdowns.clear",m="dropdowns.select",v="dropdowns.defaultLabel",f="dropdowns.adaptiveModeFooterApply",b="dropdowns.adaptiveModeFooterCancel",y={[g]:"clear",[c]:"expand button",[u]:"NO DATA FOUND.",[m]:"Select",[v]:"Filter",[f]:"Apply",[b]:"Cancel"},{sizeMap:k,roundedMap:S}=t.kendoThemeMaps,$=i.defineComponent({name:"list-filter",emits:{keydown:e=>!0,change:e=>!0,focus:e=>!0,blur:e=>!0},inject:{kendoLocalizationService:{default:null}},props:{value:String,rounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},adaptiveMode:{type:Boolean,default:!1},ariaControlsId:String,ariaActivedescendantId:String,tabIndex:{type:Number,default:0}},computed:{spanClass(){const{size:e,rounded:t,fillMode:i}=this.$props;return{"k-searchbox k-input":!0,[`k-input-${k[e]||e}`]:e,[`k-rounded-${S[t]||t}`]:t,[`k-input-${i}`]:i}}},setup:()=>({inputRef:i.ref(null)}),methods:{onKeyDown(e){this.$emit("keydown",e)},onChange(e){this.$emit("change",e)},handleFocus(e){this.$emit("focus",e)},handleBlur(e){this.$emit("blur",e)},prefixRender:e=>e(t.Icon,{class:"k-input-icon",name:"search",icon:n.searchIcon})},mounted(){this.input=t.getRef(this,"input")._input},render(){const{size:e,rounded:s,fillMode:a,adaptiveMode:n,ariaControlsId:r,ariaActivedescendantId:d,tabIndex:h}=this.$props,p=l.provideLocalizationService(this).toLanguageString(v,y[v]),u=function(){return i.createVNode(o.TextBox,{ref:t.setRef(this,"input"),value:this.$props.value,onInput:this.onChange,onKeydown:this.onKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,size:e,fillMode:a,rounded:s,inputPrefix:this.prefixRender,role:"searchbox","aria-label":p,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-activedescendant":d,"aria-controls":r,tabIndex:h},null)};return n?u.call(this):i.createVNode("div",{class:"k-list-filter"},[u.call(this)])}}),I=e=>null!=e,V=(e,t,i)=>{if(!I(e))return!1;let s=String(e);return i&&(s=s.toLowerCase()),0===s.indexOf(t)},x=(e,t,i)=>{let s=-1;if(t){t=t.toLowerCase();for(let a=0;a<e.length;a++){const n=(F(e[a],i)||"")+"";if(n&&n.toLowerCase().startsWith(t)){s=a;break}}}return s},C=(e,t,i,s=!1)=>{const a=e=>s?e:e.toLowerCase();return e.findIndex((e=>i?a(F(e,i))===a(t):a(t)===a(e.toString())))},F=(e,t)=>{if(t&&I(e)){const i=t.split(".");let s=e;return i.forEach((e=>{s=s?s[e]:void 0})),s}return e},w=(e=[],t=[],i)=>{if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!O(e[s],t[s],i))return!1;return!0},N=(e,t,i)=>{t.forEach((t=>{const s=e.findIndex((e=>O(e,t,i)));-1!==s&&e.splice(s,1)}))},O=(e,t,i)=>e===t||I(e)===I(t)&&F(e,i)===F(t,i),R=(e,t,i)=>{if(t){const s=C(e,t,i,!0);return-1!==s?e[s]:e[x(e,t,i)]}return e[0]},T=e=>{"INPUT"!==e.target.nodeName&&e.preventDefault()},M=(e,t,i)=>!!e==!!t&&e.text===t.text&&(e===t||w(e.data,t.data,i)),K="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),B=i.defineComponent({name:"list-default-item",props:{defaultItem:[Object,String],textField:String,selected:Boolean,onDefaultitemclick:Function},methods:{onMouseDown(e){e.preventDefault()},onClick(e){this.$emit("defaultitemclick",e)}},render(){const{selected:e,defaultItem:s,textField:a}=this.$props;return i.createVNode("div",{onClick:this.onClick,onMousedown:this.onMouseDown,style:{position:"unset"},class:t.classNames("k-list-optionlabel",{"k-selected":e})},[F(s,a)||""])}}),D=i.defineComponent({name:"KendoListItem",inheritAttrs:!1,props:{id:String,index:Number,dataItem:[Object,String,Number],textField:String,focused:Boolean,selected:Boolean,render:Object,onItemClick:Function},computed:{itemClass(){return{"k-list-item":!0,"k-selected":this.$props.selected,"k-focus":this.$props.focused}}},methods:{handleClick(e){this.$emit("itemClick",this.$props.index,e)}},render(){const{selected:e}=this.$props,s=i.createVNode("li",{id:this.$props.id,role:"option","aria-selected":e,class:t.classNames("k-list-item",{"k-selected":e,"k-focus":this.$props.focused,[this.$attrs.class]:this.$attrs.class}),onClick:this.handleClick,style:this.$attrs.style||{position:"unset"}},[i.createVNode("span",{class:"k-list-item-text"},[F(this.$props.dataItem,this.$props.textField).toString()])]);return t.getTemplate.call(this,{h:i.h,template:this.$props.render,defaultRendering:s,additionalProps:{...this.$props,itemClass:this.itemClass},additionalListeners:{click:this.handleClick}})}}),P=i.defineComponent({name:"KendoListItem",inheritAttrs:!1,props:{id:String,group:String,render:Object},render(){const{id:e,group:s,virtual:a,render:n}=this.$props,o=i.createVNode("li",{id:e,role:"group",class:"k-list-group-item",style:{position:a?"relative":"unset"}},[i.createVNode("span",{class:n?void 0:"k-list-item-text"},[s])]);return t.getTemplate.call(this,{h:i.h,template:this.$props.render,defaultRendering:o,additionalProps:{...this.$props}})}}),L=i.defineComponent({name:"list",emits:{listclick:e=>!0,scroll:e=>!0},inheritAttrs:!1,props:{id:String,show:Boolean,dataItems:Array,value:[Object,String,Number,Boolean,Array],textField:String,valueField:String,optionsGuid:String,wrapperCssClass:String,wrapperStyle:Object,listStyle:Object,skip:Number,focusedIndex:Number,highlightSelected:{type:Boolean,default:!0},itemRender:[String,Function,Object],groupHeaderItemRender:[String,Function,Object],noDataRender:[String,Function,Object],scroller:Boolean,groupField:String},inject:{kendoLocalizationService:{default:null}},setup:()=>({listRef:i.ref(null),kendoLocalizationService:i.inject("kendoLocalizationService",{})}),mounted(){this.list=t.getRef(this,"list")},methods:{handleClick(e,t){this.$emit("listclick",e,t)},handleScroll(e){this.$emit("scroll",e)}},render(){const e=t.getDefaultSlots(this),s=l.provideLocalizationService(this),{id:a,show:n,wrapperCssClass:o,wrapperStyle:r,listStyle:d,listRef:h}=this.$props,p=function(){const{textField:e,valueField:t,optionsGuid:s,skip:a=0,focusedIndex:n,highlightSelected:o,value:l,groupField:r,itemRender:d,groupHeaderItemRender:h,dataItems:p}=this.$props,u=Array.isArray(l);let c=0;return p.map((function(g,m){const v=a+m,f=o&&(!u&&O(g,l,t)||u&&-1!==l.findIndex((e=>O(e,g,t))));let b,y,k;return m>0&&void 0!==r&&(y=F(g,r),k=F(p[m-1],r),y&&k&&y!==k!==void 0&&(b=y)),void 0!==b&&1===Object.keys(g).length&&(c+=1),void 0!==b&&void 0!==g[r]&&1===Object.keys(g).length?i.createVNode(P,{id:`option-${s}-${v}`,key:v+"-group-item",group:b,render:h},null):i.createVNode(D,{id:`option-${s}-${v}`,dataItem:g,selected:f,focused:n===v-c,index:v-c,key:v-c,onItemClick:this.handleClick,textField:e,render:d},null)}),this)}.call(this);return p.length?i.createVNode("div",{class:o,style:r,unselectable:"on",onScroll:this.handleScroll},[i.createVNode("ul",{id:a,role:"listbox","aria-live":"polite","aria-hidden":!n||void 0,class:"k-list-ul",ref:t.setRef(this,"list"),style:d},[p]),e]):function(){const e=this.$props.noDataRender,a=i.createVNode("div",{class:"k-nodata"},[i.createVNode("div",null,[s.toLanguageString(u,y[u])])]);return t.getTemplate.call(this,{h:i.h,template:e,defaultRendering:a})}.call(this)}});var j=Object.defineProperty,H=(e,t,i)=>((e,t,i)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);let z=class{constructor(){H(this,"containerHeight",0),H(this,"skip",0),H(this,"total",0),H(this,"enabled",!1),H(this,"pageSize",0),H(this,"itemHeight",0),H(this,"prevScrollPos",0),H(this,"listTranslate",0),H(this,"scrollSyncing",!1),H(this,"scrollerRef",(e=>{this.container=e,e&&(e.setAttribute("unselectable","on"),setTimeout((()=>this.calcScrollElementHeight),0))})),H(this,"calcScrollElementHeight",(()=>{var e;this.scrollSyncing=!0;let t=!1;const i=null==(e=this.container)?void 0:e.children[0],s=i?Array.from(i.children):[];this.itemHeight=s[0]?s[0].offsetHeight:this.itemHeight;const a=this.itemHeight*(this.total-s.length);this.containerHeight=K?Math.min(17895697,a):a;const n=this.containerHeight;return this.scrollElement&&(t=this.scrollElement.style.height!==n+"px",t&&(this.scrollElement.style.height=n+"px")),this.scrollSyncing=!1,t})),this.scrollHandler=this.scrollHandler.bind(this)}get translate(){return this.listTranslate}changePage(e,t){const i=Math.min(Math.max(0,e),this.total-this.pageSize);i!==this.skip&&this.PageChange({skip:i,take:this.pageSize},t)}translateTo(e){this.listTranslate=e,this.list&&(this.list.style.transform="translateY("+e+"px)")}reset(){this.container&&(this.calcScrollElementHeight(),this.container.scrollTop=0,this.translateTo(0))}scrollToEnd(){this.container&&this.list&&(this.calcScrollElementHeight(),this.container.scrollTop=this.container.scrollHeight-this.container.offsetHeight,this.translateTo(Math.min(this.container.scrollHeight,this.containerHeight)))}localScrollUp(e){const t=this.itemHeight,i=this.container.scrollTop;let s,a=this.listTranslate,n=i-a;if(!(n>t)){for(s=0;s<this.skip&&!(a+t+n<=i);s++)a-=t;if(a=this.validateTranslate(a),this.skip-s<=0&&a>=i)return this.translateTo(0),this.changePage(0,e),void(this.container.scrollTop=0);a!==this.listTranslate&&(this.translateTo(a),this.changePage(this.skip-s,e))}}localScrollDown(e){const t=this.itemHeight;let i=this.container.scrollTop,s=this.listTranslate;const a=this.list.children.length;let n;for(n=0;n<a&&!(s+t>=i);n++)s+=t;s=this.validateTranslate(s),n>=a&&this.skip+n>=this.total?(this.translateTo(s),this.changePage(this.total-1,e)):s!==this.listTranslate&&(this.translateTo(s),this.changePage(this.skip+n,e))}scrollNonStrict(e){const t=this.containerHeight?this.total*this.prevScrollPos/this.containerHeight:0,i=Math.min(Math.floor(t),this.total-1);let s=this.containerHeight*t/this.total;s=this.validateTranslate(s),this.translateTo(s),this.changePage(i,e)}scrollHandler(e){const t=this.container?this.container.scrollTop:0,i=this.prevScrollPos;this.prevScrollPos=t,this.ScrollChange(e),this.enabled&&this.list&&this.container&&!this.scrollSyncing&&(t-i<=0&&t>this.listTranslate-this.list.scrollHeight/10?this.localScrollUp(e):t-i>0&&t<this.listTranslate+2*this.list.scrollHeight/3?this.localScrollDown(e):this.scrollNonStrict(e))}validateTranslate(e){return e=Math.max(0,e),e=Math.min(this.containerHeight,e)}};class A{navigate(e){const i=e.keyCode;return i===t.Keys.up||i===t.Keys.left?this.next({current:e.current,min:e.min,max:e.max,step:-1}):i===t.Keys.down||i===t.Keys.right?this.next({current:e.current,min:e.min,max:e.max,step:1}):i===t.Keys.home?0:i===t.Keys.end?e.max:void 0}next(e){return I(e.current)?Math.min(e.max,Math.max(e.current+e.step,e.min)):e.min}}const E={name:"@progress/kendo-vue-dropdowns",productName:"Kendo UI for Vue",productCode:"KENDOUIVUE",productCodes:["KENDOUIVUE"],publishDate:0,version:"7.0.2",licensingDocsUrl:"https://www.telerik.com/kendo-vue-ui/my-license/"};var W=Object.defineProperty,q=(e,t,i)=>((e,t,i)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);let G=class{constructor(e){q(this,"vs",new z),q(this,"navigation",new A),q(this,"handleItemClick",((e,t)=>{const i=this.initState();i.event=t,this.component.handleItemSelect(e,i),this.togglePopup(i),this.applyState(i)})),q(this,"handleFocus",(e=>{if(!this.component.currentFocused){const t=this.initState();t.data.currentFocused=!0,t.events.push({type:"focus"}),t.event=e,this.applyState(t)}})),q(this,"filterChanged",((e,t)=>{const i=this.component,{textField:s,filterable:a}=i.$props;a&&(t.events.push({type:"filterchange",filter:{field:s,operator:"contains",ignoreCase:!0,value:e}}),this.repositionPopup())})),q(this,"togglePopup",(e=>{const t=this.component.$props,i=void 0!==t.opened?t.opened:this.component.currentOpened;void 0===t.opened&&(e.data.currentOpened=!i),i?e.events.push({type:"close"}):(e.events.push({type:"open"}),this.calculatePopupWidth())})),q(this,"pageChange",((e,t)=>{const i=this.initState();i.event=t,this.triggerOnPageChange(i,e.skip,e.take),this.applyState(i)})),q(this,"scrollChange",(e=>{this.component.$emit("scroll",e)})),q(this,"scrollToVirtualItem",((e,t)=>{const i=this.vs;if(i.enabled=!1,0===e.skip)i.reset();else if(e.skip+e.pageSize===e.total)i.scrollToEnd();else{let s=i.translate;0===s&&(i.calcScrollElementHeight(),s=i.itemHeight*e.skip,i.translateTo(s-i.itemHeight)),i.container&&(i.container.scrollTop=s),this.scrollToItem(t,!0)}setTimeout((()=>i.enabled=!0),10)})),q(this,"getGroupedDataModernMode",((e,t)=>{const i=[];return e.forEach(((s,a)=>{e[a-1]&&s[t]!==e[a-1][t]&&i.push({[t]:s[t]}),i.push(e[a])})),i})),q(this,"resetGroupStickyHeader",((e,t)=>{const i=this.initState();e!==t.group&&t.state&&(t.state.data.group=e,this.applyState(i))})),t.validatePackage(E),this.listBoxId=t.guid(),this.guid=t.guid(),this.component=e,this.vs.PageChange=this.pageChange,this.vs.ScrollChange=this.scrollChange}didMount(){const e=this.component.$props,t=e.popupSettings,i=e.style,s=t&&t.width;let a=!0===e.opened;void 0===s&&this.calculatePopupWidth(),void 0===e.dir&&i&&void 0===i.direction&&(this.calculateDir(),a=!0),a&&this.component.$forceUpdate()}calculateDir(){this.component.element&&(this.dirCalculated=window.getComputedStyle(this.component.element).direction||void 0)}calculatePopupWidth(){const e=this.component.$props,t=e.popupSettings,i=t&&t.width;this.wrapper&&!i&&(this.component.popupWidth=void 0!==e.popupSettings.width?e.popupSettings.width:this.wrapper.offsetWidth+"px")}scrollToItem(e,t){const i=this.list||this.vs.list,s=i?i.children[0]:void 0;if(s&&e>=0){const a=this.vs,n=a.container||i.parentNode;if(n){const i=void 0!==t?t:a.enabled;((e,t,i,s,a)=>{const n=e.offsetHeight,o=t*i+(a?s-e.scrollTop:0);if(a){let i=0;o+t>n?i=o+t-n:o<0&&(i=o),0!==i?e.scrollTop+=i:0===e.scrollTop&&0!==s&&(e.scrollTop=s)}else o+t>n+e.scrollTop?e.scrollTop=o+t-n:o<e.scrollTop&&(e.scrollTop-=e.scrollTop-o)})(n,s.offsetHeight,e,a.translate,i)}}}repositionPopup(){const e=this.component;setTimeout((function(){const t=e.$refs.container;if(t){const e=t.$refs.popup;e&&e.show&&e.reposition()}}),5)}initState(){return{data:{},events:[],event:void 0}}applyState(e){Object.keys(e.data).length>0&&Object.keys(e.data).forEach((t=>{this.component[t]=e.data[t]}));const t=this.component.primitiveValue(),i={event:e.event,component:this.component,target:{name:this.component.$props.name,value:t},value:t};e.events.forEach((e=>{const{type:s}=e;delete e.type,s&&("change"===s&&(this.component.$emit("changemodel",t),this.component.$emit("update:modelValue",t)),this.component.$emit(s,{...i,...e}))}))}triggerOnPageChange(e,t,i){const s=this.component.$props.virtual;if(s){const a=Math.min(Math.max(0,t),Math.max(0,s.total-i));a!==s.skip&&e.events.push({type:"pagechange",page:{skip:a,take:i}})}}triggerPageChangeCornerItems(e,t){const i=this.component.$props,{dataItems:s=[],dataItemKey:a,virtual:n}=i,o=void 0!==i.opened?i.opened:this.component.currentOpened;e&&n&&this.vs.enabled&&(n.skip>0&&O(e,s[0],a)?this.triggerOnPageChange(t,n.skip-1,n.pageSize):(n.skip+n.pageSize<n.total&&O(e,s[s.length-1],a)||!o&&n.skip+n.pageSize<n.total&&O(e,s[s.length-1],a))&&this.triggerOnPageChange(t,n.skip+1,n.pageSize))}getTemplateDef(e,i){const s=t.templateRendering.call(this,e,t.getListeners.call(this));return t.getTemplate.call(this,{h:i,template:s})}getListItemHeight(e){const t=e&&window.getComputedStyle(e);return t?t.height.slice(0,t.height.length-2):0}};q(G,"defaultProps",{popupSettings:{animate:!0,height:"200px"},required:!1,validityStyles:!0});const _=i.defineComponent({name:"KendoGroupStickyHeader",inheritAttrs:!1,props:{group:String,render:Object},render(){const{group:e,render:s}=this.$props,a=i.createVNode("div",{class:"k-list-group-sticky-header"},[i.createVNode("div",{class:"k-list-header-text"},[e])]);return t.getTemplate.call(this,{h:i.h,template:s,defaultRendering:a,additionalProps:{...this.$props}})}}),U=500,Y=768,{sizeMap:J,roundedMap:Q}=t.kendoThemeMaps;const X=i.defineComponent({name:"KendoDropDownList",model:{event:"changemodel"},props:{id:String,title:String,dataItemKey:{type:[Object,String]},defaultValue:{type:[String,Object,Number,Boolean],default:void 0},name:String,modelValue:{type:[String,Object,Number,Boolean],default:void 0},value:{type:[String,Object,Number,Boolean],default:void 0},label:{type:String},required:{type:Boolean,default:!1},leftRightKeysNavigation:{type:Boolean,default:!0},valid:{type:Boolean,default:void 0},validate:{type:Boolean},validationMessage:{type:String,default:void 0},validityStyles:{type:Boolean,default:!0},delay:{type:Number,default:500},ignoreCase:{type:Boolean,default:!0},icon:String,svgIcon:Object,iconClassName:String,defaultItem:[Object,String],valueRender:[String,Function,Object],valueMap:Function,opened:{type:Boolean,default:void 0},disabled:Boolean,dir:{type:String,default:void 0},tabIndex:{type:Number,default:0},accessKey:String,dataItems:Array,textField:String,valueField:String,valuePrimitive:Boolean,className:String,loading:Boolean,popupSettings:{type:Object,default:{animate:!0,height:"200px",anchor:""}},itemRender:[String,Function,Object],groupHeaderItemRender:[String,Function,Object],groupStickyHeaderItemRender:[String,Function,Object],listNoDataRender:[String,Function,Object],focusedItemIndex:Function,header:[String,Function,Object],footer:[String,Function,Object],filterable:Boolean,filter:{type:String,default:void 0},virtual:{type:Object,default:void 0},ariaLabelledBy:String,ariaLabel:String,ariaDescribedBy:String,rounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},groupField:{type:String},adaptive:{type:Boolean,default:void 0},adaptiveTitle:{type:String,default:void 0},onChange:Function},inject:{kendoLocalizationService:{default:null},adaptiveModeBreakpoints:{default:{small:U,medium:Y}}},data:()=>({hasMounted:!1,currentText:"",currentValue:"",currentFocused:!1,currentOpened:!1,searchState:{word:"",last:""},_skipFocusEvent:!1,valueDuringOnChange:{},_navigated:!1,group:void 0,isScrolling:!1,itemHeight:0,state:void 0,popupWidth:void 0,windowWidth:0}),watch:{currentOpened:function(e,t){this.prevCurrentOpened=t},opened:function(e,t){this.prevOpened=t},virtual:function(e,t){e&&t&&e.total!==t.total&&(this.virtualTotalHasChanged=!0),this.virtualHasChanged=!0},isOpen:function(){setTimeout((()=>{const e=document.querySelector(".k-list-item");this.itemHeight=this.base.getListItemHeight(e)}),100)}},created(){this.observer=null,this.valueDuringOnChange=void 0,this.currentText=void 0,this.currentValue=void 0,this.prevCurrentValue=this.computedValue(),this.currentFocused=void 0,this.currentOpened=void 0,this.base=new G(this),this.anchor=t.guid(),this.inputId=t.guid()},setup:()=>({selectRef:i.ref(null),baseWrapperRef:i.ref(null),kendoAnchorRef:i.ref(null)}),mounted(){this.observer=t.canUseDOM&&window.ResizeObserver&&new ResizeObserver(this.calculateMedia),null!=document&&document.body&&this.observer&&this.observer.observe(document.body),this.hasMounted=!0,this.select=t.getRef(this,"select"),this.base.wrapper=t.getRef(this,"kendoAnchor"),this.base.didMount(),this.setValidity()},updated(){var e;const{dataItems:t=[],dataItemKey:i,virtual:s,groupField:a,textField:n}=this.$props,o=this.isOpen,l=void 0!==this.prevOpened?this.prevOpened:this.prevCurrentOpened,r=!l&&o,d=this.$refs.list,h=this.$refs.filterInput,p=this.$refs.scrollElement;if(this.$refs.scroller,d&&(this.base.vs.list=d.list,this.base.list=d.list),p&&(this.base.vs.scrollElement=p),h&&(this.filterInput=h),d&&t.length&&this.base.vs.scrollerRef(d.$el),this.$props.popupSettings.animate||r&&this.onPopupOpened(),s&&this.virtualTotalHasChanged)this.base.vs.calcScrollElementHeight(),this.base.vs.reset(),this.virtualTotalHasChanged=!1;else{const n=this.computedValue(),d=this.prevCurrentValue;let h=t.findIndex((e=>O(e,n,i)));a&&(h=null==(e=this.base.getGroupedDataModernMode(t,a))?void 0:e.indexOf(n));const p=!O(d,n,i);r&&s?(this.base.scrollToVirtualItem(s,h),this.prevCurrentOpened=!0):r&&!s?(t&&0!==t.length&&this.base.resetGroupStickyHeader(t[0][a],this),this.base.scrollToItem(h),this.prevCurrentOpened=!0):o&&l&&n&&p&&!this._navigated?this.base.scrollToItem(h):o&&l&&this._navigated&&(this._navigated&&s&&0===s.skip?this.base.vs.reset():this._navigated&&s&&s.skip===s.total-s.pageSize&&this.base.vs.scrollToEnd())}this._navigated=!1,this.prevCurrentValue=this.computedValue(),this.setValidity()},computed:{index(){const{dataItems:e=[],dataItemKey:t}=this.$props,i=this.computedValue();return e.findIndex((e=>O(e,i,t)))},spanClassNames(){const e=!this.hasMounted||!this.$props.validityStyles||this.validity().valid;return{"k-floating-label-container":!0,"k-focus":this.currentFocused,"k-empty":!this.computedValue(),"k-invalid":!e&&void 0!==e,"k-rtl":"rtl"===this.$props.dir}},dropDownListId(){return`value-${this.base.guid}${this.$props.ariaDescribedBy?" "+this.$props.ariaDescribedBy:""}`},isOpen(){return void 0!==this.$props.opened?this.$props.opened:this.currentOpened},animationStyles(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?{top:0,width:"100%",height:"100%"}:void 0},classNameAdaptive(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},adaptiveState(){return this.windowWidth<=this.adaptiveModeBreakpoints.medium&&this.$props.adaptive}},methods:{focus(){this.base.wrapper&&this.base.wrapper.focus()},computedValue(){let e;return void 0!==this.valueDuringOnChange?e=this.valueDuringOnChange:void 0!==this.$props.value?e=this.$props.value:void 0!==this.$props.modelValue?e=this.$props.modelValue:void 0!==this.currentValue?e=this.currentValue:void 0!==this.$props.defaultValue&&(e=this.$props.defaultValue),!I(e)&&void 0!==this.$props.defaultItem&&(e=this.$props.defaultItem),this.valuePrimitive&&this.findByFieldValue(this.valueField,e)||e},findByFieldValue(e,t){const i=this.dataItems.findIndex((i=>F(i,e)===t));return this.dataItems[i]},primitiveValue(){const e=this.computedValue();return this.valuePrimitive?F(e,this.valueField):e},validity(){const e=void 0!==this.$props.validationMessage,t=!this.$props.required||null!==this.computedValue()&&""!==this.computedValue()&&void 0!==this.computedValue();return{customError:e,valid:void 0!==this.$props.valid?this.$props.valid:t,valueMissing:null===this.computedValue()}},handleItemSelect(e,t){const{dataItems:i=[],virtual:s,dataItemKey:a,defaultItem:n}=this.$props,o=s?s.skip:0,l=-1===e&&void 0!==n?n:i[e-o],r=!O(l,this.computedValue(),a);this.triggerOnChange(l,t),r&&this.base.triggerPageChangeCornerItems(l,t)},onNavigate(e,t){const{dataItems:i=[],defaultItem:s,dataItemKey:a,virtual:n={skip:0,total:0,pageSize:0}}=this.$props,o=this.base.vs,l=this.computedValue(),r=i.findIndex((e=>O(e,l,a))),d=this.base.navigation.navigate({current:n.skip+r,max:(o.enabled?n.total:i.length)-1,min:void 0!==s?-1:0,keyCode:t});void 0!==d&&this.handleItemSelect(d,e),this.applyState(e)},search(e){clearTimeout(this.typingTimeout),this.$props.filterable||(this.typingTimeout=setTimeout((()=>this.searchState.word=""),this.$props.delay),this.selectNext(e))},selectNext(e){const{dataItems:t=[],dataItemKey:i}=this.$props;let s=t.map(((e,t)=>({item:e,itemIndex:t})));const a=this.searchState.word,n=this.searchState.last,o=((e,t)=>{for(let i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0})(a,n);let l,r=s.length,d=Math.max(0,t.findIndex((e=>O(e,this.computedValue(),i))));this.$props.defaultItem&&(l={item:this.$props.defaultItem,itemIndex:-1},r+=1,d+=1),d+=o?1:0,s=((e,t,i)=>{let s=e;return i&&(s=[i].concat(s)),s.slice(t).concat(s.slice(0,t))})(s,d,l);let h,p,u,c=0;const{textField:g,ignoreCase:m}=this.$props;for(;c<r;){if(h=F(s[c].item,g),p=o&&V(h,n,m),u=V(h,a,m),p||u){c=s[c].itemIndex;break}c++}if(c!==r){const t=this.base.initState();t.event=e,this.handleItemSelect(c,t),this.applyState(t),this.valueDuringOnChange=void 0}},handleKeyDown(e){this.isScrolling&&(this.isScrolling=!1);const{dataItems:i=[],leftRightKeysNavigation:s,filterable:a,disabled:n,virtual:o={skip:0,total:0,pageSize:0}}=this.$props,l=this.isOpen,r=e.keyCode,d=r===t.Keys.home||r===t.Keys.end,h=r===t.Keys.up||r===t.Keys.down,p=!l&&(e.altKey&&r===t.Keys.down||r===t.Keys.enter||r===t.Keys.space),u=l&&(e.altKey&&r===t.Keys.up||r===t.Keys.esc),c=s&&(r===t.Keys.left||r===t.Keys.right),g=h||!a&&(c||d),m=this.base.initState();if(m.event=e,!n){if(d&&this.base.vs.enabled)r===t.Keys.home?0!==o.skip?(this.base.triggerOnPageChange(m,0,o.pageSize),this._navigated=!0):this.triggerOnChange(i[0],m):o.skip<o.total-o.pageSize?(this.base.triggerOnPageChange(m,o.total-o.pageSize,o.pageSize),this._navigated=!0):this.triggerOnChange(i[i.length-1],m);else if(l&&r===t.Keys.enter){const t=this.focusedIndex();void 0!==t&&this.handleItemSelect(t,m),this.base.togglePopup(m),e.preventDefault()}else p||u?(this.adaptiveState&&this.handleWrapperClick(e),this.base.togglePopup(m),e.preventDefault()):g&&(this.onNavigate(m,r),e.preventDefault());this.applyState(m)}},handleItemClick(e,t){this.base.handleItemClick(e,t),this.valueDuringOnChange=void 0},handleFocus(e){this._skipFocusEvent||this.base.handleFocus(e)},handleBlur(e){if(this._skipFocusEvent||!this.currentFocused)return;const t=this.isOpen,i=this.base.initState();i.event=e,i.data.currentFocused=!1,i.events.push({type:"blur"}),t&&!this.adaptiveState&&this.base.togglePopup(i),this.applyState(i)},handleDefaultItemClick(e){const t=this.base.initState();t.event=e,this.base.togglePopup(t),this.triggerOnChange(this.$props.defaultItem,t),this.applyState(t)},handleWrapperClick(e){const t=this.base.initState();t.event=e,this.currentFocused||(t.data.currentFocused=!0),this.base.togglePopup(t),this.applyState(t)},handleKeyPress(e){if(this.$props.filterable||e.keyCode===t.Keys.enter)return;let i=String.fromCharCode(e.charCode||e.keyCode);this.$props.ignoreCase&&(i=i.toLowerCase())," "===i&&e.preventDefault(),this.searchState={word:this.searchState.word+i,last:this.searchState.last+i},this.search(e)},handleListFilterChange(e){const t=this.base.initState();t.event=e,void 0===this.$props.filter&&(t.data.currentText=e.target.value),this.base.filterChanged(e.target.value,t),t.data.group=void 0,this.applyState(t)},onPopupOpened(){this.filterInput&&this.focusElement(this.filterInput.input)},onPopupClosed(){this.currentFocused&&setTimeout((()=>{this.currentFocused&&this.base.wrapper&&this.focusElement(this.base.wrapper)}))},focusedIndex(){const e=I(this.$props.filter)?this.$props.filter:this.currentText,{dataItems:t=[],virtual:i={skip:0},dataItemKey:s,textField:a,focusedItemIndex:n}=this.$props,o=this.computedValue(),l=!(t.findIndex((e=>O(e,o,s)))<0&&!this.$props.defaultItem);return!l&&e&&0===i.skip?n?n(t,e,a):t.indexOf(R(t,e,a)):l||0!==i.skip?void 0:0},focusElement(e){this._skipFocusEvent=!0,e.focus(),setTimeout((()=>this._skipFocusEvent=!1),30)},setValidity(){this.select&&this.select.setCustomValidity&&this.select.setCustomValidity(this.validity().valid?"":this.$props.validationMessage||"Please select a value from the list!")},triggerOnChange(e,t){O(this.computedValue(),e,this.$props.dataItemKey)||(void 0===this.$props.value&&(this.currentValue=e),this.valueDuringOnChange=e,t.events.push({type:"change"}))},applyState(e){this.base.applyState(e),this.valueDuringOnChange=void 0},calculateMedia(e){for(let t of e)this.windowWidth=t.target.clientWidth},repositionPopup(){this.base.repositionPopup()},onScroll(e){this.isScrolling=!0;const{vs:t,list:i}=this.base;t.scrollHandler(e);const s=this.base.initState(),{groupField:a}=this.$props;let n,{dataItems:o=[]}=this.$props;if(!a||!o.length)return;const l=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:i?i.children[0].offsetHeight:0),r=e.target.scrollTop-t.skip*l;a&&(o=this.base.getGroupedDataModernMode(o,a),n=o[0][a]);for(let e=1;e<o.length&&!(l*e>r);e++)o[e]&&o[e][a]&&(n=o[e][a]);n!==this.group&&(s.data.group=n,this.applyState(s))}},render(){const{style:e,className:a,label:o,dir:d,virtual:h={skip:0},size:u,rounded:c,fillMode:g,dataItemKey:v,dataItems:f=[],disabled:b,tabIndex:k,loading:S,icon:I,svgIcon:V,iconClassName:x,adaptiveTitle:C,header:w,footer:N,groupStickyHeaderItemRender:R}=this.$props,M=this.isOpen,K=F(this.computedValue(),this.$props.textField),D=!this.$props.validityStyles||this.validity().valid,P=this.base,j=P.vs,H=this.$props.id||this.inputId;j.enabled=void 0!==this.$props.virtual;const z=Object.assign({},{animate:!0,height:"200px"},this.$props.popupSettings),A=l.provideLocalizationService(this).toLanguageString(m,y[m]),E=this.adaptiveState;void 0===this.group&&void 0!==this.$props.groupField&&(this.group=F(this.$props.dataItems[0],this.$props.groupField));const W=t.templateRendering.call(this,this.$props.valueRender,t.getListeners.call(this)),q=this.currentFocused,G=this.primitiveValue(),U=f.findIndex((e=>O(e,G,v))),Y=i.createVNode("span",{class:"k-input-inner",id:this.dropDownListId},[i.createVNode("span",{class:"k-input-value-text"},[K])]);let X=t.getTemplate.call(this,{h:i.h,template:W,defaultRendering:Y,additionalProps:{value:this.computedValue(),...this.$data}});const Z=function(e){return i.createVNode("select",{name:this.$props.name,id:H,ref:t.setRef(this,"select"),tabindex:-1,"aria-hidden":!0,title:this.$props.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},[i.createVNode("option",{value:this.$props.valueMap?this.$props.valueMap.call(void 0,e):e},null)])},ee=t.templateRendering.call(this,(()=>[i.createVNode("div",{class:"k-actionsheet-titlebar-group k-hbox"},[i.createVNode("div",{class:"k-actionsheet-title"},[i.createVNode("div",{class:"k-text-center"},[C]),i.createVNode("div",{class:"k-actionsheet-subtitle k-text-center"},null)]),i.createVNode("div",{class:"k-actionsheet-actions"},[i.createVNode(s.Button,{tabIndex:5,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.handleWrapperClick,icon:"x",svgIcon:n.xIcon},null)])]),i.createVNode("div",{class:"k-actionsheet-titlebar-group k-actionsheet-filter"},[ae.call(this)])]),t.getListeners.call(this)),te=t.templateRendering.call(this,(()=>{const e=P.getTemplateDef.call(this,w,i.h),s=P.getTemplateDef.call(this,N,i.h),a=t.templateRendering.call(this,R,t.getListeners.call(this));return i.createVNode("div",{class:"k-list-container"},[e&&i.createVNode("div",{class:"k-list-header"},[e]),i.createVNode("div",{class:t.classNames("k-list",{[`k-list-${J[u]||u}`]:!E&&u,"k-list-lg":!!E,"k-virtual-list":j.enabled})},[ie.call(this),this.group&&0!==f.length&&i.createVNode(_,{group:this.group,render:a},null),se.call(this),s&&i.createVNode("div",{class:"k-list-footer"},[s])])])}),t.getListeners.call(this)),ie=function(){const{textField:e,defaultItem:t}=this.$props;return void 0!==t&&i.createVNode(B,{defaultItem:t,textField:e,selected:O(this.computedValue(),t,v),key:"defaultitemkey",onDefaultitemclick:this.handleDefaultItemClick},null)},se=function(){let e;const{textField:s,groupField:a}=this.$props;let n=this.$props.dataItems||[];const o=t.templateRendering.call(this,this.$props.itemRender,t.getListeners.call(this)),l=t.templateRendering.call(this,this.$props.groupHeaderItemRender,t.getListeners.call(this)),r=t.templateRendering.call(this,this.$props.listNoDataRender,t.getListeners.call(this)),d=h.skip,p=`translateY(${j.translate}px)`;return a&&(n=this.base.getGroupedDataModernMode(n,a)),i.createVNode(L,{id:this.base.listBoxId,show:M,dataItems:n.slice(),focusedIndex:this.focusedIndex(),value:this.computedValue(),textField:s,valueField:v,optionsGuid:this.base.guid,ref:"list",wrapperStyle:{maxHeight:z.height},wrapperCssClass:"k-list-content",listStyle:j.enabled?{transform:p}:void 0,key:"listkey",skip:d,onListclick:this.handleItemClick,itemRender:o,groupHeaderItemRender:l,noDataRender:r,groupField:a,onScroll:this.onScroll},function(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i.isVNode(e)}(e=ne.call(this))?e:{default:()=>[e]})},ae=function(){const e=void 0!==this.$props.filter?this.$props.filter:this.currentText;return this.$props.filterable&&i.createVNode($,{value:e,ref:"filterInput",onChange:this.handleListFilterChange,onKeydown:this.handleKeyDown,size:this.$props.size,rounded:this.$props.rounded,fillMode:this.$props.fillMode,ariaControlsId:this.base.listBoxId,ariaActivedescendantId:`option-${this.base.guid}-${this.focusedIndex()}`},null)},ne=function(){return j.enabled&&i.createVNode("div",{ref:"scrollElement",key:"scrollElementKey"},null)},oe=function(){const e=t.templateRendering.call(this,this.$props.groupStickyHeaderItemRender,t.getListeners.call(this)),s=P.getTemplateDef.call(this,w),a=P.getTemplateDef.call(this,N);return i.createVNode(p,{ref:"container",onMousedown:T,dir:void 0!==d?d:P.dirCalculated,width:this.popupWidth,popupSettings:{...z,popupClass:t.classNames(z.popupClass,"k-list",{[`k-list-${J[u]||u}`]:u,"k-virtual-list":this.base.vs.enabled}),className:t.classNames("k-list-container",z.className),anchor:this.anchor,show:M},onOpen:this.onPopupOpened,onClose:this.onPopupClosed,onBlur:this.handleBlur},{default:()=>[ae.call(this),ie.call(this),this.group&&0!==f.length&&i.createVNode(_,{group:this.group,render:e},null),s&&i.createVNode("div",{class:"k-list-header"},[s]),se.call(this),a&&i.createVNode("div",{class:"k-list-footer"},[a])]})};void 0!==this.$props.virtual&&(P.vs.skip=h.skip,P.vs.total=h.total,P.vs.pageSize=h.pageSize);const le=[i.h(function(){return i.createVNode("span",{ref:t.setRef(this,"kendoAnchor"),class:t.classNames("k-dropdownlist k-picker",a,{[`k-picker-${J[u]||u}`]:u,[`k-rounded-${Q[c]||c}`]:c,[`k-picker-${g}`]:g,"k-focus":q,"k-disabled":b,"k-invalid":!D,"k-loading":S,"k-required":this.required}),style:o?{...e,width:void 0}:e,dir:d,onMousedown:M?T:t.noop,onFocusin:this.handleFocus,onFocusout:this.handleBlur,tabindex:t.getTabIndex(k,b),accesskey:this.$props.accessKey,onKeydown:this.handleKeyDown,onKeypress:this.handleKeyPress,role:"combobox",onClick:b?t.noop:this.handleWrapperClick,"aria-disabled":b||void 0,"aria-haspopup":!0,"aria-expanded":M||!1,"aria-owns":this.base.listBoxId,"aria-activedescendant":M?"option-"+this.base.guid+"-"+(U+(h?h.skip:0)):void 0,"aria-label":this.$props.ariaLabel||this.$props.label,"aria-labelledby":this.$props.ariaLabelledBy,"aria-describedBy":this.dropDownListId,title:this.$props.title},[X,S&&i.createVNode(t.Icon,{name:"loading",class:"k-input-loading-icon",key:"loading"},null),i.createVNode(s.Button,{type:"button",tabIndex:-1,size:u,fillMode:g,rounded:null,ariaLabel:A,class:"k-input-button",icon:I||"caret-alt-down",svgIcon:V||n.caretAltDownIcon,iconClass:x},null),Z.call(this,G),!E&&oe.call(this)])}.call(this),{...this.$attrs}),E&&function(){return i.createVNode(r.ActionSheet,{expand:M,animation:!0,animationStyles:this.animationStyles,className:this.classNameAdaptive,contentClassName:"!k-overflow-hidden",header:ee,content:te,onClose:this.handleWrapperClick,navigatableElements:["input.k-input-inner",".k-actionsheet-actions > button"]},null)}.call(this)];return o?i.createVNode("span",{class:this.spanClassNames,onFocusin:this.handleFocus,onFocusout:this.handleBlur,dir:this.$props.dir},[le,this.$props.label?H?i.createVNode("label",{for:H,class:"k-floating-label"},[this.$props.label]):i.createVNode("span",{class:"k-label"},[this.$props.label]):null]):le}}),Z=i.defineComponent({name:"search-bar",emits:{change:e=>!0,keydown:e=>!0,focus:e=>!0,blur:e=>!0},props:{value:String,id:String,placeholder:String,tabIndex:Number,size:{type:Number,default:void 0},suggestedText:String,focused:Boolean,disabled:Boolean,readOnly:Boolean,expanded:Boolean,owns:String,name:String,activedescendant:String,ariaDescribedBy:String,clearButton:Boolean,accessKey:String,ariaLabelledBy:String,ariaLabel:{type:String,default:void 0},onClearbuttonclick:Function,inputAttributes:Object},data:()=>({prevValue:void 0,prevSuggestedText:void 0}),watch:{suggestedText:function(e,t){this.prevSuggestedText=t},value:function(e,t){this.prevValue=t}},updated(){const{value:e,suggestedText:i,focused:s}=this.$props;this.input||(this.input=this.$refs.input);const a=this.input,n=this.$data.prevValue!==e||i!==this.prevSuggestedText,o=n&&this.$data.prevValue&&this.$data.prevValue.startsWith(e)&&!(this.$data.prevSuggestedText&&i&&this.$data.prevSuggestedText.endsWith(i));s&&a&&t.canUseDOM&&document.activeElement!==a&&a.focus(),i&&n&&!o&&a&&a.setSelectionRange(e.length-i.length,e.length)},setup:()=>({inputRef:i.ref(null)}),mounted(){this.input=t.getRef(this,"input")},methods:{onChange(e){this.$emit("change",e)},onBlur(e){this.$emit("blur",e)},onFocus(e){this.$emit("focus",e)},onKeyDown(e){this.$emit("keydown",e)},clearButtonClick(e){this.$emit("clearbuttonclick",e)}},render(){return i.createVNode("input",i.mergeProps({autocomplete:"off",id:this.$props.id,type:"text",key:"searchbar",placeholder:this.$props.placeholder,class:"k-input-inner",tabindex:this.$props.tabIndex,accesskey:this.$props.accessKey,role:"combobox",name:this.$props.name,value:this.$props.value,size:this.$props.size?this.$props.size:20,onInput:this.onChange,ref:t.setRef(this,"input"),onKeydown:this.onKeyDown,onFocusin:this.onFocus,onBlur:this.onBlur,"aria-disabled":this.$props.disabled||void 0,disabled:this.$props.disabled||void 0,readonly:this.$props.readOnly||void 0,"aria-autocomplete":this.$props.suggestedText?"both":"list","aria-haspopup":"listbox","aria-expanded":this.$props.expanded||!1,"aria-controls":this.$props.owns,"aria-activedescendant":this.$props.expanded?this.$props.activedescendant:void 0,"aria-describedby":this.$props.ariaDescribedBy,"aria-labelledby":this.$props.ariaLabelledBy,"aria-label":this.$props.ariaLabel},this.$props.inputAttributes),null)}}),ee=i.defineComponent({name:"clear-button",inject:{kendoLocalizationService:{default:null}},props:{onClearclick:Function},setup:()=>({kendoLocalizationService:i.inject("kendoLocalizationService",{})}),methods:{onMouseDown(e){e.preventDefault()},onClickHandler(e){this.$emit("clearclick",e)}},render(){const e=l.provideLocalizationService(this).toLanguageString(g,y[g]);return i.createVNode("span",{class:"k-clear-value",role:"button",onClick:this.onClickHandler,onMousedown:this.onMouseDown,tabindex:-1,title:e,key:"clearbutton"},[i.createVNode(t.Icon,{name:"x",icon:n.xIcon},null)])}}),{sizeMap:te,roundedMap:ie}=t.kendoThemeMaps;const se=i.defineComponent({name:"KendoComboBox",model:{event:"changemodel"},emits:{changemodel:e=>!0,"update:modelValue":e=>!0,filterchange:e=>!0,pagechange:e=>!0,change:e=>!0,focus:e=>!0,blur:e=>!0,open:e=>!0,close:e=>!0,scroll:e=>!0},props:{id:String,dataItemKey:{type:[Object,String]},defaultValue:{type:[String,Object,Number,Boolean],default:void 0},name:String,modelValue:{type:[String,Object,Number,Boolean],default:void 0},value:{type:[String,Object,Number,Boolean],default:void 0},label:{type:String},placeholder:String,required:{type:Boolean,default:!1},valid:{type:Boolean,default:void 0},validationMessage:{type:String,default:void 0},validityStyles:{type:Boolean,default:!0},iconClassName:String,opened:{type:Boolean,default:void 0},disabled:Boolean,dir:{type:String,default:void 0},tabIndex:{type:Number,default:0},accessKey:String,dataItems:Array,textField:String,className:String,loading:Boolean,popupSettings:{type:Object,default:function(){return{animate:!0,height:"200px",anchor:""}}},itemRender:[String,Function,Object],groupHeaderItemRender:[String,Function,Object],groupStickyHeaderItemRender:[String,Function,Object],listNoDataRender:[String,Function,Object],focusedItemIndex:Function,header:[String,Function,Object],footer:[String,Function,Object],filterable:Boolean,filter:{type:String,default:void 0},virtual:{type:Object,default:void 0},suggest:{type:Boolean,default:!1},allowCustom:{type:Boolean,default:!1},clearButton:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},ariaLabelledBy:String,ariaDescribedBy:String,valueField:String,valuePrimitive:Boolean,rounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},groupField:{type:String},adaptive:{type:Boolean,default:void 0},adaptiveTitle:{type:String,default:void 0},onFilterchange:Function,inputAttributes:Object},inject:{kendoLocalizationService:{default:null},adaptiveModeBreakpoints:{default:{small:U,medium:Y}}},data:()=>({hasMounted:!1,currentText:"",currentValue:"",currentFocused:!1,currentOpened:!1,searchState:{word:"",last:""},_skipFocusEvent:!1,valueDuringOnChange:{},_navigated:!1,suggested:"",group:void 0,isScrolling:!1,itemHeight:0,state:void 0,popupWidth:void 0,windowWidth:0}),created(){this.observer=null,this.valueDuringOnChange=void 0,this.currentText=void 0,this.currentValue=void 0,this.currentFocused=void 0,this.currentOpened=void 0,this.prevCurrentValue=this.computedValue(),this.base=new G(this),this.anchor=t.guid(),this.inputId=t.guid()},setup:()=>({inputRef:i.ref(null),elementRef:i.ref(null),kendoAnchorRef:i.ref(null),kendoLocalizationService:i.inject("kendoLocalizationService",{})}),mounted(){this.observer=t.canUseDOM&&window.ResizeObserver&&new ResizeObserver(this.calculateMedia),null!=document&&document.body&&this.observer&&this.observer.observe(document.body),this.hasMounted=!0,this.input=this.inputRef.input,this.base.wrapper=t.getRef(this,"kendoAnchor"),this.element=t.getRef(this,"kendoAnchor"),this.base.didMount(),this.setValidity()},updated(){var e;const{dataItems:t=[],dataItemKey:i,virtual:s,groupField:a,textField:n}=this.$props,o=this.isOpen,l=void 0!==this.prevOpened?this.prevOpened:this.prevCurrentOpened,r=!l&&o,d=this.$refs.list,h=this.$refs.scrollElement,p=this.computedValue();if(this.valueOnDidUpdate=p,d&&(this.base.vs.list=d.list,this.base.list=d.list),h&&(this.base.vs.scrollElement=h),d&&t.length&&this.base.vs.scrollerRef(d.$el),s&&this.virtualTotalHasChanged)this.base.vs.calcScrollElementHeight(),this.base.vs.reset(),this.virtualTotalHasChanged=!1;else{const d=this.prevCurrentValue;let h=t.findIndex((e=>O(e,p,i)));a&&(h=null==(e=this.base.getGroupedDataModernMode(t,a))?void 0:e.indexOf(p));const u=!O(d,p,i);if(r&&s)this.base.scrollToVirtualItem(s,h),this.prevCurrentOpened=!0;else if(r&&!s)t&&0!==t.length&&this.base.resetGroupStickyHeader(t[0][a],this),this.base.scrollToItem(h),this.prevCurrentOpened=!0;else if(o&&l&&p&&u)this.base.scrollToItem(h);else if(o&&!p&&!this.isScrolling){let e=0;if(a&&-1!==this.getFocusedIndex()&&t.length>0){const i=t[this.getFocusedIndex()][n],s=this.base.getGroupedDataModernMode(t,a),o=s.findIndex((e=>e[n]===i));e=s.slice(0,o).filter((e=>1===Object.keys(e).length)).length}this.base.scrollToItem(this.getFocusedIndex()+e)}}r&&this.input&&this.input.focus(),this.prevCurrentValue=this.computedValue(),this.setValidity()},watch:{currentOpened:function(e,t){this.prevCurrentOpened=t},opened:function(e,t){this.prevOpened=t},virtual:function(e,t){e&&t&&e.total!==t.total&&(this.virtualTotalHasChanged=!0),this.virtualHasChanged=!0},isOpen:function(){setTimeout((()=>{const e=document.querySelector(".k-list-item");this.itemHeight=this.base.getListItemHeight(e)}),100)}},computed:{index(){const{dataItems:e=[],dataItemKey:t}=this.$props,i=this.computedValue();return e.findIndex((e=>O(e,i,t)))},spanClassNames(){const e=!this.hasMounted||!this.$props.validityStyles||this.validity().valid;return{"k-floating-label-container":!0,"k-focus":this.currentFocused,"k-empty":!this.computedValue(),"k-invalid":!e&&void 0!==e,"k-rtl":"rtl"===this.$props.dir}},isOpen(){return void 0!==this.$props.opened?this.$props.opened:this.currentOpened},animationStyles(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?{top:0,width:"100%",height:"100%"}:void 0},classNameAdaptive(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},adaptiveState(){return this.windowWidth<=this.adaptiveModeBreakpoints.medium&&this.$props.adaptive}},methods:{focus(){this.input&&this.input.focus()},computedValue(){let e;return void 0!==this.valueDuringOnChange?e=this.valueDuringOnChange:void 0!==this.$props.value?e=this.$props.value:void 0!==this.$props.modelValue?e=this.$props.modelValue:void 0!==this.currentValue?e=this.currentValue:void 0!==this.$props.defaultValue&&(e=this.$props.defaultValue),this.valuePrimitive&&this.findByFieldValue(this.valueField,e)||e},findByFieldValue(e,t){const i=this.dataItems.findIndex((i=>F(i,e)===t));return this.dataItems[i]},primitiveValue(){const e=this.computedValue();return this.valuePrimitive&&e&&"object"==typeof e?F(e,this.valueField):e},validity(){const e=void 0!==this.$props.validationMessage,t=!this.$props.required||null!==this.computedValue()&&""!==this.computedValue()&&void 0!==this.computedValue();return{customError:e,valid:void 0!==this.$props.valid?this.$props.valid:t,valueMissing:null===this.computedValue()}},handleItemSelect(e,t){const{dataItems:i=[],virtual:s,dataItemKey:a}=this.$props,n=i[e-(s?s.skip:0)],o=!O(n,this.computedValue(),a);this.triggerOnChange(n,t),void 0!==this.currentText&&(t.data.currentText=void 0),o&&this.base.triggerPageChangeCornerItems(n,t)},onNavigate(e,t){const{dataItems:i=[],virtual:s={skip:0}}=this.$props,a=this.$props.filter?this.$props.filter:this.currentText,n=this.getFocusedIndex(),o=this.base.vs,l=this.computedValue();if(this.suggested="",-1===n||I(l))if(""===a)this.handleItemSelect(0,e);else{let a=s.skip+n;const l=this.base.navigation.navigate({keyCode:t,current:a,max:(o.enabled?o.total:i.length)-1,min:0});void 0!==l&&this.handleItemSelect(l,e)}else this.handleItemSelect(n,e)},toggleBtnClick(e){const t=this.base.initState(),i=this.isOpen,s=this.adaptiveState;t.event=e,this.base.togglePopup(t),!i&&s&&this.base.filterChanged("",t),this.applyState(t)},applyValueOnEnter(e,t){const{dataItems:i=[],textField:s,allowCustom:a,valuePrimitive:n}=this.$props,o=this.isOpen,l=this.getSelectedItemText()===e?this.index:C(i,e,s),r=-1!==l;let d;if(this.suggested="",r)d=i[l];else{if(!a)return this.selectFocusedItem(e,t);d=void 0===s||n?e:{[s]:e}}this.triggerOnChange(d,t),o&&this.base.togglePopup(t),void 0===this.$props.filter&&void 0!==this.currentText&&(t.data.currentText=void 0),this.applyState(t)},applyValueOnRejectSuggestions(e,t){const{dataItems:i=[],textField:s,allowCustom:a,valuePrimitive:n}=this.$props,o=this.isOpen,l=this.getSelectedItemText();if(this.suggested="",e===l||""===e&&!I(l))return o&&!this.adaptiveState&&this.base.togglePopup(t),this.applyState(t);const r=C(i,e,s,!0);let d=null;-1!==r?d=i[r]:a&&e&&(d=s&&!n?{[s]:e}:e),this.triggerOnChange(d,t),void 0!==this.currentText&&(t.data.currentText=void 0,this.base.filterChanged("",t)),o&&!this.adaptiveState&&this.base.togglePopup(t),this.applyState(t)},selectFocusedItem(e,t){const i=this.isOpen,{dataItems:s=[],textField:a,virtual:n={skip:0},focusedItemIndex:o=x}=this.$props,l=n.skip,r=""===e&&0===l?0:o(s,e,a);return-1!==r?this.handleItemSelect(r+l,t):(this.triggerOnChange(null,t),void 0!==this.currentText&&(t.data.currentText=void 0)),i&&this.base.togglePopup(t),this.applyState(t)},handleItemClick(e,t){this.base.handleItemClick(e,t),this.valueDuringOnChange=void 0},handleFocus(e){this.$emit("focus",e)},handleBlur(e){if(this.currentFocused){const t=this.base.initState();t.data.currentFocused=!1,t.events.push({type:"blur"}),t.event=e,this.applyValueOnRejectSuggestions(e.currentTarget.value,t)}},onInputKeyDown(e){this.isScrolling&&(this.isScrolling=!1);const i=e.keyCode,s=this.isOpen,a=this.base.initState();if(a.event=e,!e.altKey&&(i===t.Keys.up||i===t.Keys.down))return e.preventDefault(),this.onNavigate(a,i),void this.applyState(a);const n=()=>{e.preventDefault(),this.base.togglePopup(a),this.applyState(a)};s?e.altKey&&i===t.Keys.up?n():i===t.Keys.enter?(e.preventDefault(),this.applyValueOnEnter(e.currentTarget.value,a)):i===t.Keys.esc&&(this.adaptiveState&&this.toggleBtnClick(e),n()):e.altKey&&i===t.Keys.down?n():i===t.Keys.esc&&this.applyValueOnRejectSuggestions(e.currentTarget.value,a)},inputOnChange(e){const t=this.base.initState();t.event=e;const i=this.isOpen,s=e.currentTarget,a=s.value;if(this.$props.suggest){const e=s.selectionEnd===a.length;let t=void 0!==this.$props.filter?this.$props.filter:this.currentText;I(t)||(t=F(this.computedValue(),this.$props.textField)||"");const i=t&&t===a,n=t&&t.length>a.length;i||n||!e?this.suggested="":this.suggestValue(a)}void 0===this.$props.filter&&(t.data.currentText=a),void 0!==this.currentFocusedItem&&(t.data.focusedItem=void 0),i||this.base.togglePopup(t),this.base.filterChanged(a,t),this.$props.filterable&&(t.data.group=void 0),this.applyState(t)},clearButtonClick(e){const t=this.base.initState();t.event=e,e.stopPropagation(),this.suggested="",this.base.filterChanged("",t),void 0===this.$props.filter&&void 0!==this.currentText&&(t.data.currentText=void 0),this.triggerOnChange(null,t),this.isOpen&&this.base.togglePopup(t),this.applyState(t)},getFocusedIndex(){const e=this.computedValue(),{dataItems:t=[],textField:i,dataItemKey:s,virtual:a={skip:0},focusedItemIndex:n=x}=this.$props,o=this.$props.filter?this.$props.filter:this.currentText;return I(e)&&void 0===o?t.findIndex((t=>O(t,e,s))):o?n(t,o,i):0===a.skip?0:-1},suggestValue(e){const{dataItems:t,textField:i}=this.$props;this.suggested=((e,t=[],i)=>{let s="";if(e){const a=t[x(t,e,i)];if(a){const t=F(a,i);e.toLowerCase()!==t.toLowerCase()&&(s=t.substring(e.length))}}return s})(e,t,i)},setValidity(){this.input&&this.input.setCustomValidity&&this.input.setCustomValidity(this.validity().valid?"":this.$props.validationMessage||"Please enter a valid value!")},compareValues(e,t){return!this.$props.valuePrimitive||"object"==typeof e&&null!==e||"object"==typeof t&&null!==t?O(e,t,this.$props.dataItemKey):e===t},triggerOnChange(e,t){const i=this.computedValue();!I(i)&&!I(e)||this.compareValues(i,e)||(void 0===this.$props.value&&(this.currentValue=e),this.valueDuringOnChange=e,t.events.push({type:"change"}))},applyState(e){this.base.applyState(e),this.valueDuringOnChange=void 0},calculateMedia(e){for(let t of e)this.windowWidth=t.target.clientWidth},repositionPopup(){this.base.repositionPopup()},onScroll(e){this.isScrolling=!0;const{vs:t,list:i}=this.base;t.scrollHandler(e);const s=this.base.initState(),{groupField:a}=this.$props;let n,{dataItems:o=[]}=this.$props;if(!a||!o.length)return;const l=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:i?i.children[0].offsetHeight:0),r=e.target.scrollTop-t.skip*l;a&&(o=this.base.getGroupedDataModernMode(o,a),n=o[0][a]);for(let e=1;e<o.length&&!(l*e>r);e++)o[e]&&o[e][a]&&(n=o[e][a]);n!==this.group&&(s.data.group=n,this.applyState(s))},getInputText:(e,t)=>I(e)&&""!==e?String(e):I(t)?String(t):"",getSelectedItemText(){const{textField:e,valuePrimitive:t}=this.$props,i=this.computedValue();if(I(i))return t?i&&"object"==typeof i?F(i,e):"string"==typeof i?""!==i?i:void 0:"number"==typeof i||"boolean"==typeof i?String(i):void 0:F(i,e)}},render(){let{dir:e,disabled:a,clearButton:o,label:d,textField:h,className:u,style:g,loading:m,icon:v,svgIcon:f,iconClassName:b,virtual:k,size:S,fillMode:V,rounded:x,adaptiveTitle:C,header:w,footer:N,groupStickyHeaderItemRender:R,placeholder:T,inputAttributes:M}=this.$props;const K=this.currentFocused,B=!this.$props.validityStyles||this.validity().valid,D=void 0!==this.$props.filter?this.$props.filter:this.currentText,P=this.getSelectedItemText(),j=this.getInputText(D,P),H=this.computedValue(),z=this.$props.valuePrimitive?!!this.findByFieldValue(this.valueField,H)||this.$props.allowCustom&&I(H)&&""!==H:I(H),A=o&&(!!j||z),E=this.base,W=E.vs,q=this.$props.id||this.inputId,G=Object.assign({},{animate:!0,height:"200px"},this.$props.popupSettings),U=l.provideLocalizationService(this).toLanguageString(c,y[c]),Y=this.isOpen,J=this.adaptiveState;W.enabled=void 0!==k,void 0!==k&&(W.skip=k.skip,W.total=k.total,W.pageSize=k.pageSize),void 0===this.group&&void 0!==this.$props.groupField&&(this.group=F(this.$props.dataItems[0],this.$props.groupField));const Q=e=>{const t=this.base.initState();t.event=e;const i=e.event.target.value;t.data.text=i,this.base.filterChanged(i,t),this.applyState(t)},X=t.templateRendering.call(this,(()=>[i.createVNode("div",{class:"k-actionsheet-titlebar-group k-hbox"},[i.createVNode("div",{class:"k-actionsheet-title"},[i.createVNode("div",{class:"k-text-center"},[C]),T&&i.createVNode("div",{class:"k-actionsheet-subtitle k-text-center"},[T])]),i.createVNode("div",{class:"k-actionsheet-actions"},[i.createVNode(s.Button,{tabIndex:5,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.toggleBtnClick,icon:"x",svgIcon:n.xIcon},null)])]),i.createVNode("div",{class:"k-actionsheet-titlebar-group k-actionsheet-filter"},[ae.call(this)])]),t.getListeners.call(this)),se=t.templateRendering.call(this,(()=>{const e=E.getTemplateDef.call(this,w,i.h),s=E.getTemplateDef.call(this,N,i.h),a=t.templateRendering.call(this,R,t.getListeners.call(this)),n=this.$props.dataItems||[];return i.createVNode("div",{class:"k-list-container"},[e&&i.createVNode("div",{class:"k-list-header"},[e]),i.createVNode("div",{class:t.classNames("k-list",{[`k-list-${te[S]||S}`]:!J&&S,"k-list-lg":!!J,"k-virtual-list":W.enabled})},[w&&i.createVNode("div",{class:"k-list-header"},[w]),this.group&&0!==n.length&&i.createVNode(_,{group:this.group,render:a},null),ne.call(this),s&&i.createVNode("div",{class:"k-list-footer"},[s])])])}),t.getListeners.call(this)),ae=function(){const e=this.base.initState().data.text;return i.createVNode($,{adaptiveMode:!0,value:e,ref:"filterInput",onChange:e=>Q(e),onKeydown:this.onInputKeyDown,size:this.$props.size,rounded:this.$props.rounded,fillMode:this.$props.fillMode},null)},ne=function(){let e;const{dataItemKey:s,groupField:a}=this.$props;let n=this.$props.dataItems||[];const o=t.templateRendering.call(this,this.$props.itemRender,t.getListeners.call(this)),l=t.templateRendering.call(this,this.$props.groupHeaderItemRender,t.getListeners.call(this)),r=t.templateRendering.call(this,this.$props.listNoDataRender,t.getListeners.call(this));k||(k={skip:0});const d=k.skip,p=`translateY(${W.translate}px)`,u=Y?this.getFocusedIndex():void 0,c=I(D)&&D!==P?null:this.computedValue();return a&&(n=this.base.getGroupedDataModernMode(n,a)),i.createVNode(L,{id:E.listBoxId,show:Y,dataItems:n,focusedIndex:u,value:c,textField:h,valueField:s,optionsGuid:E.guid,ref:"list",wrapperStyle:{maxHeight:J?void 0:G.height},wrapperCssClass:t.classNames("k-list-content",{"k-list-scroller":!this.$props.virtual}),listStyle:W.enabled?{transform:p}:void 0,key:"listkey",skip:d,onListclick:this.handleItemClick,itemRender:o,groupHeaderItemRender:l,noDataRender:r,groupField:a,onScroll:this.onScroll},function(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i.isVNode(e)}(e=oe.call(this))?e:{default:()=>[e]})},oe=function(){return W.enabled&&i.createVNode("div",{ref:"scrollElement",key:"scrollElementKey"},null)},le=function(){const s=t.templateRendering.call(this,this.$props.groupStickyHeaderItemRender,t.getListeners.call(this)),a=E.getTemplateDef.call(this,w),n=E.getTemplateDef.call(this,N),o=this.$props.dataItems||[];return void 0===this.group&&void 0!==this.$props.groupField&&(this.group=F(o[0],this.$props.groupField)),i.createVNode(p,{ref:"container",onMousedown:e=>e.preventDefault(),width:this.popupWidth,popupSettings:{...G,anchor:this.anchor,show:Y,popupClass:t.classNames(G.popupClass,"k-list",{[`k-list-${te[S]||S}`]:S,"k-virtual-list":this.base.vs.enabled}),className:t.classNames("k-list-container",G.className)},dir:void 0!==e?e:this.base.dirCalculated},{default:()=>[a&&i.createVNode("div",{class:"k-list-header"},[a]),this.group&&0!==o.length&&i.createVNode(_,{group:this.group,render:s},null),ne.call(this),n&&i.createVNode("div",{class:"k-list-footer"},[n])]})},re=function(e,t){const{tabIndex:s,dataItems:n=[],dataItemKey:o}=this.$props;k||(k={skip:0});const l=this.computedValue(),r=Math.max(0,n.findIndex((e=>O(e,l,o))));return this.suggested&&!O(this.valueOnDidUpdate,l,o)&&(this.suggested=""),i.createVNode(Z,{id:t,placeholder:T,tabIndex:s||void 0,accessKey:this.$props.accessKey,value:e+this.suggested,suggestedText:this.suggested,ref:e=>{this.inputRef=e},onKeydown:this.onInputKeyDown,onChange:this.inputOnChange,onFocus:this.base.handleFocus,onBlur:this.handleBlur,disabled:a,expanded:Y,owns:this.base.listBoxId,activedescendant:this.base.guid+"-"+(r+k.skip),ariaLabelledBy:this.$props.ariaLabelledBy,ariaDescribedBy:this.$props.ariaDescribedBy,ariaLabel:this.$props.ariaLabel,inputAttributes:M},null)},de=[i.h(function(){return i.createVNode("span",{class:t.classNames("k-combobox k-input",{[`k-input-${te[S]||S}`]:S,[`k-rounded-${ie[x]||x}`]:x,[`k-input-${V}`]:V,"k-invalid":!B,"k-loading":m,"k-required":this.required,"k-disabled":a,"k-focus":K&&!a},u),ref:t.setRef(this,"kendoAnchor"),style:d?{...g,width:void 0}:g,dir:e},[re.call(this,j||"",q),A&&!m&&i.createVNode(ee,{onClearclick:this.clearButtonClick,key:"clearbutton"},null),m&&i.createVNode(t.Icon,{name:"loading",class:"k-input-loading-icon",key:"loading"},null),i.createVNode(s.Button,{type:"button",tabIndex:-1,"aria-label":U,size:S,fillMode:V,rounded:null,class:"k-input-button",icon:v||"caret-alt-down",svgIcon:f||n.caretAltDownIcon,iconClass:b,onClick:this.toggleBtnClick,onMousedown:e=>e.preventDefault()},null),!J&&le.call(this)])}.call(this),{...this.$attrs}),J&&function(){return i.createVNode(r.ActionSheet,{expand:Y,animation:!0,animationStyles:this.animationStyles,className:this.classNameAdaptive,contentClassName:"!k-overflow-hidden",header:X,content:se,onClose:this.toggleBtnClick,navigatableElements:["input.k-input-inner",".k-actionsheet-actions > button"]},null)}.call(this)];return d?i.createVNode("span",{class:this.spanClassNames,onFocusin:this.handleFocus,dir:this.$props.dir},[de,this.$props.label?q?i.createVNode("label",{for:q,class:"k-floating-label"},[this.$props.label]):i.createVNode("span",{class:"k-label"},[this.$props.label]):null]):de}}),{sizeMap:ae,roundedMap:ne}=t.kendoThemeMaps,oe=i.defineComponent({name:"KendoAutoComplete",model:{event:"changemodel"},props:{id:String,defaultValue:{type:[String],default:void 0},name:String,modelValue:{type:[String],default:void 0},value:{type:[String],default:void 0},label:{type:String},placeholder:String,required:{type:Boolean,default:!1},valid:{type:Boolean,default:void 0},validationMessage:{type:String,default:void 0},validityStyles:{type:Boolean,default:!0},opened:{type:Boolean,default:void 0},disabled:Boolean,dir:{type:String,default:void 0},tabIndex:{type:Number,default:void 0},readonly:Boolean,accessKey:String,dataItems:Array,textField:String,loading:Boolean,popupSettings:{type:Object,default:function(){return{animate:!0,height:"200px",anchor:""}}},itemRender:[String,Function,Object],groupHeaderItemRender:[String,Function,Object],groupStickyHeaderItemRender:[String,Function,Object],listNoDataRender:[String,Function,Object],focusedItemIndex:Function,header:[String,Function,Object],footer:[String,Function,Object],suggest:{type:[Boolean,String],default:!1},ariaLabel:{type:String,default:void 0},ariaLabelledBy:String,ariaDescribedBy:String,rounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},groupField:{type:String},inputAttributes:Object},data:()=>({hasMounted:!1,currentText:"",currentValue:"",currentFocused:!1,currentOpened:!1,focusedItem:void 0,searchState:{word:"",last:""},valueDuringOnChange:{},suggested:"",group:void 0,isScrolling:!1,popupWidth:void 0,itemHeight:0}),created(){this.valueDuringOnChange=void 0,this.currentText=void 0,this.currentValue=void 0,this.currentFocused=void 0,this.currentOpened=void 0,this.base=new G(this),this.anchor=t.guid(),this.inputId=t.guid()},setup:()=>({inputRef:i.ref(null),kendoAnchorRef:i.ref(null)}),mounted(){this.hasMounted=!0,this.input=this.inputRef.input,this.base.wrapper=t.getRef(this,"kendoAnchor"),this.element=t.getRef(this,"kendoAnchor"),this.base.didMount(),this.setValidity()},watch:{currentOpened:function(e,t){this.prevCurrentOpened=t},opened:function(e,t){this.prevOpened=t},dataItems:function(e,t){this.prevData=t},focusedItem:function(e,t){this.prevFocusedItem=t}},updated(){var e;const{groupField:t="",dataItems:i=[]}=this.$props,s=this.focusedIndex(),a=i[s],n=this.prevData!==i,o=void 0!==a&&this.prevFocusedItem!==a,l=void 0!==this.$props.opened?this.$props.opened:this.currentOpened,r=void 0!==this.prevOpened?this.prevOpened:this.prevCurrentOpened,d=!r&&l,h=this.$refs.list;if(h&&(this.base.vs.list=h.list,this.base.list=h.list),""===t)(l&&(o||n)||d)&&this.base.scrollToItem(s);else if(!this.isScrolling){let s=null==(e=this.base.getGroupedDataModernMode(i,t))?void 0:e.indexOf(a);d&&(i&&0!==i.length&&this.base.resetGroupStickyHeader(i[0][t],this),this.base.scrollToItem(s)),l&&r&&o&&this.base.scrollToItem(s)}this.setValidity()},computed:{spanClassNames(){const e=!this.hasMounted||!this.$props.validityStyles||this.validity().valid;return{"k-floating-label-container":!0,"k-focus":this.currentFocused,"k-empty":!this.computedValue(),"k-invalid":!e&&void 0!==e,"k-rtl":"rtl"===this.$props.dir}}},methods:{focus(){this.input&&this.input.focus()},computedValue(){let e;return void 0!==this.valueDuringOnChange?e=this.valueDuringOnChange:void 0!==this.$props.value?e=this.$props.value:void 0!==this.$props.modelValue?e=this.$props.modelValue:void 0!==this.currentValue?e=this.currentValue:void 0!==this.$props.defaultValue&&(e=this.$props.defaultValue),e},primitiveValue(){const e=this.computedValue();return this.valuePrimitive?F(e,this.valueField):e},validity(){const e=void 0!==this.$props.validationMessage,t=!this.$props.required||null!==this.computedValue()&&""!==this.computedValue()&&void 0!==this.computedValue();return{customError:e,valid:void 0!==this.$props.valid?this.$props.valid:t,valueMissing:null===this.computedValue()}},handleItemSelect(e,t){const{dataItems:i=[]}=this.$props,s=i[e],a=F(s,this.$props.textField);this.triggerOnChange(a,t,{item:s}),this.triggerOnSelect(t,{item:s})},itemFocus(e,t){const{dataItems:i=[],textField:s}=this.$props,a=i[e];O(this.$data.focusedItem,a,s)||(t.data.focusedItem=a)},togglePopup(e){this.base.togglePopup(e)},onNavigate(e,t){const i=this.computedValue(),{dataItems:s=[],textField:a,focusedItemIndex:n}=this.$props,o=void 0!==this.$data.focusedItem?s.findIndex((e=>O(e,this.$data.focusedItem,a))):n?n(s,i,a):s.indexOf(R(s,i,a)),l=this.base.navigation.navigate({keyCode:t,current:o,max:s.length-1,min:0});void 0!==l&&this.itemFocus(l,e),this.applyState(e)},applyInputValue(e,i,s){const a=void 0!==this.$props.opened?this.$props.opened:this.currentOpened,{dataItems:n=[],textField:o}=this.$props;if(this.suggested="",a&&s===t.Keys.enter){const t=n[this.focusedIndex(e)],s=F(t,o);this.triggerOnChange(s,i,{item:t}),this.triggerOnSelect(i,{item:t})}a&&this.togglePopup(i),this.applyState(i)},setValidity(){this.input&&this.input.setCustomValidity&&this.input.setCustomValidity(this.validity().valid?"":this.$props.validationMessage||"Please enter a valid value!")},handleItemClick(e,t){this.base.handleItemClick(e,t),this.valueDuringOnChange=void 0},onChangeHandler(e){const t=this.base.initState(),i=e.target,s=i.value,a=i.selectionEnd===s.length;t.event=e;const n=this.suggested,o=this.computedValue(),l=o&&n&&o.substring(0,o.length-n.length),r=l&&l===s,d=l&&l.length>s.length,{suggest:h}=this.$props,p=void 0!==this.$props.opened?this.$props.opened:this.currentOpened;if(void 0!==h&&!1!==h){r||d||!a?this.suggested="":this.suggestValue(s);const e=s+this.suggested,i={userInput:s,value:this.suggested};this.triggerOnChange(e,t,{suggestion:i})}else this.suggested="",this.triggerOnChange(s,t);(!p&&s||p&&!s)&&this.togglePopup(t),t.data.focusedItem=void 0,this.prevData&&this.prevData.length!==this.$props.dataItems&&(t.data.group=void 0),this.applyState(t)},clearButtonClick(e){const t=this.base.initState(),i=void 0!==this.$props.opened?this.$props.opened:this.currentOpened;t.event=e;this.suggested="",this.triggerOnChange("",t),void 0!==this.$data.focusedItem&&(t.data.focusedItem=void 0),i&&this.togglePopup(t),this.applyState(t)},onInputKeyDown(e){this.isScrolling&&(this.isScrolling=!1);const i=e.keyCode,s=void 0!==this.$props.opened?this.$props.opened:this.currentOpened,a=this.base.initState(),n=this.computedValue();a.event=e;const o=()=>{s&&e.preventDefault()};i===t.Keys.enter||s&&i===t.Keys.esc||e.altKey&&i===t.Keys.up?(o(),this.applyInputValue(e.currentTarget.value,a,e.keyCode)):e.altKey||i!==t.Keys.up&&i!==t.Keys.down?s||i!==t.Keys.esc?!s&&n&&e.altKey&&i===t.Keys.down&&(this.togglePopup(a),this.applyState(a)):this.clearButtonClick(e):(o(),this.onNavigate(a,i))},handleBlur(e){if(this.currentFocused){const t=this.base.initState();t.data.focused=!1,t.events.push({type:"blur"}),t.event=e,this.applyInputValue(e.currentTarget.value,t),this.currentFocused=!1}},triggerOnChange(e,t,i){this.computedValue()===e&&!i||(t.data.currentValue=e,this.valueDuringOnChange=e,t.events.push({type:"change",...i||{}}))},triggerOnSelect(e,t){e.events.push({type:"select",...t||{}})},applyState(e){this.base.applyState(e),this.valueDuringOnChange=void 0},suggestValue(e){if(this.suggested="",e){const{dataItems:t=[],textField:i}=this.$props,s=t[x(t,e,i)];if(s){const t=F(s,i);e.toLowerCase()!==t.toLowerCase()&&(this.suggested=t.substring(e.length))}}},focusedIndex(e){const{dataItems:t=[],textField:i,focusedItemIndex:s}=this.$props,a=void 0!==e?e:this.computedValue();return void 0!==this.$data.focusedItem?t.findIndex((e=>O(e,this.$data.focusedItem,i))):s?s(t,a,i):Math.max(0,t.indexOf(R(t,a,i)))},repositionPopup(){this.base.repositionPopup()},onScroll(e){this.isScrolling=!0;const t=this.base.initState(),{list:i}=this.base,{groupField:s}=this.$props;let{dataItems:a=[]}=this.$props;if(!s||!a.length)return;let n=this.itemHeight||(i.children?i.children[0].offsetHeight:0);const o=e.target.scrollTop;s&&(a=this.base.getGroupedDataModernMode(a,s));let l=a[0][s];0===n&&(n=28);for(let e=1;e<a.length&&!(n*e>o);e++)a[e]&&a[e][s]&&(l=a[e][s]);l!==this.group&&(t.data.group=l,this.applyState(t))}},render(){const{dir:e,disabled:s,label:a,size:n,rounded:o,fillMode:l,style:r,loading:d,suggest:h,inputAttributes:u}=this.$props,c=!this.$props.validityStyles||this.validity().valid,g=this.currentFocused,m=this.base,v=this.computedValue(),f=!d&&!!v,b=this.$props.id||this.inputId,y=Object.assign({},{animate:!0,height:"200px"},this.$props.popupSettings);"string"==typeof h&&(this.suggested=h);const k=function(){const{textField:e,groupField:s}=this.$props;let a=this.$props.dataItems||[];const n=t.templateRendering.call(this,this.$props.itemRender,t.getListeners.call(this)),o=t.templateRendering.call(this,this.$props.groupHeaderItemRender,t.getListeners.call(this)),l=t.templateRendering.call(this,this.$props.listNoDataRender,t.getListeners.call(this)),r=void 0!==this.$props.opened?this.$props.opened:this.currentOpened;return s&&(a=this.base.getGroupedDataModernMode(a,s)),i.createVNode(L,{id:m.listBoxId,show:r,dataItems:a.slice(),focusedIndex:this.focusedIndex(),value:v,textField:e,valueField:e,highlightSelected:!1,optionsGuid:m.guid,ref:"list",wrapperStyle:{maxHeight:y.height},wrapperCssClass:"k-list-content",onListclick:this.handleItemClick,itemRender:n,groupHeaderItemRender:o,noDataRender:l,groupField:s,onScroll:this.onScroll},null)},S=i.createVNode("span",{class:t.classNames("k-autocomplete k-input",{[`k-input-${ae[n]||n}`]:n,[`k-rounded-${ne[o]||o}`]:o,[`k-input-${l}`]:l,"k-invalid":!c,"k-focus":g&&!s,"k-loading":d,"k-required":this.required,"k-disabled":s}),ref:t.setRef(this,"kendoAnchor"),style:a?{...r,width:void 0}:r,dir:e},[function(e,t){const{placeholder:a,tabIndex:n,readonly:o}=this.$props,l=void 0!==this.$props.opened?this.$props.opened:this.currentOpened;return i.createVNode(Z,{id:t,placeholder:a,tabIndex:n,accessKey:this.$props.accessKey,value:e,suggestedText:this.suggested,focused:g,name:this.$props.name,ref:e=>{this.inputRef=e},onKeydown:this.onInputKeyDown,onChange:this.onChangeHandler,onFocus:m.handleFocus,onBlur:this.handleBlur,disabled:s,readOnly:o,expanded:l,owns:m.listBoxId,activedescendant:"option-"+m.guid+"-"+this.focusedIndex(),onClearbuttonclick:this.clearButtonClick,ariaLabelledBy:this.$props.ariaLabelledBy,ariaDescribedBy:this.$props.ariaDescribedBy,ariaLabel:this.$props.ariaLabel,inputAttributes:u},null)}.call(this,v||"",b),f&&!d&&i.createVNode(ee,{onClearclick:this.clearButtonClick},null),i.createVNode("span",{class:d?"k-input-loading-icon k-icon k-i-loading":void 0},null),function(){const s=t.templateRendering.call(this,this.$props.header,t.getListeners.call(this)),a=t.templateRendering.call(this,this.$props.footer,t.getListeners.call(this)),o=t.templateRendering.call(this,this.$props.groupStickyHeaderItemRender,t.getListeners.call(this)),l=t.getTemplate.call(this,{h:i.h,template:s}),r=t.getTemplate.call(this,{h:i.h,template:a}),d=void 0!==this.$props.opened?this.$props.opened:this.currentOpened,h=this.$props.dataItems||[];return void 0===this.group&&void 0!==this.$props.groupField&&(this.group=F(h[0],this.$props.groupField)),i.createVNode(p,{onMousedown:e=>e.preventDefault(),width:this.popupWidth,ref:"container",popupSettings:{...y,anchor:this.anchor,show:d,popupClass:t.classNames(y.popupClass,"k-list",{[`k-list-${ae[n]||n}`]:n}),className:t.classNames("k-list-container",y.className)},dir:void 0!==e?e:this.base.dirCalculated},{default:()=>[l&&i.createVNode("div",{class:"k-list-header"},[l]),this.group&&0!==h.length&&i.createVNode(_,{group:this.group,render:o},null),k.call(this),r&&i.createVNode("div",{class:"k-list-footer"},[r])]})}.call(this)]);return a?i.createVNode("span",{class:this.spanClassNames,dir:this.$props.dir},[S,this.$props.label?b?i.createVNode("label",{for:b,class:"k-floating-label"},[this.$props.label]):i.createVNode("span",{class:"k-label"},[this.$props.label]):null]):S}}),le=e=>e.preventDefault(),re=e=>e.event.stopPropagation(),de=i.defineComponent({name:"TagList",inheritAttrs:!1,props:{removeTagIcon:String,dataItems:Array,guid:String,focused:Object,tagRender:[String,Function,Object],tagsRounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},id:String,className:String,size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},onTagdelete:Function},computed:{wrapperClass(){const{size:e,disabled:i}=this.$props;return{"k-chip-list":!0,[`k-chip-list-${t.kendoThemeMaps.sizeMap[e]||e}`]:e,"k-disabled":i}}},methods:{onTagDelete(e,t){this.$emit("tagdelete",e,t)}},render(){const e=t.getDefaultSlots(this),{dataItems:a,guid:n,size:o,disabled:l,tagsRounded:r,removeTagIcon:d,id:h,className:p}=this.$props;return i.createVNode("div",{class:t.classNames("k-input-values",p),id:h,style:this.$attrs.style},[i.createVNode("div",{class:this.wrapperClass,role:"listbox",id:"tagslist-"+n},[a.map((function(e,h){const p=`tag-${n}-${e.text.toString().replace(/\s+/g,"-")}`,u=e===this.$props.focused,c=i.createVNode(s.Chip,{id:p,tabIndex:-1,"aria-selected":u,role:"option","aria-setsize":a.length,key:e.text+h,text:e.text,disabled:l,removable:!0,onRemove:t=>this.onTagDelete(e.data,t),removeIcon:d,onMousedown:le,onClick:re,class:u?"k-focus":void 0,rounded:r,size:o},null);return t.getTemplate.call(this,{h:i.h,template:this.$props.tagRender,defaultRendering:c,additionalProps:{...this.$props,tagData:e,index:h},additionalListeners:{tagdelete:this.onTagDelete}})}),this)]),e])}});var he=(e=>(e[e.PopupList=0]="PopupList",e[e.TagsList=1]="TagsList",e))(he||{});const{sizeMap:pe,roundedMap:ue}=t.kendoThemeMaps;function ce(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i.isVNode(e)}const ge=e=>e.preventDefault(),me=(e,t,i)=>!!e==!!t&&e.text===t.text&&(e===t||w(e.data,t.data,i)),ve=e=>e===fe.CustomItem;var fe=function(e){return e[e.None=0]="None",e[e.ListItem=1]="ListItem",e[e.CustomItem=2]="CustomItem",e}(fe||{});const be=i.defineComponent({name:"KendoMultiSelect",emits:{changemodel:e=>!0,"update:modelValue":e=>!0,filterchange:e=>!0,change:e=>!0,pagechange:e=>!0,focus:e=>!0,blur:e=>!0,open:e=>!0,close:e=>!0,scroll:e=>!0},model:{event:"changemodel"},props:{autoClose:{type:Boolean,default:!0},removeTagIcon:String,allowCustom:Boolean,modelValue:Array,opened:{type:Boolean,default:void 0},disabled:Boolean,dir:String,tabIndex:{type:Number,default:0},accessKey:String,dataItems:Array,textField:String,label:String,loading:Boolean,name:String,value:Array,defaultValue:Array,valueField:String,valuePrimitive:Boolean,dataItemKey:String,placeholder:String,tags:Array,required:{type:Boolean,default:!1},valid:{type:Boolean,default:void 0},validate:{type:Boolean},validationMessage:{type:String,default:void 0},validityStyles:{type:Boolean,default:!0},tagRender:[String,Function,Object],id:String,popupSettings:{type:Object,default:function(){return{animate:!0,height:"200px",anchor:""}}},itemRender:[String,Function,Object],groupHeaderItemRender:[String,Function,Object],groupStickyHeaderItemRender:[String,Function,Object],listNoDataRender:[String,Function,Object],focusedItemIndex:Function,virtual:{type:Object,default:void 0},header:[String,Function,Object],footer:[String,Function,Object],filterable:Boolean,filter:{type:String,default:void 0},ariaLabel:{type:String,default:void 0},ariaLabelledBy:String,ariaDescribedBy:String,rounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},tagsRounded:{type:String,default:"medium",validator:function(e){return["small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return["solid","flat","outline"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},groupField:{type:String},adaptive:{type:Boolean,default:void 0},adaptiveTitle:{type:String,default:void 0},inputAttributes:Object},setup:()=>({inputRef:i.ref(null),kendoAnchorRef:i.ref(null),kendoLocalizationService:i.inject("kendoLocalizationService",{})}),computed:{spanClassNames(){const e=!this.hasMounted||!this.$props.validityStyles||this.validity().valid,t=this.currentText||F(this.computedValue()[0],this.$props.textField);return{"k-floating-label-container":!0,"k-focus":this.currentFocused,"k-empty":!(t&&0!==t),"k-invalid":!e&&void 0!==e,"k-rtl":"rtl"===this.$props.dir}},isOpen(){return void 0!==this.$props.opened?this.$props.opened:this.currentOpened},animationStyles(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?{top:0,width:"100%",height:"100%"}:void 0},classNameAdaptive(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},adaptiveState(){return this.windowWidth<=this.adaptiveModeBreakpoints.medium&&this.$props.adaptive}},created(){this.observer=null,this.valuesItemsDuringOnChange=null,this._tags=[],this._skipFocusEvent=!1,this.scrollToFocused=!1,this.base=new G(this),this.anchor=t.guid(),this.inputId=t.guid()},inject:{kendoLocalizationService:{default:null},adaptiveModeBreakpoints:{default:{small:U,medium:Y}}},data:()=>({hasMounted:!1,currentText:"",currentValue:"",currentFocused:!1,currentOpened:!1,currentFocusedIndex:void 0,currentFocusedTag:void 0,searchState:{word:"",last:""},suggested:"",activedescendant:he.PopupList,group:void 0,isScrolling:!1,itemHeight:0,windowWidth:0,popupWidth:void 0,initialAdaptiveRenderingValues:void 0}),watch:{currentOpened:function(e,t){this.prevCurrentOpened=t},opened:function(e,t){this.prevOpened=t},virtual:function(e,t){e&&t&&e.total!==t.total&&(this.virtualTotalHasChanged=!0)},isOpen:function(e){this.initialAdaptiveRenderingValues=e?this.base.component.currentValue:void 0,setTimeout((()=>{const e=document.querySelector(".k-list-item");this.itemHeight=this.base.getListItemHeight(e)}),100)}},updated(){var e;const{virtual:t,groupField:i="",dataItems:s=[]}=this.$props,a=t?t.skip:0,n=this.isOpen,o=void 0!==this.prevOpened?this.prevOpened:this.prevCurrentOpened,l=!o&&n,r=o&&!n,d=Object.assign({},{animate:!0,height:"200px"},this.$props.popupSettings),h=this.$refs.list,p=this.$refs.scrollElement;if(h&&(this.base.vs.list=h.list,this.base.list=h.list),p&&(this.base.vs.scrollElement=p),h&&s.length&&this.base.vs.scrollerRef(h.$el),!d.animate&&r&&this.onPopupClosed(),!this.isScrolling)if(t&&this.virtualTotalHasChanged)this.base.vs.calcScrollElementHeight(),this.base.vs.reset(),this.virtualTotalHasChanged=!1;else{let{focusedItem:r,focusedIndex:d}=this.getFocusedState();""!==i&&(d=null==(e=this.base.getGroupedDataModernMode(s,i))?void 0:e.indexOf(r)),l&&t?(this.base.scrollToVirtualItem(t,d-a),this.prevCurrentOpened=!0):l&&!t?(s&&0!==s.length&&this.base.resetGroupStickyHeader(s[0][i],this),this.base.scrollToItem(d),this.prevCurrentOpened=!0):n&&o&&r&&this.base.scrollToItem(d-a)}this.scrollToFocused=!1,this.searchBarRef(),this.setValidity()},mounted(){this.observer=t.canUseDOM&&window.ResizeObserver&&new ResizeObserver(this.calculateMedia),null!=document&&document.body&&this.observer&&this.observer.observe(document.body),this.hasMounted=!0,this.input=this.inputRef.input,this.base.wrapper=t.getRef(this,"kendoAnchor"),this.element=t.getRef(this,"kendoAnchor"),this.base.didMount(),this.searchBarRef(),this.setValidity()},methods:{clearFilter(e){this.currentText&&(e.data.currentText=""),this.base.filterChanged("",e)},computedValue(){const e=[];return this.valuesItemsDuringOnChange?e.push(...this.valuesItemsDuringOnChange):this.$props.value?e.push(...this.$props.value):void 0!==this.$props.modelValue?e.push(...this.$props.modelValue):this.currentValue?e.push(...this.currentValue):this.$props.defaultValue&&e.push(...this.$props.defaultValue),this.valuePrimitive&&this.findByFieldValue(this.valueField,e)||e},findByFieldValue(e,t){return t.map((t=>{const i=this.dataItems.findIndex((i=>F(i,e)===t));return this.dataItems[i]||t}))},primitiveValue(){const e=this.computedValue(),t=e.map((e=>F(e,this.valueField)));return this.valuePrimitive?t:e},validity(){const e=void 0!==this.$props.validationMessage,t=this.computedValue(),i=!this.$props.required||null!==t&&t.length>0&&void 0!==t;return{customError:e,valid:void 0!==this.$props.valid?this.$props.valid:i,valueMissing:null===t}},handleItemSelect(e,t){const{dataItems:i=[],dataItemKey:s,virtual:a}=this.$props,n=this.computedValue(),o=i[e-(a?a.skip:0)],l=n.findIndex((e=>O(e,o,s)));let r=[];-1!==l?(r=n,r.splice(l,1)):r=[...n,o],(void 0!==this.$props.filter?this.$props.filter:this.currentText)&&!this.adaptiveState&&this.clearFilter(t),void 0!==this.currentFocusedIndex&&(t.data.currentFocusedIndex=void 0),this.triggerOnChange(r,t),this.base.triggerPageChangeCornerItems(o,t)},onTagDelete(e,t){const i=this.isOpen,s=this.base.initState();s.event=t,i&&this.base.togglePopup(s),this.currentFocused||(s.data.currentFocused=!0);const a=this.computedValue();N(a,e,this.$props.dataItemKey),this.triggerOnChange(a,s),this.applyState(s)},onNavigate(e,i){const{allowCustom:s,dataItems:a=[]}=this.$props,n=this.isOpen,o=void 0!==this.$props.filter?this.$props.filter:this.currentText,{focusedType:l,focusedIndex:r}=this.getFocusedState(),d=s&&o,h=ve(l),p=this.base,u=p.vs;if(n&&i===t.Keys.up&&h)void 0!==this.currentFocusedIndex&&(e.data.currentFocusedIndex=void 0);else{const t=p.navigation.navigate({keyCode:i,current:r,max:(u.enabled?u.total:a.length)-1,min:d?-1:0});void 0!==t&&(this.itemFocus(t,e),this.scrollToFocused=!0)}this.applyState(e)},itemFocus(e,t){const{dataItems:i=[],allowCustom:s,virtual:a}=this.$props,n=a?a.skip:0,o=void 0!==this.$props.filter?this.$props.filter:this.currentText,{focusedIndex:l}=this.getFocusedState(),r=s&&o,d=i[e-n];d&&l!==e?this.currentFocusedIndex!==e&&(t.data.currentFocusedIndex=e,t.data.activedescendant=he.PopupList):r&&-1===e&&void 0!==this.currentFocusedIndex&&(t.data.currentFocusedIndex=void 0),this.base.triggerPageChangeCornerItems(d,t)},searchBarRef(){this.input&&this.currentFocused&&setTimeout((()=>this.input.focus()),0)},onChangeHandler(e){const t=this.base.initState(),i=e&&(e.currentTarget&&e.currentTarget.value||e.value),s=this.isOpen;t.event=e,void 0===this.$props.filter&&(t.data.currentText=i),t.data.currentFocusedIndex=void 0,s||this.base.togglePopup(t),this.base.filterChanged(i,t),this.$props.filterable&&(t.data.group=void 0),this.applyState(t)},clearButtonClick(e){const t=this.isOpen,i=this.base.initState();i.event=e,e.stopPropagation(),this.computedValue().length>0&&this.triggerOnChange([],i),void 0!==this.currentFocusedIndex&&(i.data.currentFocusedIndex=void 0),t&&this.base.togglePopup(i);const s=void 0!==this.$props.filter?this.$props.filter:this.currentText;I(s)&&""!==s&&this.base.filterChanged("",i),this.currentText&&(i.data.currentText=""),this.applyState(i)},onInputKeyDown(e){this.isScrolling&&(this.isScrolling=!1);const i=e.keyCode,s=void 0!==this.$props.filter?this.$props.filter:this.currentText,a=this.isOpen,{focusedItem:n}=this.getFocusedState(),o=this.base.initState();if(o.event=e,!s&&this.computedValue().length>0&&(i===t.Keys.left||i===t.Keys.right||i===t.Keys.home||i===t.Keys.end||i===t.Keys.delete||i===t.Keys.backspace))return this.onTagsNavigate(e,o);const l=()=>{e.preventDefault(),this.base.togglePopup(o),this.applyState(o)};a?e.altKey&&i===t.Keys.up?l():i===t.Keys.up||i===t.Keys.down?(e.preventDefault(),this.onNavigate(o,i)):i===t.Keys.enter?(e.preventDefault(),this.$props.allowCustom&&s&&null===n?this.customItemSelect(e):this.selectFocusedItem(e)):i===t.Keys.esc&&(this.adaptiveState&&this.handleWrapperClick(e),l()):e.altKey&&i===t.Keys.down&&l()},onTagsNavigate(e,i){const s=e.keyCode,a=this.currentFocusedTag,n=this._tags,o=this.$props.dataItemKey;let l,r=a?n.findIndex((e=>me(e,a,o))):-1;const d=-1!==r;if(s===t.Keys.left)r=d?Math.max(0,r-1):n.length-1,l=n[r];else if(s===t.Keys.right)r===n.length-1?l=void 0:d&&(r=Math.min(n.length-1,r+1),l=n[r]);else if(s===t.Keys.home)l=n[0];else if(s===t.Keys.end)l=n[n.length-1];else if(s===t.Keys.delete){if(d){const e=this.computedValue();N(e,n[r].data,o),this.triggerOnChange(e,i)}}else if(s===t.Keys.backspace){const e=this.computedValue();if(d)N(e,n[r].data,o),this.triggerOnChange(e,i);else if(!d&&n.length){const t=n.pop();N(e,t.data,o),this.triggerOnChange(e,i)}}l!==a&&(i.data.currentFocusedTag=l,i.data.activedescendant=he.TagsList),this.applyState(i)},triggerOnChange(e,t){void 0===this.$props.value&&(t.data.currentValue=[...e]),this.valuesItemsDuringOnChange=[],this.setItems(e,this.valuesItemsDuringOnChange),t.events.push({type:"change"})},selectFocusedItem(e){const{dataItems:t=[],virtual:i}=this.$props,{focusedIndex:s}=this.getFocusedState();void 0!==t[s-(i?i.skip:0)]&&this.handleItemClick(s,e)},setItems(e,t){t.length=0,t.push(...e)},getFocusedState(){const e=this.currentFocusedIndex,t=void 0!==this.$props.filter?this.$props.filter:this.currentText,{allowCustom:i,dataItems:s=[],dataItemKey:a,virtual:n,textField:o,focusedItemIndex:l=x}=this.$props,r=n&&n.skip||0;let d;if(void 0!==e)return{focusedIndex:e,focusedItem:s[e-r],focusedType:fe.ListItem};const h=this.computedValue();if(i&&t)return{focusedItem:null,focusedIndex:-1,focusedType:fe.CustomItem};if(t)return d=l(s,t,o),{focusedItem:s[d],focusedIndex:d+r,focusedType:fe.ListItem};if(h.length){const e=h[h.length-1];return d=s.findIndex((t=>O(t,e,a))),void 0!==s[d]?{focusedIndex:d+r,focusedItem:s[d],focusedType:fe.ListItem}:{focusedType:fe.None,focusedIndex:-1}}return 0===r?{focusedItem:s[0],focusedIndex:0,focusedType:fe.ListItem}:{focusedType:fe.None,focusedIndex:-1}},customItemSelect(e){const t=void 0!==this.$props.filter?this.$props.filter:this.currentText,{textField:i}=this.$props;if(!t)return;const s=this.base.initState();s.event=e;const a=i?{[i]:t}:t;void 0!==this.currentText&&(s.data.currentText=""),s.data.currentFocusedIndex=void 0,this.base.filterChanged("",s);const n=[...this.computedValue(),a];this.triggerOnChange(n,s),this.base.togglePopup(s),this.applyState(s)},handleWrapperClick(e){const t=this.isOpen,i=this.input;!t&&i&&this.focusElement(i);const s=this.base.initState();s.event=e,this.currentFocused||(s.events.push({type:"focus"}),s.data.currentFocused=!0),this.clearFilter(s),this.base.togglePopup(s),this.applyState(s)},onCancel(e){const t=this.base.initState();t.event=e,e.stopPropagation();const i=this.isOpen;void 0!==t.focusedIndex&&(t.data.focusedIndex=void 0),i&&this.base.togglePopup(t),t.events.push({type:"onCancel"}),this.clearFilter(t),this.triggerOnChange([...this.initialAdaptiveRenderingValues],t),this.base.triggerPageChangeCornerItems([...this.initialAdaptiveRenderingValues],t),this.applyState(t)},handleItemClick(e,t){const i=this.base.initState();i.event=t,this.handleItemSelect(e,i),this.$props.autoClose&&!this.adaptiveState&&this.base.togglePopup(i),this.applyState(i)},handleBlur(e){if(!this.currentFocused||this._skipFocusEvent)return;const t=this.isOpen,i=this.base.initState(),{allowCustom:s,filterable:a}=this.$props;i.event=e,i.data.currentFocused=!1,i.events.push({type:"blur"}),t&&!this.adaptiveState&&(this.currentOpened&&(i.data.currentOpened=!1),i.events.push({type:"close"})),!s&&!a&&this.currentText&&(i.data.currentText=""),this.applyState(i)},handleFocus(e){this._skipFocusEvent||this.base.handleFocus(e)},onPopupOpened(){this.input&&this.currentFocused&&this.focusElement(this.input)},onPopupClosed(){this.currentFocused&&setTimeout((()=>{this.currentFocused&&this.focusElement(this.input)}),0)},focusElement(e){this._skipFocusEvent=!0,e.focus(),setTimeout((()=>this._skipFocusEvent=!1),30)},applyState(e){this.base.applyState(e),this.valuesItemsDuringOnChange=null},setValidity(){this.input&&this.input.setCustomValidity&&this.input.setCustomValidity(this.validity().valid?"":this.$props.validationMessage||"Please enter a valid value!")},focus(){this.input&&this.input.focus()},calculateMedia(e){for(let t of e)this.windowWidth=t.target.clientWidth},repositionPopup(){this.base.repositionPopup()},onScroll(e){this.isScrolling=!0;const{vs:t,list:i}=this.base;t.scrollHandler(e);const s=this.base.initState(),{groupField:a}=this.$props;let n,{dataItems:o=[]}=this.$props;if(!a||!o.length)return;const l=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:i?i.children[0].offsetHeight:0),r=e.target.scrollTop-t.skip*l;a&&(o=this.base.getGroupedDataModernMode(o,a),o=this.base.getGroupedDataModernMode(o,a),n=o[0][a]);for(let e=1;e<o.length&&!(l*e>r);e++)o[e]&&o[e][a]&&(n=o[e][a]);n!==this.group&&(s.data.group=n,this.applyState(s))}},render(){const{style:e,label:a,dir:o,disabled:d,tags:h,textField:u,dataItemKey:c,virtual:g,loading:m,size:v,fillMode:k,rounded:S,tagsRounded:I,removeTagIcon:V,adaptiveTitle:x,header:C,footer:w,inputAttributes:N,groupStickyHeaderItemRender:O,dataItems:R=[]}=this.$props,M=this.currentFocused,K=Object.assign({},{animate:!0,height:"200px"},this.$props.popupSettings),B=this.currentFocusedTag,D=this.computedValue(),P=(void 0!==this.$props.filter?this.$props.filter:this.currentText)||"",j=!m&&(!!P||D.length>0),H=this.base.vs,z=this.$props.id||this.inputId,A=t.templateRendering.call(this,this.$props.tagRender,t.getListeners.call(this)),E=this.isOpen,W=this.adaptiveState,q=l.provideLocalizationService(this);void 0===this.group&&void 0!==this.$props.groupField&&(this.group=F(this.$props.dataItems[0],this.$props.groupField)),H.enabled=void 0!==g,void 0!==g&&(H.skip=g.skip,H.total=g.total,H.pageSize=g.pageSize);let G=[];this.initialAdaptiveRenderingValues?[...this.initialAdaptiveRenderingValues].forEach((e=>{G.push({text:F(e,u),data:[e]})})):void 0===h?this.computedValue().forEach((e=>{G.push({text:F(e,u),data:[e]})})):G.push(...h),G.length>0&&this.setItems(G,this._tags);const U=!this.$props.validityStyles||this.validity().valid,Y=function(e){const t=this.activedescendant,{placeholder:s}=this.$props,{focusedIndex:a}=this.getFocusedState(),n=0===G.length||0===D.length&&!P?s:void 0,o=t===he.TagsList&&void 0!==B?`tag-${this.base.guid}-${B.text.replace(/\s+/g,"-")}`:`option-${this.base.guid}-${a}`;return i.createVNode(Z,{id:e,size:Math.max((n||"").length,P.length,1),tabIndex:this.$props.tabIndex,accessKey:this.$props.accessKey,placeholder:n,value:W?"":P,onChange:this.onChangeHandler,onBlur:this.handleBlur,onKeydown:this.onInputKeyDown,ref:e=>{this.inputRef=e},disabled:d,expanded:E,owns:this.base.listBoxId,activedescendant:o,"aria-describedBy":`tagslist-${this.base.guid}${this.$props.ariaDescribedBy?" "+this.$props.ariaDescribedBy:""}`,"aria-labelledBy":this.$props.ariaLabelledBy,"aria-label":this.$props.ariaLabel,inputAttributes:N},null)},J=function(){let e;const{groupField:s}=this.$props,a=t.templateRendering.call(this,this.$props.itemRender,t.getListeners.call(this)),n=t.templateRendering.call(this,this.$props.groupHeaderItemRender,t.getListeners.call(this)),o=t.templateRendering.call(this,this.$props.listNoDataRender,t.getListeners.call(this)),l=g?g.skip:0,{focusedIndex:r}=this.getFocusedState(),d=`translateY(${H.translate}px)`;let h=R;return s&&(h=this.base.getGroupedDataModernMode(R,s)),i.createVNode(L,{id:this.base.listBoxId,show:E,dataItems:h.slice(),focusedIndex:r,value:this.computedValue(),textField:u,valueField:c,optionsGuid:this.base.guid,ref:"list",wrapperStyle:{maxHeight:W?void 0:K.height},wrapperCssClass:"k-list-content",listStyle:H.enabled?{transform:d}:void 0,key:"listKey",skip:l,onListclick:this.handleItemClick,itemRender:a,groupHeaderItemRender:n,noDataRender:o,groupField:s,onScroll:this.onScroll},ce(e=Q.call(this))?e:{default:()=>[e]})},Q=function(){return H.enabled&&i.createVNode("div",{ref:"scrollElement",key:"scrollElementKey"},null)},X=function(){const e=this.base,{allowCustom:s}=this.$props,a=t.templateRendering.call(this,this.$props.groupStickyHeaderItemRender,t.getListeners.call(this)),l=e.getTemplateDef.call(this,C),r=e.getTemplateDef.call(this,w),d=void 0!==this.$props.filter?this.$props.filter:this.currentText,{focusedType:h}=this.getFocusedState(),u=s&&d&&i.createVNode("div",{class:"k-list",key:"customitem",onClick:this.customItemSelect},[i.createVNode("div",{class:t.classNames("k-item k-custom-item",{"k-focus":ve(h)})},[d,i.createVNode(t.Icon,{name:"plus",icon:n.plusIcon,style:{float:"right"}},null)])]);return void 0===this.group&&void 0!==this.$props.groupField&&(this.group=F(R[0],this.$props.groupField)),i.createVNode(p,{ref:"container",onMousedown:ge,dir:void 0!==o?o:e.dirCalculated,onBlur:this.handleBlur,width:this.popupWidth,popupSettings:{...K,anchor:this.anchor,show:E,onOpen:this.onPopupOpened,onClose:this.onPopupClosed,popupClass:t.classNames(K.popupClass,"k-list",{[`k-list-${pe[v]||v}`]:v,"k-virtual-list":this.base.vs.enabled}),className:t.classNames("k-list-container",K.className)},itemsCount:R.length},{default:()=>[l&&i.createVNode("div",{class:"k-list-header"},[l]),u,this.group&&0!==R.length&&i.createVNode(_,{group:this.group,render:a},null),J.call(this),r&&i.createVNode("div",{class:"k-list-footer"},[r]),g&&C]})},te=function(){const e=void 0!==this.$props.filter?this.$props.filter:this.currentText;return this.$props.filterable&&i.createVNode($,{value:e,ref:"filterInput",onChange:this.onChangeHandler,onKeydown:this.onInputKeyDown,size:v,rounded:S,fillMode:k},null)},ie=t.templateRendering.call(this,(()=>[i.createVNode("div",{class:"k-actionsheet-titlebar-group k-hbox"},[i.createVNode("div",{class:"k-actionsheet-title"},[i.createVNode("div",{class:"k-text-center"},[x]),i.createVNode("div",{class:"k-actionsheet-subtitle k-text-center"},null)]),i.createVNode("div",{class:"k-actionsheet-actions"},[i.createVNode(s.Button,{tabIndex:5,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.onCancel,icon:"x",svgIcon:n.xIcon},null)])]),i.createVNode("div",{class:"k-actionsheet-titlebar-group k-actionsheet-filter"},[te.call(this)])]),t.getListeners.call(this)),se=t.templateRendering.call(this,(()=>{const e=q.toLanguageString(b,y[b]),t=q.toLanguageString(f,y[f]);return[i.createVNode(s.Button,{size:"large","aria-label":e,"aria-disabled":"false",type:"button",onClick:this.onCancel},ce(e)?e:{default:()=>[e]}),i.createVNode(s.Button,{themeColor:"primary",size:"large","aria-label":t,"aria-disabled":"false",type:"button",onClick:this.handleWrapperClick},ce(t)?t:{default:()=>[t]})]}),t.getListeners.call(this)),ae=t.templateRendering.call(this,(()=>{const e=this.base.getTemplateDef.call(this,C,i.h),s=this.base.getTemplateDef.call(this,w,i.h),a=t.templateRendering.call(this,O,t.getListeners.call(this));return i.createVNode("div",{class:"k-list-container"},[e&&i.createVNode("div",{class:"k-list-header"},[e]),i.createVNode("div",{class:t.classNames("k-list",{[`k-list-${pe[v]||v}`]:!W&&v,"k-list-lg":!!W,"k-virtual-list":H.enabled})},[this.group&&0!==R.length&&i.createVNode(_,{group:this.group,render:a},null),J.call(this),s&&i.createVNode("div",{class:"k-list-footer"},[s])])])}),t.getListeners.call(this)),ne=[i.h(function(){let s;return i.createVNode("span",{ref:t.setRef(this,"kendoAnchor"),class:t.classNames("k-multiselect","k-input",{[`k-input-${pe[v]||v}`]:v,[`k-rounded-${ue[S]||S}`]:S,[`k-input-${k}`]:k,"k-focus":M&&!d,"k-disabled":d,"k-invalid":!U,"k-loading":m,"k-required":this.required}),style:a?{...e,width:void 0}:e,dir:o,onFocusin:this.handleFocus,onClick:this.handleWrapperClick,onMousedown:T},[i.createVNode(de,{removeTagIcon:V,tagsRounded:I,size:v,fillMode:k,tagRender:A,onTagdelete:this.onTagDelete,dataItems:G,guid:this.base.guid,focused:B?G.find((e=>me(e,B,c))):void 0},ce(s=Y.call(this,z))?s:{default:()=>[s]}),G.length>0&&j&&i.createVNode(ee,{onClearclick:this.clearButtonClick},null),i.createVNode("span",{class:m?"k-input-loading-icon k-icon k-i-loading":void 0},null),!W&&X.call(this)])}.call(this),{...this.$attrs}),W&&function(){return i.createVNode(r.ActionSheet,{expand:E,animation:!0,animationStyles:this.animationStyles,className:this.classNameAdaptive,contentClassName:"!k-overflow-hidden",footerClassName:"k-actions k-actions-stretched",header:ie,content:ae,footer:se,onClose:this.onCancel,navigatableElements:["input.k-input-inner",".k-actionsheet-actions > button"]},null)}.call(this)];return a?i.createVNode("span",{class:this.spanClassNames,dir:this.$props.dir},[ne,this.$props.label?z?i.createVNode("label",{for:z,class:"k-floating-label"},[this.$props.label]):i.createVNode("span",{class:"k-label"},[this.$props.label]):null]):ne}}),ye=i.defineComponent({name:"KendoListNoData",render(){const e=t.getDefaultSlots(this);return i.createVNode("div",{class:"k-nodata"},[i.createVNode("div",null,[e])])}});function ke(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i.isVNode(e)}const{sizeMap:Se,roundedMap:$e}=t.kendoThemeMaps,Ie=e=>e.split("_").map((e=>parseInt(e,10))),Ve=(e,t)=>{const{validationMessage:i,valid:s,required:a}=e;return{customError:void 0!==i,valid:!!(void 0!==s?s:!a||t),valueMissing:!t}},xe=i.defineComponent({name:"KendoDropDownTree",model:{event:"changemodel"},emits:{open:e=>!0,close:e=>!0,focus:e=>!0,blur:e=>!0,change:e=>!0,filterchange:e=>!0,expandchange:e=>!0,changemodel:e=>!0,"update:modelValue":e=>!0},props:{opened:{type:Boolean,default:void 0},disabled:Boolean,dir:String,tabIndex:Number,accessKey:String,dataItems:{type:Array,default:function(){return[]}},value:{type:[Object,String,Number,Boolean],default:function(){}},modelValue:{type:[Object,String,Number,Boolean],default:function(){}},valueMap:Function,placeholder:String,dataItemKey:{type:String,required:!0},textField:{type:String,required:!0},selectField:{type:String,default:"selected"},expandField:String,subItemsField:{type:String,default:"items"},className:String,label:String,validationMessage:String,validityStyles:{type:Boolean,default:!0},valid:{type:Boolean,default:void 0},required:Boolean,name:String,id:String,ariaLabel:{type:String,default:void 0},ariaLabelledBy:String,ariaDescribedBy:String,filterable:Boolean,filter:String,loading:Boolean,popupSettings:{type:Object,default:function(){return{animate:!0,height:"200px",anchor:""}}},size:{type:String,default:"medium",validator:function(e){return[null,"small","medium","large"].includes(e)}},rounded:{type:String,default:"medium",validator:function(e){return[null,"small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return[null,"flat","outline","solid"].includes(e)}},item:[String,Function,Object],header:[String,Function,Object],footer:[String,Function,Object],valueRender:[String,Function,Object],listNoData:[String,Function,Object],adaptive:{type:Boolean,default:void 0},adaptiveTitle:{type:String,default:void 0}},inject:{kendoLocalizationService:{default:null},adaptiveModeBreakpoints:{default:{small:U,medium:Y}}},created(){this.observer=null,t.validatePackage(E),this.base=new G(this),this.componentGuid=t.guid(),this.anchor=t.guid()},data:()=>({currentOpened:!1,focused:!1,filterState:"",currentValue:void 0,popupWidth:"200px",windowWidth:0,initialAdaptiveRenderingValues:void 0}),computed:{wrapperClass(){const{validationMessage:e,valid:t,required:i,validityStyles:s}=this.$props,a=Ve({validationMessage:e,valid:t,required:i},this.hasValue),n=!s||a.valid,{size:o,rounded:l,fillMode:r}=this.$props;return{"k-dropdowntree":!0,"k-picker":!0,[this.$props.className]:this.$props.className,[`k-picker-${Se[o]||o}`]:o,[`k-rounded-${$e[l]||l}`]:l,[`k-picker-${r}`]:r,"k-focus":this.focused,"k-invalid":!n,"k-loading":this.$props.loading,"k-required":i,"k-disabled":this.$props.disabled}},animationStyles(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?{top:0,width:"100%",height:"100%"}:void 0},classNameAdaptive(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},adaptiveState(){return this.windowWidth<=this.adaptiveModeBreakpoints.medium&&this.$props.adaptive},isOpen(){return void 0!==this.opened?this.opened:this.currentOpened},computedValue(){return void 0!==this.value?this.value:void 0!==this.$props.modelValue?this.$props.modelValue:this.currentValue},hasValue(){return I(this.computedValue)},currentValueText(){return this.hasValue?F(this.computedValue,this.$props.textField):""}},watch:{isOpen:function(e){e&&this.value?this.initialAdaptiveRenderingValues=[this.value]:this.initialAdaptiveRenderingValues=void 0}},mounted(){this.observer=t.canUseDOM&&window.ResizeObserver&&new ResizeObserver(this.calculateMedia),null!=document&&document.body&&this.observer&&this.observer.observe(document.body),this.elementRef=t.getRef(this,"kendoAnchor"),this.inputRef=t.getRef(this,"input"),this.selectRef=t.getRef(this,"select"),this.treeViewRef=t.getRef(this,"treeView"),this.skipFocusRef=!1,this.popupRef=t.getRef(this,"popup"),this.calculatePopupWidth()},updated(){this.inputRef=t.getRef(this,"input"),this.treeViewRef=t.getRef(this,"treeView"),this.popupRef&&this.isOpen&&this.hasValue&&this.popupRef.reposition(),this.setValidity(),this.calculatePopupWidth()},render(){let e;const o=this.$props.id||this.componentGuid,{dataItems:p,dataItemKey:c,popupSettings:m,disabled:v,placeholder:f,label:b,name:k,selectField:S,subItemsField:I,validationMessage:V,valid:x,required:C,validityStyles:F,adaptiveTitle:w}=this.$props,N=t.getTabIndex(this.$props.tabIndex,v),O=l.provideLocalizationService(this),R=Ve({validationMessage:V,valid:x,required:C},this.hasValue),T=this.adaptiveState,M=this.$props.dir,K=t.templateRendering.call(this,this.item,t.getListeners.call(this)),B=t.templateRendering.call(this,this.valueRender,t.getListeners.call(this)),D=t.templateRendering.call(this,this.$props.header,t.getListeners.call(this)),P=t.templateRendering.call(this,this.$props.footer,t.getListeners.call(this)),L=t.getTemplate.call(this,{h:i.h,template:D}),j=t.getTemplate.call(this,{h:i.h,template:P}),H=t.templateRendering.call(this,this.$props.listNoData,t.getListeners.call(this)),z=i.createVNode(ye,null,ke(e=O.toLanguageString(u,y[u]))?e:{default:()=>[e]}),A=t.getTemplate.call(this,{h:i.h,defaultRendering:z,template:H}),E=i.createVNode("span",{class:"k-input-value-text"},[this.currentValueText||f]),W=t.getTemplate.call(this,{h:i.h,defaultRendering:E,template:B,additionalProps:{value:this.computedValue}}),q=t.templateRendering.call(this,(()=>[i.createVNode("div",{class:"k-actionsheet-titlebar-group k-hbox"},[i.createVNode("div",{class:"k-actionsheet-title"},[i.createVNode("div",{class:"k-text-center"},[w]),i.createVNode("div",{class:"k-actionsheet-subtitle k-text-center"},[f])]),i.createVNode("div",{class:"k-actionsheet-actions"},[i.createVNode(s.Button,{tabIndex:1,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.onWrapperClick,icon:"x",svgIcon:n.xIcon},null)])]),i.createVNode("div",{class:"k-actionsheet-titlebar-group k-actionsheet-filter"},[this.$props.filterable&&i.createVNode($,{tabIndex:0,value:void 0===this.$props.filter?this.filterState:this.$props.filter,ref:t.setRef(this,"input"),onChange:this.onFilterChange,onKeydown:this.onInputKeyDown,size:U,rounded:Y,fillMode:J,onFocus:this.onFocus,onBlur:this.onBlur},null)])]),t.getListeners.call(this)),G=t.templateRendering.call(this,(()=>{const e=this.base.getTemplateDef.call(this,L,i.h),s=this.base.getTemplateDef.call(this,j,i.h);return[e&&i.createVNode("div",{class:"k-list-header"},[e]),p.length>0?i.createVNode(d.TreeView,{ref:t.setRef(this,"treeView"),tabIndex:N,dataItems:p,focusIdField:c,textField:this.$props.textField,selectField:S,expandField:this.$props.expandField,childrenField:I,expandIcons:!0,onItemclick:this.onChange,onExpandchange:this.onExpand,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onWrapperKeyDown,size:"large",item:K},null):A,s&&i.createVNode("div",{class:"k-list-footer"},[s])]}),t.getListeners.call(this)),_=!F||R.valid,{size:U,rounded:Y,fillMode:J}=this.$props,Q=[i.h(function(){return i.createVNode("span",{class:this.wrapperClass,tabindex:N,accesskey:this.$props.accessKey,id:o,dir:M,ref:t.setRef(this,"kendoAnchor"),onKeydown:this.onWrapperKeyDown,onClick:this.onWrapperClick,onMousedown:this.onWrapperMouseDown,onFocusin:this.onFocus,onFocusout:this.onBlur,role:"combobox","aria-haspopup":"tree","aria-expanded":this.isOpen,"aria-disabled":v,"aria-label":b||this.$props.ariaLabel,"aria-labelledby":this.$props.ariaLabelledBy,"aria-describedby":this.$props.ariaDescribedBy,"aria-required":C},[i.createVNode("span",{class:"k-input-inner"},[W]),this.$props.loading&&i.createVNode(t.Icon,{class:"k-input-loading-icon",name:"loading"},null),this.hasValue&&!v&&i.createVNode("span",{onClick:this.onClear,class:"k-clear-value",title:O.toLanguageString(g,y[g]),role:"button",tabindex:-1,onMousedown:e=>e.preventDefault()},[i.createVNode(t.Icon,{name:"x",icon:n.xIcon},null)]),i.createVNode(s.Button,{tabIndex:-1,type:"button","aria-label":"select",class:"k-input-button",size:U,fillMode:J,themeColor:"base",rounded:null,icon:"caret-alt-down",svgIcon:n.caretAltDownIcon},null),i.createVNode("select",{name:k,ref:t.setRef(this,"select"),tabindex:-1,"aria-hidden":!0,title:b,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},[i.createVNode("option",{value:this.$props.valueMap?this.$props.valueMap.call(void 0,this.computedValue):this.computedValue},null)]),!T&&i.createVNode(a.Popup,{style:{width:this.popupWidth,direction:M},ref:t.setRef(this,"popup"),class:t.classNames(m.className,{"k-rtl":"rtl"===M}),popupClass:t.classNames(m.popupClass,"k-dropdowntree-popup","popup-"+this.componentGuid),animate:m.animate,anchor:this.anchor,show:this.isOpen,onOpen:this.onPopupOpened,onClose:this.onPopupClosed,appendTo:m.appendTo},{default:()=>[this.$props.filterable&&i.createVNode($,{value:void 0===this.$props.filter?this.filterState:this.$props.filter,ref:t.setRef(this,"input"),onChange:this.onFilterChange,onKeydown:this.onInputKeyDown,onBlur:this.onBlur,size:U,rounded:Y,fillMode:J},null),L&&i.createVNode("div",{class:"k-list-header"},[L]),p.length>0?i.createVNode(d.TreeView,{ref:t.setRef(this,"treeView"),tabIndex:N,dataItems:p,focusIdField:c,textField:this.$props.textField,selectField:S,expandField:this.$props.expandField,childrenField:I,expandIcons:!0,onItemclick:this.onChange,onExpandchange:this.onExpand,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onWrapperKeyDown,size:U,item:K},null):A,j&&i.createVNode("div",{class:"k-list-footer"},[j])]})])}.call(this),{...this.$attrs}),T&&function(){return i.createVNode(r.ActionSheet,{expand:this.isOpen,animation:!0,animationStyles:this.animationStyles,className:this.classNameAdaptive,header:q,content:G,contentClassName:"!k-overflow-hidden",onClose:this.onWrapperClick,navigatableElements:["input.k-input-inner",".k-actionsheet-actions > button"]},null)}.call(this)];return b?i.createVNode(h.FloatingLabel,{label:b,editorValue:this.currentValueText,editorPlaceholder:f,editorValid:_,editorDisabled:v,editorId:o,focused:this.focused,dir:M},ke(Q)?Q:{default:()=>[Q]}):Q},methods:{calculateMedia(e){for(let t of e)this.windowWidth=t.target.clientWidth},calculatePopupWidth(){this.elementRef&&(this.popupWidth=void 0!==this.popupSettings.width?this.popupSettings.width:this.elementRef.offsetWidth+"px")},focus(){this.$el&&this.$el.focus()},setValidity(){if(this.selectRef&&this.selectRef.setCustomValidity){const{validationMessage:e,valid:t,required:i}=this.$props,s=Ve({validationMessage:e,valid:t,required:i},this.hasValue);this.selectRef.setCustomValidity(s.valid?"":void 0===this.validationMessage?"Please select a value from the list!":this.validationMessage)}},openPopup(e){if(!this.isOpen){const t={...e};this.$emit("open",t),this.currentOpened=!0}},closePopup(e){if(this.isOpen){const t={...e};this.$emit("close",t),this.currentOpened=!1}},onWrapperClick(e){if(this.onFilterChange({...e,target:{value:""}}),!e.defaultPrevented&&this.$el){this.focused=!0;const t={event:e,target:this};(this.isOpen?this.closePopup:this.openPopup)(t)}},switchFocus(e){this.skipFocusRef=!0,e(),window.setTimeout((()=>this.skipFocusRef=!1),0)},onWrapperKeyDown(e){const{keyCode:i,altKey:s}=e,a=this.treeViewRef&&this.treeViewRef.$el,n=this.inputRef&&this.inputRef.input;if(this.$props.disabled||e.defaultPrevented&&n===e.target)return;const o={event:e,target:this};if(this.isOpen)if(i===t.Keys.esc||s&&i===t.Keys.up)e.preventDefault(),this.closePopup(o);else if(a&&a.querySelector(".k-focus")&&(i===t.Keys.up||i===t.Keys.down||i===t.Keys.left||i===t.Keys.right||i===t.Keys.home||i===t.Keys.end)){if(i===t.Keys.up&&n){const e=Array.from(a.querySelectorAll(".k-treeview-item")),t=[...e].reverse().find((e=>!(!e||!e.querySelector(".k-focus"))));if(t&&0===e.indexOf(t))return this.switchFocus((()=>{this.focusElement(n)}))}this.switchFocus(t.noop)}else i===t.Keys.down&&this.switchFocus((()=>{this.focusElement(n||a)}));else s&&i===t.Keys.down&&(e.preventDefault(),this.openPopup(o))},onInputKeyDown(e){const{keyCode:i,altKey:s}=e;if(i===t.Keys.esc)this.onWrapperClick(e);else if(s||i!==t.Keys.up&&i!==t.Keys.down)return;e.preventDefault(),this.switchFocus(i===t.Keys.up?()=>{this.focusElement(this.elementRef)}:()=>{this.focusElement(this.treeViewRef&&this.treeViewRef.$el)})},focusElement(e){e&&this.switchFocus((()=>e.focus()))},onPopupOpened(){if(this.focused||!this.isOpen||this.currentOpened)if(this.$props.filterable){const e=this.inputRef&&this.inputRef.input;this.focusElement(e)}else this.focusElement(this.treeViewRef&&this.treeViewRef.$el);else this.closePopup({target:this})},onPopupClosed(){this.focused&&this.focusElement(this.elementRef)},onFocus(e){if(!this.focused&&!this.skipFocusRef){this.focused=!0;const t={event:e,target:this};this.$emit("focus",t)}},onBlur(e){if(this.focused&&!this.skipFocusRef){this.focused=!1;const t={event:e,target:this},i={...t};(!e.relatedTarget||!e.relatedTarget.closest(".popup-"+this.componentGuid))&&!this.adaptiveState&&(this.$emit("blur",i),this.closePopup(t))}},onWrapperMouseDown(){this.focused&&this.switchFocus(t.noop)},changeValue(e,t,i){const s={value:t,level:i?Ie(i):[],...e};this.$emit("changemodel",t),this.$emit("update:modelValue",t),this.$emit("change",s),this.currentValue=t},onChange(e){if(O(e.item,this.computedValue,this.dataItemKey)||!this.$el)return;const{item:t,itemHierarchicalIndex:i,event:s}=e,a={event:s,target:this};this.changeValue(a,t,i),this.closePopup(a)},onClear(e){const t={event:e,target:this};this.changeValue(t,null),this.closePopup(t),e.preventDefault()},onExpand(e){const{item:t,itemHierarchicalIndex:i,event:s}=e,a={level:Ie(i),item:t,event:s,target:this};this.$emit("expandchange",a)},onFilterChange(e){const t={filter:{field:this.$props.textField,operator:"contains",value:e.target.value},event:e,target:this};this.$emit("filterchange",t),void 0===this.$props.filter&&(this.filterState=e.target.value)}}}),Ce=(e,t)=>{const i={};return e&&e.length&&e.forEach((e=>{i[t(e)]=!0})),i},Fe=(e,i)=>{const{items:s,dataItemKey:a,value:n,subItemsField:o="items",operation:l}=i,r=t.getter(a),d=Ce(n,r);if("clear"===l)return[];if("delete"===l){const e=Ce(s,r);return n.filter((t=>!e[r(t)]))}const h=s[0],p=r(h),u=t.getter(o),c=[...e],g=[];let m,v=[];for(;c.length;){const e=c.pop();if(p===r(e)){v=g.map((e=>e.item)),m=e;break}{g&&g.length&&g[g.length-1].parentPosition===c.length&&g.pop();const t=u(e);t&&t.length&&(g.push({item:e,parentPosition:c.length}),c.push(...t))}}const f=[...u(m)||[]];let b=[];for(;f.length;){const e=f.pop();b.push(e);const t=u(e);t&&t.length&&f.push(...t)}const y=[];if(!d[p]){y.push(...n),y.push(m),y.push(...b.filter((e=>!d[r(e)])));const e=v.filter((e=>!d[r(e)])),t=Ce(y,r);for(let i=e.length-1;i>-1;i--){const s=e[i],a=u(s);if(a.filter((e=>t[r(e)])).length<a.length)break;y.push(s),t[r(s)]=!0}}else{const e=r(m),t=Ce(b,r),i=Ce(v,r);y.push(...n.filter((s=>{const a=r(s);return!t[a]&&e!==a&&!i[a]})))}return y};function we(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i.isVNode(e)}const{sizeMap:Ne,roundedMap:Oe}=t.kendoThemeMaps,Re=e=>e.split("_").map((e=>parseInt(e,10))),Te=(e,t)=>{const{validationMessage:i,valid:s,required:a}=e;return{customError:void 0!==i,valid:!!(void 0!==s?s:!a||t),valueMissing:!t}},Me=i.defineComponent({name:"KendoMultiSelectTree",model:{event:"changemodel"},emits:{open:e=>!0,close:e=>!0,focus:e=>!0,blur:e=>!0,change:e=>!0,filterchange:e=>!0,expandchange:e=>!0,changemodel:e=>!0,"update:modelValue":e=>!0},props:{opened:{type:Boolean,default:void 0},disabled:Boolean,dir:String,tabIndex:Number,accessKey:String,dataItems:{type:Array,default:function(){return[]}},value:Array,modelValue:Array,valueMap:Function,placeholder:String,dataItemKey:{type:String,required:!0},textField:{type:String,required:!0},checkField:{type:String,default:"checkField"},checkIndeterminateField:{type:String,default:"checkIndeterminateField"},expandField:String,subItemsField:{type:String,default:"items"},className:String,label:String,validationMessage:String,validityStyles:{type:Boolean,default:!0},valid:{type:Boolean,default:void 0},required:Boolean,name:String,id:String,ariaLabelledBy:String,ariaDescribedBy:String,filterable:Boolean,filter:String,loading:Boolean,tags:Array,popupSettings:{type:Object,default:function(){return{animate:!0,height:"200px",anchor:""}}},size:{type:String,default:"medium",validator:function(e){return[null,"small","medium","large"].includes(e)}},rounded:{type:String,default:"medium",validator:function(e){return[null,"small","medium","large","full"].includes(e)}},fillMode:{type:String,default:"solid",validator:function(e){return[null,"flat","outline","solid"].includes(e)}},item:[String,Function,Object],tag:[String,Function,Object],header:[String,Function,Object],footer:[String,Function,Object],listNoData:[String,Function,Object],adaptive:{type:Boolean,default:void 0},adaptiveTitle:{type:String,default:void 0}},inject:{kendoLocalizationService:{default:null},adaptiveModeBreakpoints:{default:{small:U,medium:Y}}},created(){this.observer=null,t.validatePackage(E),this.base=new G(this),this.componentGuid=t.guid(),this.anchor=t.guid()},data:()=>({focusedTagState:void 0,openState:!1,focusedState:!1,filterState:"",currentValue:[],popupWidth:"200px",windowWidth:0,initialAdaptiveRenderingValues:void 0}),computed:{animationStyles(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?{top:0,width:"100%",height:"100%"}:void 0},classNameAdaptive(){return this.windowWidth<=this.adaptiveModeBreakpoints.small?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},adaptiveState(){return this.windowWidth<=this.adaptiveModeBreakpoints.medium&&this.$props.adaptive},isOpen(){return void 0!==this.opened?this.opened:this.openState},computedValue(){return void 0!==this.value?this.value:void 0!==this.$props.modelValue?this.$props.modelValue:this.currentValue},hasValue(){return!!this.computedValue.length},tagsToRenderRef(){if(void 0===this.initialAdaptiveRenderingValues)return void 0===this.tags?this.computedValue.map((e=>({text:F(e,this.$props.textField),data:[e]}))):[...this.tags];{const e=this.initialAdaptiveRenderingValues;return e.length>0&&e.map((e=>({text:F(e,this.$props.textField),data:[e]})))}}},watch:{isOpen:function(e){e&&this.value?this.initialAdaptiveRenderingValues=[...this.value]:this.initialAdaptiveRenderingValues=void 0}},mounted(){this.observer=t.canUseDOM&&window.ResizeObserver&&new ResizeObserver(this.calculateMedia),null!=document&&document.body&&this.observer&&this.observer.observe(document.body),this.elementRef=t.getRef(this,"kendoAnchor"),this.inputRef=t.getRef(this,"input"),this.selectRef=t.getRef(this,"select"),this.treeViewRef=t.getRef(this,"treeView"),this.skipFocusRef=!1,this.popupRef=t.getRef(this,"popup"),this.calculatePopupWidth()},updated(){this.inputRef=t.getRef(this,"input"),this.treeViewRef=t.getRef(this,"treeView"),this.popupRef&&this.isOpen&&this.hasValue&&this.popupRef.reposition(),this.setValidity(),this.calculatePopupWidth()},render(){let e;const o=this.$props.id||this.componentGuid,{dataItems:p,dataItemKey:c,popupSettings:g={},disabled:m,placeholder:v,label:k,name:S,checkField:I,checkIndeterminateField:V,subItemsField:x,validationMessage:C,valid:F,value:w,required:N,validityStyles:O,adaptiveTitle:R}=this.$props,T=t.getTabIndex(this.$props.tabIndex,m),K=l.provideLocalizationService(this),B=Te({validationMessage:C,valid:F,required:N},this.hasValue),D=this.$props.dir,P=this.adaptiveState,L=t.templateRendering.call(this,this.item,t.getListeners.call(this)),j=t.templateRendering.call(this,this.tag,t.getListeners.call(this)),H=t.templateRendering.call(this,this.$props.header,t.getListeners.call(this)),z=t.templateRendering.call(this,this.$props.footer,t.getListeners.call(this)),A=t.getTemplate.call(this,{h:i.h,template:H}),E=t.getTemplate.call(this,{h:i.h,template:z}),W=t.templateRendering.call(this,this.$props.listNoData,t.getListeners.call(this)),q=i.createVNode(ye,null,we(e=K.toLanguageString(u,y[u]))?e:{default:()=>[e]}),G=t.getTemplate.call(this,{h:i.h,defaultRendering:q,template:W}),_=!O||B.valid,{size:U,rounded:Y,fillMode:J}=this.$props,Q=t.templateRendering.call(this,(()=>[i.createVNode("div",{class:"k-actionsheet-titlebar-group k-hbox"},[i.createVNode("div",{class:"k-actionsheet-title"},[i.createVNode("div",{class:"k-text-center"},[R]),i.createVNode("div",{class:"k-actionsheet-subtitle k-text-center"},[v])]),i.createVNode("div",{class:"k-actionsheet-actions"},[i.createVNode(s.Button,{tabIndex:5,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.onCancel,icon:"x",svgIcon:n.xIcon},null)])]),i.createVNode("div",{class:"k-actionsheet-titlebar-group k-actionsheet-filter"},[this.$props.filterable&&i.createVNode($,{value:void 0===this.$props.filter?this.filterState:this.$props.filter,ref:t.setRef(this,"input"),onChange:this.onFilterChange,onKeydown:this.onInputKeyDown,size:U,rounded:Y,fillMode:J,onFocus:this.onFocus,onBlur:this.onBlur},null)])]),t.getListeners.call(this)),X=t.templateRendering.call(this,(()=>{const e=K.toLanguageString(b,y[b]),t=K.toLanguageString(f,y[f]);return[i.createVNode(s.Button,{size:"large","aria-label":e,"aria-disabled":"false",type:"button",onClick:this.onCancel},we(e)?e:{default:()=>[e]}),i.createVNode(s.Button,{themeColor:"primary",size:"large","aria-label":t,"aria-disabled":"false",type:"button",onClick:this.closePopup},we(t)?t:{default:()=>[t]})]}),t.getListeners.call(this)),Z=t.templateRendering.call(this,(()=>{const e=this.base.getTemplateDef.call(this,A,i.h),s=this.base.getTemplateDef.call(this,E,i.h);return[e&&i.createVNode("div",{class:"k-list-header"},[e]),p.length>0?i.createVNode(d.TreeView,{ref:t.setRef(this,"treeView"),tabIndex:T,dataItems:p,focusIdField:c,textField:this.$props.textField,checkField:I,checkIndeterminateField:V,expandField:this.$props.expandField,childrenField:x,expandIcons:!0,onItemclick:this.onChange,onCheckchange:this.onChange,onExpandchange:this.onExpand,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onWrapperKeyDown,checkboxes:!0,size:"large",item:L},null):G,s&&i.createVNode("div",{class:"k-list-footer"},[s])]}),t.getListeners.call(this)),te=[i.h(function(){return i.createVNode("span",{ref:t.setRef(this,"kendoAnchor"),class:t.classNames("k-multiselecttree k-input",this.$props.className,{[`k-input-${Ne[U]||U}`]:U,[`k-rounded-${Oe[Y]||Y}`]:Y,[`k-input-${J}`]:J,"k-focus":this.focusedState&&!m,"k-invalid":!_,"k-disabled":m,"k-loading":this.$props.loading,"k-required":N}),tabindex:T,accesskey:this.$props.accessKey,id:o,dir:D,onKeydown:this.onWrapperKeyDown,onMousedown:this.onWrapperMouseDown,onFocusin:this.onFocus,onFocusout:this.onBlur,role:"combobox","aria-haspopup":"tree","aria-expanded":this.isOpen,"aria-disabled":m,"aria-label":k,"aria-labelledby":this.$props.ariaLabelledBy,"aria-describedby":this.$props.ariaLabelledBy?this.$props.ariaLabelledBy:"tagslist-"+o,"aria-required":this.$props.required,onClick:this.onWrapperClick},[this.tagsToRenderRef.length>0&&i.createVNode(de,{id:"tagslist-"+o,class:t.classNames("k-input-values k-chip-list k-selection-multiple",{[`k-chip-list-${Ne[U]||U}`]:U,"k-readonly":this.hasValue}),tagRender:j,onTagdelete:this.onTagDelete,dataItems:this.tagsToRenderRef,guid:o,focused:this.focusedTagState?this.tagsToRenderRef.find((e=>this.focusedTagState&&M(e,this.focusedTagState,c))):void 0,tagsRounded:Y,size:U,fillMode:J},null),i.createVNode("span",{class:"k-input-inner",role:"combobox",tabindex:T,"aria-expanded":this.isOpen,"aria-describedby":"tagslist-"+o,"aria-label":this.$props.ariaLabelledBy},[0===this.tagsToRenderRef.length&&i.createVNode("span",{class:"k-input-value-text"},[v])]),this.$props.loading&&i.createVNode(t.Icon,{class:"k-input-loading-icon",name:"loading"},null),this.hasValue&&!m&&i.createVNode(ee,{onClearclick:this.onClear},null),i.createVNode("select",{name:S,ref:t.setRef(this,"select"),tabindex:-1,"aria-hidden":!0,required:N,title:k,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},[i.createVNode("option",{value:this.$props.valueMap?this.$props.valueMap.call(void 0,w):w},null)]),!P&&i.createVNode(a.Popup,{style:{width:this.popupWidth,direction:D},popupClass:t.classNames(g.popupClass,"k-multiselecttree-popup","popup-"+this.componentGuid),class:t.classNames(g.className,{"k-rtl":"rtl"===D}),animate:g.animate,anchor:this.anchor,show:this.isOpen,onOpen:this.onPopupOpened,onClose:this.onPopupClosed,appendTo:g.appendTo,ref:t.setRef(this,"popup")},{default:()=>[this.$props.filterable&&i.createVNode($,{value:void 0===this.$props.filter?this.filterState:this.$props.filter,ref:t.setRef(this,"input"),onChange:this.onFilterChange,onKeydown:this.onInputKeyDown,size:U,rounded:Y,fillMode:J,onFocus:this.onFocus,onBlur:this.onBlur},null),A&&i.createVNode("div",{class:"k-list-header"},[A]),p.length>0?i.createVNode(d.TreeView,{ref:t.setRef(this,"treeView"),tabIndex:T,dataItems:p,focusIdField:c,textField:this.$props.textField,checkField:I,checkIndeterminateField:V,expandField:this.$props.expandField,childrenField:x,expandIcons:!0,onItemclick:this.onChange,onCheckchange:this.onChange,onExpandchange:this.onExpand,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onWrapperKeyDown,checkboxes:!0,size:U,item:L},null):G,E&&i.createVNode("div",{class:"k-list-footer"},[E])]})])}.call(this),{...this.$attrs}),P&&function(){return i.createVNode(r.ActionSheet,{expand:this.isOpen,animation:!0,animationStyles:this.animationStyles,className:this.classNameAdaptive,footerClassName:"k-actions k-actions-stretched",contentClassName:"!k-overflow-hidden",header:Q,content:Z,footer:X,onClose:this.onCancel,navigatableElements:["input.k-input-inner",".k-actionsheet-actions > button"]},null)}.call(this)];return k?i.createVNode(h.FloatingLabel,{label:k,editorValue:this.hasValue,editorPlaceholder:v,editorValid:_,editorDisabled:m,editorId:o,dir:D},we(te)?te:{default:()=>[te]}):te},methods:{clearFilter(e){this.onFilterChange(e,"")},onCancel(e){const t={event:e,target:this},i={items:[],operation:"toggle",value:this.initialAdaptiveRenderingValues,...t};this.$emit("change",i),this.closePopup(e)},calculateMedia(e){for(let t of e)this.windowWidth=t.target.clientWidth},calculatePopupWidth(){this.elementRef&&(this.popupWidth=void 0!==this.popupSettings.width?this.popupSettings.width:this.elementRef.offsetWidth+"px")},focus(){this.$el&&this.$el.focus()},setValidity(){if(this.selectRef&&this.selectRef.setCustomValidity){const{validationMessage:e,valid:t,required:i}=this.$props,s=Te({validationMessage:e,valid:t,required:i},this.hasValue);this.selectRef.setCustomValidity(s.valid?"":void 0===this.validationMessage?"Please select a value from the list!":this.validationMessage)}},changeValue(e,t,i){const s={dataItemKey:this.dataItemKey,checkField:this.checkField,checkIndeterminateField:this.checkIndeterminateField,expandField:this.expandField,subItemsField:this.subItemsField},a=Fe(this.dataItems,{...s,items:t,operation:i,value:this.computedValue}),n={items:t,operation:i,value:a,...e};this.$emit("changemodel",a),this.$emit("update:modelValue",a),this.$emit("change",n)},onChange(e){if(O(e.item,this.computedValue,this.dataItemKey))return;const{item:t,event:i}=e,s={event:i,target:this};this.changeValue(s,[t],"toggle")},openPopup(e){if(!this.isOpen){const t={...e};this.$emit("open",t),void 0===this.opened&&(this.openState=!0)}},closePopup(e){if(this.$props.filterable&&this.clearFilter({...e,target:{...e.target,value:""}}),this.isOpen){const t={...e};this.$emit("close",t),void 0===this.opened&&(this.openState=!1)}},switchFocus(e){this.skipFocusRef=!0,e(),window.setTimeout((()=>this.skipFocusRef=!1),0)},focusElement(e){e&&this.switchFocus((()=>e.focus()))},onPopupOpened(){if(!this.focusedState&&this.isOpen)this.closePopup({target:this});else if(this.$props.filterable){const e=this.inputRef&&this.inputRef.input;this.focusElement(e)}else this.focusElement(this.treeViewRef&&this.treeViewRef.input)},onPopupClosed(){this.focusedState&&this.focusElement(this.elementRef)},onFocus(e){if(!this.focusedState&&!this.skipFocusRef){this.focusedState=!0;const t={event:e,target:this};this.$emit("focus",t)}},onBlur(e){if(this.focusedState&&!this.skipFocusRef&&!this.adaptiveState){this.focusedTagState=void 0,this.focusedState=!1;const t={event:e,target:this},i={...t};(!e.relatedTarget||!e.relatedTarget.closest(".popup-"+this.componentGuid))&&(this.$emit("blur",i),this.closePopup(t))}},onWrapperMouseDown(){this.focusedState&&this.switchFocus(t.noop)},onWrapperClick(e){if(!this.$props.disabled&&!e.defaultPrevented){this.focusedState=!0;const t={event:e,target:this};this.isOpen||this.openPopup(t)}},onWrapperKeyDown(e){const{keyCode:i,altKey:s}=e,a=this.treeViewRef&&this.treeViewRef.$el,n=this.inputRef&&this.inputRef.input;if(this.$props.disabled||e.defaultPrevented&&n===e.target)return;const o={event:e,target:this};if(this.computedValue&&this.computedValue.length>0&&(i===t.Keys.left||i===t.Keys.right||i===t.Keys.home||i===t.Keys.end||i===t.Keys.delete||i===t.Keys.backspace)){const e=this.tagsToRenderRef;let s,a=this.focusedTagState?e.findIndex((e=>M(e,this.focusedTagState,this.dataItemKey))):-1;const n=-1!==a;i===t.Keys.left?(a=n?Math.max(0,a-1):e.length-1,s=e[a]):i===t.Keys.right?n?(a=Math.min(e.length-1,a+1),s=e[a]):s=e[0]:i===t.Keys.home?s=e[0]:i===t.Keys.end?s=e[e.length-1]:(i===t.Keys.delete||i===t.Keys.backspace)&&n&&this.changeValue(o,e[a].data,"delete"),s!==this.focusedTagState&&(this.focusedTagState=s)}if(this.isOpen)if(i===t.Keys.esc||s&&i===t.Keys.up)e.preventDefault(),this.switchFocus((()=>{this.focusElement(this.elementRef)})),this.closePopup(o);else if(a&&a.querySelector(".k-focus")&&(i===t.Keys.up||i===t.Keys.down||i===t.Keys.left||i===t.Keys.right||i===t.Keys.home||i===t.Keys.end)){if(i===t.Keys.up){const e=Array.from(a.querySelectorAll(".k-treeview-item")),t=[...e].reverse().find((e=>!(!e||!e.querySelector(".k-focus"))));if(t&&0===e.indexOf(t))return this.switchFocus((()=>{this.focusElement(n||this.elementRef)}))}this.switchFocus(t.noop)}else i===t.Keys.down&&this.switchFocus((()=>{this.focusElement(n||a)}));else s&&i===t.Keys.down&&(e.preventDefault(),this.openPopup(o))},onInputKeyDown(e){const{keyCode:i,altKey:s}=e;(i===t.Keys.esc||s&&i===t.Keys.up)&&(e.preventDefault(),this.switchFocus((()=>{this.focusElement(this.elementRef)})),i===t.Keys.esc&&this.adaptiveState?this.onCancel(e):this.closePopup(e)),!(s||i!==t.Keys.up&&i!==t.Keys.down)&&(e.preventDefault(),this.switchFocus(i===t.Keys.up?()=>{this.focusElement(this.elementRef)}:()=>{this.focusElement(this.treeViewRef&&this.treeViewRef.$el)}))},onClear(e){const t={event:e,target:this};this.changeValue(t,[],"clear"),this.closePopup(t),this.filterState="",e.preventDefault()},onTagDelete(e,t){if(this.closePopup({target:this}),!this.focusedState){const e=this.inputRef&&this.inputRef.input;this.focusElement(e)}this.changeValue({event:t,target:this},e,"delete")},onExpand(e){const{item:t,itemHierarchicalIndex:i,event:s}=e,a={level:Re(i),item:t,event:s,target:this};this.$emit("expandchange",a)},onFilterChange(e,t){const i=t?"":e.target.value,s={filter:{field:this.$props.textField,operator:"contains",value:i},event:e,target:this};this.$emit("filterchange",s),void 0===this.$props.filter&&(this.filterState=i)}}});e.AutoComplete=oe,e.ComboBox=se,e.DropDownList=X,e.DropDownTree=xe,e.MultiSelect=be,e.MultiSelectTree=Me,e.getMultiSelectTreeValue=Fe,e.getValueMap=Ce}));
