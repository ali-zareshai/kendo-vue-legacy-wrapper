/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("@progress/kendo-vue-common"),require("@progress/kendo-vue-data-tools"),require("@progress/kendo-vue-indicators"),require("@progress/kendo-vue-intl"),require("@progress/kendo-svg-icons"),require("@progress/kendo-vue-inputs"),require("@progress/kendo-vue-dateinputs"),require("@progress/kendo-vue-popup"),require("@progress/kendo-data-query"),require("@progress/kendo-vue-animation"),require("@progress/kendo-vue-buttons"),require("@progress/kendo-vue-dropdowns")):"function"==typeof define&&define.amd?define(["exports","vue","@progress/kendo-vue-common","@progress/kendo-vue-data-tools","@progress/kendo-vue-indicators","@progress/kendo-vue-intl","@progress/kendo-svg-icons","@progress/kendo-vue-inputs","@progress/kendo-vue-dateinputs","@progress/kendo-vue-popup","@progress/kendo-data-query","@progress/kendo-vue-animation","@progress/kendo-vue-buttons","@progress/kendo-vue-dropdowns"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoVueGrid={},e.Vue,e.KendoVueCommon,e.KendoVueDatatools,e.KendoVueIndicators,e.KendoVueIntl,e.KendoSVGIcons,e.KendoVueInputs,e.KendoVueDateinputs,e.KendoVuePopup,e.KendoDataQuery,e.KendoVueAnimation,e.KendoVueButtons,e.KendoVueDropdowns)}(this,(function(e,t,i,r,o,s,l,n,a,d,h,c,p,u){"use strict";const g=t.defineComponent({name:"KendoGridNav",props:{currentData:Array},inject:{onNavKeyDown:{default:i.noop},onNavFocus:{default:i.noop},onNavMount:{default:i.noop},handleDispatchFocus:{default:i.noop},kbContext:{default:null},navigation:{default:null}},mounted(){this.onNavMount({scope:this.$el||void 0})},updated(){this.onNavMount({scope:this.$el||void 0})},methods:{onKeyDown(e){this.onNavKeyDown(e,{navigation:this.navigation,kbContext:this.kbContext,onNavigationAction:this.onNavigationAction}),this.$emit("keydown",{dataItems:this.getLeafDataItems(),componentId:this._gridId,selectedField:this.$props.selectedField,event:e})},onFocus(e){this.onNavFocus(e,{kbContext:this.kbContext})},onNavigationAction(e){this.$emit("navigationaction",{focusElement:e.focusElement,event:e.event})},getLeafDataItems(){return this.$props.currentData.filter((e=>"data"===e.rowType)).map((e=>e.dataItem))}},render(){const e=i.getDefaultSlots(this);return t.createVNode("div",{onKeydown:this.onKeyDown,onFocusin:this.onFocus,"data-keyboardnavscope":!0},[e])}}),m="string";function f(e,t){const i=e.split(".");let r=t;return i.forEach((e=>{r=r?r[e]:void 0})),r}function b(e,t,i,r,o,s,l=0){let n=l;for(let a=0;a<t.length;a++){if(!o||void 0===t[a].value||void 0===t[a].items){e[e.length]={dataIndex:++r.index,dataItem:t[a],rowType:"data",level:l,expanded:void 0===s||f(s,t[a])};continue}n=Math.max(n,l+1);const d=void 0===s||void 0===f(s,t[a])||f(s,t[a]);e[e.length]={dataIndex:-1,dataItem:t[a],level:l,rowType:"groupHeader",expanded:d},d&&(n=Math.max(b(e,t[a].items,i,r,o,s,l+1),n)),("always"===i||d&&"visible"===i)&&(e[e.length]={dataIndex:-1,dataItem:t[a],rowType:"groupFooter",level:l,expanded:d})}return n}function v(e){return e&&"rtl"===getComputedStyle(e).direction||!1}function C(e,t){if(!(t&&e&&e.originalEvent&&i.canUseDOM))return-1;let r=document.elementFromPoint(e.clientX,e.originalEvent.clientY);for(;r&&r.parentElement!==t;)r=r.parentElement;const o=t.children;for(let e=0;e<o.length;e++)if(o[e]===r)return e;return-1}const $=["sortChange","filterChange","groupChange","pageChange","expandChange","selectionChange","headerSelectionChange","rowClick","itemChange","dataStateChange","columnResize","columnReorder"],k={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0},x=(e,t)=>`The ${e} event handler property is deprecated, use https://www.telerik.com/kendo-vue-ui/components/grid/api/GridProps/#toc-${t} instead`;function I(e,t){const i=e[t].depth;let r=null;for(let o=t+1;o<e.length;o++)if(e[o].depth===i){r=e[o];break}return r}function S(e){const t=[[]];let i=0;for(let t=e.length-1;t>=0;t--)i=Math.max(i,e[t].depth),e[t].colSpan=e[t].colSpan||1,e[t].children.length>0&&(e[t].colSpan=e[t].children.reduce(((e,t)=>t.hidden?e:e+t.colSpan),0));let r=1;e.forEach(((e,o)=>{t[e.depth]=t[e.depth]||[];let s=!1;0===t[e.depth].length&&(r<=1?r=1+(e.children.length>0?0:i-e.depth):(r--,s=!0)),e.rowSpan=1+(e.children.length>0?0:i-e.depth),e.kFirst=s,e.index=t[e.depth].length,t[e.depth].push(o)}));const o=new Array(t.length).fill(0);let s=0;e.forEach((e=>{if(e.locked)if(e.left=o[e.depth],s=e.width?parseFloat(e.width.toString()):0,0===e.children.length)for(let t=e.depth;t<o.length;t++)o[t]+=s;else o[e.depth]+=s}));const l=new Array(t.length).fill(0);for(let t=e.length-1;t>=0;t--){const i=e[t];if(i.locked){if(i.right=l[i.depth],s=i.width?parseFloat(i.width.toString()):0,0===i.children.length)for(let e=i.depth;e<l.length;e++)l[e]+=s;else l[i.depth]+=s;const r=I(e,t);i.rightBorder=!(r&&r.locked)}}return t}function y(e,t,i,o=0){const s=[],l=!(!e||!e.length)&&e.length===t.length;if(!e)return[];e&&void 0===e.length&&(e=[e]),e.forEach(((e,n)=>{const a=l&&t[n]||null,d=e.children?e.children.filter((e=>!e.hidden)):e.children,h=y(d,a&&a.children||[],i,o+1);s.push(Object.assign({depth:o},k,h.length?{cell:()=>null,filterCell:()=>null}:{},a?{width:a.width,orderIndex:a.orderIndex}:{},e,{id:r.tableKeyboardNavigationTools.generateNavigatableId(""+i.prevId++,i.idPrefix,"column"),declarationIndex:s.length,children:h,rowSpan:0,colSpan:0,isAccessible:!0}))}));if(s.sort(((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0))),0===o){const e=[],t=(i,r)=>i.forEach((i=>{i.parentIndex=r,t(i.children,e.push(i)-1)}));return t(s,-1),e}return s}function N(e,t,i,o){let s=[];Array.isArray(e)?s=e:e&&(s=e.data),s.length||console.warn("Kendo Grid autogeneration of columns is only possible if some items are defined when the component is created.");const l=[];if(s.length>0){let e=s[0];if(t)for(let i=0;i<t.length;i++)e=e.items&&e.items[0];Object.getOwnPropertyNames(e).forEach((e=>{e!==i&&"__ob__"!==e&&l.push(Object.assign({id:r.tableKeyboardNavigationTools.generateNavigatableId(""+o.prevId++,o.idPrefix,"column"),declarationIndex:-1,parentIndex:-1,depth:0,colSpan:0,rowSpan:0,index:0,left:0,right:0,children:[],rightBorder:!1,ariaColumnIndex:1,isAccessible:!0},k,{field:e}))}))}return l}const w=e=>e.filter((t=>!((e,t)=>{let i=e[t.parentIndex];for(;i;){if(i.footerCell)return!0;i=e[i.parentIndex]}return!1})(e,t)&&(!!t.footerCell||!(t.children&&t.children.length>0)))),V={number:function(e,t,i){return typeof e===m&&"null"===e.toLowerCase()?null:t.parseNumber(e,i)},date:function(e,t,i){return typeof e===m&&"null"===e.toLowerCase()?null:t.parseDate(e,i)},boolean:function(e){return typeof e===m?"null"===e.toLowerCase()?null:"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return typeof e===m&&"null"===e.toLowerCase()?null:null!=e?e+"":e},default:function(e){return e}};function R(e,t,i,r){return e.forEach((e=>{e.expanded=t[r]&&!t[r].includes(H(e,i)),e.items&&e.items.length&&(e.items=R(e.items,t,i,r+1))})),e}function F(e,t,i){return t&&t.length&&e.data.forEach((e=>{e.expanded=void 0!==e.expanded?e.expanded:t[0]&&!t[0].includes(H(e,i)),e.items&&e.items.length&&(e.items=R(e.items,t,i,1))})),e}function H(e,t){let i=e;for(;i.items&&i.items.length;)i=i.items[0];return t?i[t]:e.value}const O="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),D=17895697,L=t.defineComponent({name:"KendoGridSelectionCell",inheritAttrs:!1,props:{id:String,field:String,dataItem:Object,format:String,type:String,className:String,colSpan:Number,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,render:[String,Function,Object],isSelected:Boolean,ariaColumnIndex:Number,editor:String,isRtl:Boolean},emits:{selectionchange:null,cellkeydown:null},inject:{kendoIntlService:{default:null},getKeyboardNavigationAttributes:{default:i.noop}},data:()=>({inputId:i.guid()}),computed:{tdClass(){const{className:e}=this.$props;return{"k-table-td":!0,[e]:e}}},methods:{triggerKeydown(e){this.$emit("cellkeydown",{event:e,dataItem:this.$props.dataItem,field:this.$props.field})},handleOnChange(e){this.$emit("selectionchange",{event:e,dataItem:this.$props.dataItem})}},render(){const e=f(this.$props.field,this.$props.dataItem),o=this.$props.render,s=this.getKeyboardNavigationAttributes(this.$props.id),l="groupHeader"!==this.$props.rowType?t.createVNode("td",{style:this.$attrs.style,onKeydown:this.triggerKeydown,colspan:this.$props.colSpan,class:this.tdClass,"aria-colindex":this.$props.ariaColumnIndex,role:"gridcell",tabindex:s.tabIndex,"data-keyboardnavlevel":s[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":s[r.KEYBOARD_NAV_DATA_ID]},[t.createVNode("span",{class:"k-checkbox-wrap"},[t.createVNode("input",{checked:e,id:this.inputId,type:"checkbox",class:"k-checkbox k-checkbox-md k-rounded-md",onChange:this.handleOnChange},null)]),t.createVNode("label",{class:"k-checkbox-label",for:this.inputId},null)]):null;return i.getTemplate.call(this,{h:t.h,template:o,defaultRendering:l,additionalProps:this.$props,additionalListeners:{keydown:this.triggerKeydown,change:this.handleOnChange}})}}),A="grid.noRecords",T="grid.selectAllRows",E="grid.pagerInfo",G="grid.pagerFirstPage",z="grid.pagerPreviousPage",_="grid.pagerNextPage",M="grid.pagerLastPage",j="grid.pagerItemsPerPage",K="grid.pagerPageSelection",B="grid.pagerPage",P="grid.pagerOf",W="grid.pagerTotalPages",q="grid.groupPanelEmpty",U="grid.columnMenu",Y="grid.filterClearButton",X="grid.filterSubmitButton",J="grid.filterTitle",Q="grid.sortAscending",Z="grid.sortDescending",ee="grid.searchPlaceholder",te="grid.filterCheckAll",ie="grid.filterChooseOperator",re="grid.filterSelectedItems",oe="grid.sortAriaLabel",se="grid.sortableColumnAriaLabel",le="grid.sortableColumnAscendingAriaLabel",ne="grid.sortableColumnDescendingAriaLabel",ae="grid.filterAriaLabel",de="grid.numericFilterAriaLabel",he="grid.dateFilterAriaLabel",ce="grid.textFilterAriaLabel",pe="grid.booleanFilterAriaLabel",ue="grid.groupHeaderAriaLabel",ge="grid.groupCaretAriaLabelCollapse",me="grid.groupCaretAriaLabelExpand",fe="grid.expandDetailTemplateAriaLabel",be="grid.collapseDetailTemplateAriaLabel",ve={[T]:"Select All Rows",[A]:"No records available",[q]:"Drag a column header and drop it here to group by that column",[U]:"Column Menu",[Y]:"Clear",[X]:"Filter",[J]:"Filter",[Q]:"Sort Ascending",[Z]:"Sort Descending",[j]:"items per page",[K]:"Select page",[E]:"{0} - {1} of {2} items",[G]:"Go to the first page",[z]:"Go to the previous page",[_]:"Go to the next page",[M]:"Go to the last page",[B]:"Page",[P]:"of",[W]:"{0}",[ee]:"Search",[te]:"Check All",[ie]:"Choose Operator",[re]:"selected items",[oe]:"Sortable",[se]:"Sortable Column",[le]:"Sorted in ascending order",[ne]:"Sorted in descending order",[ae]:"Filter",[de]:"Numeric Filter",[he]:"Date Filter",[ce]:"Text Filter",[pe]:"Boolean Filter",[ue]:"Group Header",[ge]:"Collapse Group",[me]:"Expand Group",[fe]:"Expand Details",[be]:"Collapse Details","grid.filterEqOperator":"Is equal to","grid.filterNotEqOperator":"Is not equal to","grid.filterIsNullOperator":"Is null","grid.filterIsNotNullOperator":"Is not null","grid.filterIsEmptyOperator":"Is empty","grid.filterIsNotEmptyOperator":"Is not empty","grid.filterStartsWithOperator":"Starts with","grid.filterContainsOperator":"Contains","grid.filterNotContainsOperator":"Does not contain","grid.filterEndsWithOperator":"Ends with","grid.filterGteOperator":"Is greater than or equal to","grid.filterGtOperator":"Is greater than","grid.filterLteOperator":"Is less than or equal to","grid.filterLtOperator":"Is less than","grid.filterIsTrue":"Is true","grid.filterIsFalse":"Is false","grid.filterBooleanAll":"(All)","grid.filterAfterOrEqualOperator":"Is after or equal to","grid.filterAfterOperator":"Is after","grid.filterBeforeOperator":"Is before","grid.filterBeforeOrEqualOperator":"Is before or equal to","grid.filterAndLogic":"And","grid.filterOrLogic":"Or"};function Ce(e){const t=e.replace(/^pager\.([a-z])/,((e,t)=>"grid.pager"+t.toUpperCase()));return{messageKey:t,defaultMessage:ve[t]}}const $e=t.defineComponent({name:"KendoGridHierarchyCell",inheritAttrs:!1,props:{id:String,field:String,dataItem:Object,format:String,type:String,className:String,colSpan:Number,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String,isSelected:Boolean,dataIndex:Number,ariaColumnIndex:Number,render:[String,Function,Object],isRtl:Boolean},emits:{change:null,cellkeydown:null},inject:{kendoIntlService:{default:null},kendoLocalizationService:{default:null},getKeyboardNavigationAttributes:{default:i.noop}},methods:{triggerKeydown(e,t){this.$emit("cellkeydown",{event:e,dataItem:this.$props.dataItem,field:this.$props.field,expanded:t}),!e.defaultPrevented&&e.keyCode===i.Keys.enter&&(e.preventDefault(),this.$emit("change",{dataItem:this.$props.dataItem,dataIndex:this.$props.dataIndex,event:e,field:this.$props.field,value:!t}))},clickHandler(e,t,i){e.preventDefault(),this.$emit("change",{dataItem:t,event:e,field:void 0,value:!i})}},computed:{wrapperClass(){return{"k-table-td":!0,"k-hierarchy-cell":!0,[this.className||""]:this.className}}},render(){let e=null;const o=this.getKeyboardNavigationAttributes(this.$props.id),n=s.provideLocalizationService(this),a=n.toLanguageString(be,ve[be]),d=n.toLanguageString(fe,ve[fe]);if("groupFooter"===this.$props.rowType)e=t.createVNode("td",{class:this.wrapperClass},null);else if("groupHeader"!==this.$props.rowType){const s=f(this.$props.field,this.$props.dataItem);e=t.createVNode("td",{style:this.$attrs.style,onKeydown:e=>{this.triggerKeydown(e,s)},class:this.wrapperClass,"aria-expanded":s?"true":"false",role:"gridcell","aria-colindex":this.$props.ariaColumnIndex,tabindex:o.tabIndex,"data-keyboardnavlevel":o[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":o[r.KEYBOARD_NAV_DATA_ID]},[t.createVNode("a",{onClick:e=>{this.clickHandler(e,this.$props.dataItem,s)},href:"#",tabindex:-1,title:s?a:d,"aria-label":s?a:d},[t.createVNode(i.Icon,{name:s?"minus":"plus",icon:s?l.minusIcon:l.plusIcon},null)])])}return i.getTemplate.call(this,{h:t.h,template:this.$props.render,defaultRendering:e,additionalProps:this.$props,additionalListeners:{keydown:this.triggerKeydown,click:this.clickHandler}})}}),ke=t.defineComponent({props:{id:String},inject:{getKeyboardNavigationAttributes:{default:i.noop}},setup:()=>({kendoIntlService:t.inject("kendoIntlService",{})}),render(){const e=this.getKeyboardNavigationAttributes(this.$props.id);return t.createVNode("td",{class:"k-table-td k-hierarchy-cell",tabindex:e.tabIndex,"data-keyboardnavlevel":e[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":e[r.KEYBOARD_NAV_DATA_ID]},null)}}),xe=t.defineComponent({props:{colSpan:Number,ariaColIndex:Number,dataItem:[Object,String,Number],dataIndex:Number,detail:[String,Function,Object],id:String},inject:{getKeyboardNavigationAttributes:{default:i.noop}},setup:()=>({kendoIntlService:t.inject("kendoIntlService",{})}),render(){const{colSpan:e,ariaColIndex:o,dataItem:s,dataIndex:l,id:n}=this.$props,a=this.getKeyboardNavigationAttributes(n);return t.createVNode("td",{class:"k-table-td k-detail-cell",colspan:e,"aria-colindex":o,role:"gridcell",tabindex:a.tabIndex,"data-keyboardnavlevel":a[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":a[r.KEYBOARD_NAV_DATA_ID]},[function(e){return i.getTemplate.call(this,{h:t.h,template:this.$props.detail,additionalProps:e})}.call(this,{dataItem:s,dataIndex:l})])}}),Ie=t.defineComponent({name:"GridEditCell",inheritAttrs:!1,props:{id:String,field:String,dataItem:Object,format:String,type:String,className:String,colSpan:Number,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String,isSelected:Boolean,ariaColumnIndex:Number,render:[String,Function,Object],isRtl:Boolean,readFormat:String,dataIndex:Number},emits:{change:null,cellkeydown:null,edit:null,add:null,cancel:null,save:null,remove:null},inject:{kendoIntlService:{default:null},getKeyboardNavigationAttributes:{default:i.noop}},computed:{tdClass(){const{className:e}=this.$props;return{"k-table-td":!0,[e]:e}}},data:()=>({inputId:i.guid()}),methods:{triggerKeydown(e){this.$emit("cellkeydown",{event:e,dataItem:this.$props.dataItem,field:this.$props.field})},triggerEdit(e){this.$emit("edit",e)},triggerAdd(e){this.$emit("add",e)},triggerCancel(e){this.$emit("cancel",e)},triggerSave(e){this.$emit("save",e)},triggerRemove(e){this.$emit("remove",e)},changeHandler(e,t){t||(t="checkbox"===e.target.type?e.target.checked:e.target.valueAsDate?e.target.valueAsDate:e.target.value),this.$emit("change",{dataItem:this.$props.dataItem,field:this.$props.field,event:e,value:t})}},setup:()=>({kendoIntlService:t.inject("kendoIntlService",{})}),render(){const e=f(this.$props.field,this.$props.dataItem),o=this.getKeyboardNavigationAttributes(this.$props.id);let s=null;switch(this.$props.editor){case"numeric":s=t.createVNode("td",{style:this.$attrs.style,onKeydown:this.triggerKeydown,colspan:this.$props.colSpan,class:this.tdClass,role:"gridcell","aria-colindex":this.$props.ariaColumnIndex,"aria-selected":this.$props.isSelected,"data-grid-col-index":this.$props.columnIndex,tabindex:o.tabIndex,"data-keyboardnavlevel":o[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":o[r.KEYBOARD_NAV_DATA_ID]},[t.createVNode(n.NumericTextBox,{style:{width:"100%"},value:void 0===e?null:e,onChange:this.changeHandler},null)]);break;case"date":s=t.createVNode("td",{style:this.$attrs.style,onKeydown:this.triggerKeydown,colspan:this.$props.colSpan,class:this.tdClass,role:"gridcell","aria-colindex":this.$props.ariaColumnIndex,"aria-selected":this.$props.isSelected,"data-grid-col-index":this.$props.columnIndex,tabindex:o.tabIndex,"data-keyboardnavlevel":o[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":o[r.KEYBOARD_NAV_DATA_ID]},[t.createVNode(a.DatePicker,{style:{width:"100%"},value:e,onChange:this.changeHandler},null)]);break;case"boolean":s=t.createVNode("td",{style:this.$attrs.style,onKeydown:this.triggerKeydown,colspan:this.$props.colSpan,class:this.tdClass,role:"gridcell","aria-colindex":this.$props.ariaColumnIndex,"aria-selected":this.$props.isSelected,"data-grid-col-index":this.$props.columnIndex,tabindex:o.tabIndex,"data-keyboardnavlevel":o[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":o[r.KEYBOARD_NAV_DATA_ID]},[t.createVNode("input",{checked:e||!1,id:this.inputId,type:"checkbox",class:"k-checkbox k-checkbox-md k-rounded-md",onChange:this.changeHandler},null),t.createVNode("label",{class:"k-checkbox-label",for:this.inputId},null)]);break;default:s=t.createVNode("td",{style:this.$attrs.style,onKeydown:this.triggerKeydown,colspan:this.$props.colSpan,class:this.tdClass,role:"gridcell","aria-colindex":this.$props.ariaColumnIndex,"aria-selected":this.$props.isSelected,"data-grid-col-index":this.$props.columnIndex,tabindex:o.tabIndex,"data-keyboardnavlevel":o[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":o[r.KEYBOARD_NAV_DATA_ID]},[t.createVNode("span",{class:"k-textbox k-input k-input-md k-rounded-md k-input-solid"},[t.createVNode("input",{style:{width:"100%"},class:"k-input-inner",value:null!=e?e:"",onChange:this.changeHandler},null)])])}return i.getTemplate.call(this,{h:t.h,template:this.$props.render,defaultRendering:s,additionalProps:this.$props,additionalListeners:{change:this.changeHandler,keydown:this.triggerKeydown,edit:this.triggerEdit,add:this.triggerAdd,cancel:this.triggerCancel,save:this.triggerSave,remove:this.triggerRemove}})}});let Se=class{get scrollbarWidth(){const e="undefined"!=typeof document?document:{};if(!this.scrollbar&&e&&e.createElement){const t=e.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",e.body.appendChild(t),this.scrollbar=t.offsetWidth-t.scrollWidth,e.body.removeChild(t)}return this.scrollbar}};const ye=t.defineComponent({props:{staticHeaders:Boolean,headerRow:Object,columnResize:Object,cols:Array,size:String,draggable:Boolean},data:()=>({divStyle:{},element:null,headerWrap:null,table:null}),computed:{wrapperClass(){return{"k-grid-header":!0,"k-grid-draggable-header":this.$props.draggable}},tableClass(){const{size:e}=this.$props;return{"k-table":!0,"k-grid-header-table":!0,[`k-table-${i.kendoThemeMaps.sizeMap[e]||e}`]:e}}},mounted(){this.headerWrap=i.getRef(this,"headerWrap"),this.table=i.getRef(this,"table"),this.$props.columnResize.colGroupHeader=i.getRef(this,"colGroupHeader");const e=(new Se).scrollbarWidth,t=v(this.$el);this.$props.columnResize&&this.$props.columnResize.setIsRtl(t);const r=Math.max(0,e)+"px",o=t?0:r,s=t?r:0;this.divStyle={padding:`0 ${o} 0 ${s}`}},methods:{setScrollLeft(e){this.headerWrap&&(this.headerWrap.scrollLeft=e)},setWidth(e){this.table&&(this.table.style.width=e+"px")}},setup:()=>({headerWrapRef:t.ref(null),tableRef:t.ref(null),colGroupHeaderRef:t.ref(null)}),render(){return this.$props.staticHeaders?t.createVNode("div",{class:this.wrapperClass,style:this.divStyle},[t.createVNode("div",{ref:i.setRef(this,"headerWrap"),class:"k-grid-header-wrap"},[t.createVNode("table",{class:this.tableClass,ref:i.setRef(this,"table"),role:"none"},[t.createVNode("colgroup",{ref:i.setRef(this,"colGroupHeader")},[this.$props.cols]),this.$props.headerRow])])]):this.$props.headerRow}}),Ne=(...e)=>Object.assign({allowUnsort:!0,mode:"single"},...e),we=t.defineComponent({props:{onResize:Function},mounted(){this.$el&&(this.draggable=this.$refs.draggable)},methods:{drag(e){const t=this.draggable&&this.draggable.element;t&&this.$emit("resize",e,t,!1)},release(e){const t=this.draggable&&this.draggable.element;t&&this.$emit("resize",e,t,!0)}},render(){const e={cursor:"col-resize",display:"block",height:"1000%",position:"absolute",top:0,width:".5em"};return t.createVNode(i.Draggable,{onDrag:this.drag,onRelease:this.release,ref:"draggable"},{default:()=>[t.createVNode("span",{class:"k-column-resizer",draggable:!1,style:e},null)]})}}),Ve=t.defineComponent({props:{onPressHandler:Function,onDragHandler:Function,onReleaseHandler:Function},mounted(){this.$el&&(this.draggable=this.$refs.draggable)},methods:{onPress(e){const t=this.draggable&&this.draggable.element;t&&this.$emit("pressHandler",e,t)},onDrag(e){const t=this.draggable&&this.draggable.element;t&&this.$emit("dragHandler",e,t)},onRelease(e){const t=this.draggable&&this.draggable.element;t&&this.$emit("releaseHandler",e,t)}},render(){const e=i.getDefaultSlots(this);return t.createVNode(i.Draggable,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:"draggable"},{default:()=>[t.createVNode("tr",{class:"k-table-row",role:"row"},[e])]})}}),Re=t.defineComponent({props:{field:String,title:String,sortable:[Boolean,Object],render:[Object,Function,String],selectionValue:[Boolean,String,Number],onHeadercellclick:Function},computed:{linkClass(){return{"k-link":!0,"!k-cursor-default":!this.sortable}}},methods:{clickHandler(e){this.sortable&&this.$emit("headercellclick",e)}},render(){const e=i.getDefaultSlots(this),r=this.$props.render,o=this.$props.title||this.$props.field||" ",s=i.getTemplate.call(this,{h:t.h,template:r,defaultRendering:o,additionalProps:this.$props,additionalListeners:{click:this.clickHandler}});return t.createVNode("span",{class:this.linkClass,onClick:this.clickHandler},[t.createVNode("span",{class:"k-column-title"},[s]),e])}}),Fe=t.defineComponent({props:{title:String,iconClass:String,icon:String,svgIcon:Object,selected:Boolean,onMenuitemclick:Function},methods:{onClick(e){this.$emit("menuitemclick",e)},onKeyDown(e){e.keyCode===i.Keys.enter&&this.$emit("menuitemclick",e)}},render(){const{title:e,iconClass:r,selected:o,icon:s,svgIcon:l}=this.$props;return t.createVNode("div",{tabindex:0,onKeydown:this.onKeyDown,onClick:this.onClick,class:"k-columnmenu-item "+(o?"k-selected":"")},[r&&t.createVNode(i.Icon,{class:r},null),(s||l)&&t.createVNode(i.Icon,{name:s,icon:l},null),e])}}),He=t.defineComponent({render(){const e=i.getDefaultSlots(this);return t.createVNode("div",{class:"k-columnmenu-item-wrapper"},[e])}}),Oe="desc",De={true:{asc:{asc:"",desc:"desc"},desc:{asc:"asc",desc:""},"":{asc:"asc",desc:"desc"}},false:{asc:{asc:"asc",desc:"desc"},desc:{asc:"asc",desc:"desc"},"":{asc:"asc",desc:"desc"}}},Le=(e,t)=>t?t.findIndex((t=>t.field===e)):-1,Ae=(e,t)=>!!(t&&e>-1&&"asc"===t[e].dir),Te=(e,t)=>!!(t&&e>-1&&t[e].dir===Oe),Ee=t.defineComponent({props:{sortable:[Boolean,Object],sort:{type:Array},column:Object,onSortchange:Function,onClosemenu:Function},inject:{kendoLocalizationService:{default:null}},methods:{onAscClick(e){this.onSort(e,"asc"),this.$emit("closemenu")},onDescClick(e){this.onSort(e,Oe),this.$emit("closemenu")},onSort(e,t){if(e.preventDefault(),!i.hasListener.call(this,"sortchange"))return;const{column:r,sortable:o,sort:s}=this.$props,{allowUnsort:l,mode:n}=Ne(o||!1,!1),a=(s||[]).filter((e=>e.field===r.field))[0],d=De[l][a&&a.dir||""][t],h="single"===n?[]:(this.$props.sort||[]).filter((e=>e.field!==r.field));""!==d&&r.field&&h.push({field:r.field,dir:d}),this.$emit("sortchange",h,{event:e,field:this.$props.column.field})}},setup:()=>({kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){const{sort:e,column:i}=this.$props,r=Le(i.field,e),o=s.provideLocalizationService(this);return t.createVNode(He,null,{default:()=>[t.createVNode(Fe,{title:o.toLanguageString(Q,ve[Q]),icon:"sort-asc-small",svgIcon:l.sortAscSmallIcon,selected:Ae(r,e),onMenuitemclick:this.onAscClick},null),t.createVNode(Fe,{title:o.toLanguageString(Z,ve[Z]),icon:"sort-desc-small",svgIcon:l.sortDescSmallIcon,selected:Te(r,e),onMenuitemclick:this.onDescClick},null)]})}}),Ge=t.defineComponent({props:{show:Boolean},render(){const e=i.getDefaultSlots(this);return t.createVNode("div",{class:"k-columnmenu-item-content"},[t.createVNode(c.Reveal,{appear:this.$props.show,style:{position:"relative",display:"block"}},{default:()=>[this.$props.show?e:null]})])}}),ze=[{text:"grid.filterAndLogic",operator:"and"},{text:"grid.filterOrLogic",operator:"or"}],_e={text:[{text:"grid.filterContainsOperator",operator:"contains"},{text:"grid.filterNotContainsOperator",operator:"doesnotcontain"},{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterStartsWithOperator",operator:"startswith"},{text:"grid.filterEndsWithOperator",operator:"endswith"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"},{text:"grid.filterIsEmptyOperator",operator:"isempty"},{text:"grid.filterIsNotEmptyOperator",operator:"isnotempty"}],numeric:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterGteOperator",operator:"gte"},{text:"grid.filterGtOperator",operator:"gt"},{text:"grid.filterLteOperator",operator:"lte"},{text:"grid.filterLtOperator",operator:"lt"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],date:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterAfterOrEqualOperator",operator:"gte"},{text:"grid.filterAfterOperator",operator:"gt"},{text:"grid.filterBeforeOperator",operator:"lt"},{text:"grid.filterBeforeOrEqualOperator",operator:"lte"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],boolean:[{text:"grid.filterEqOperator",operator:"eq"}]},Me=e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e,je=(e,t)=>e.map((e=>({text:t.toLanguageString(e.text,ve[e.text]),operator:e.operator}))),Ke=[{text:"grid.filterBooleanAll",operator:""},{text:"grid.filterIsTrue",operator:!0},{text:"grid.filterIsFalse",operator:!1}],Be=(e,t,i)=>{const r=Pe(i.operators);let o=i.operator;switch(i.filterType){case"numeric":case"date":(!o||Me(o))&&(o=r),null===e&&o===r&&(o="");break;case"text":(!o||Me(o))&&(o=r),!e&&o===r&&(o="");break;default:return}return{value:e,operator:o,event:t}},Pe=(e,t)=>t?e[t][0].operator:e[0].operator,We=e=>e||"text",qe=(e,t)=>({value:e,operator:""===e?"":"eq",event:t}),Ue=(e,t,i)=>(Me(e)&&(i=null),{value:i,operator:e,event:t}),Ye=t.defineComponent({props:{field:String,filterType:String,value:[Object,String,Number,Date,Boolean],operator:String,operators:Array,booleanValues:Array},emits:{change:null,filtercellfocus:null},methods:{handleFocus(e){this.$emit("filtercellfocus",e)},triggerChange(e){this.$emit("change",e)},inputChange(e,t){const i=Be(e,t,this.$props);this.triggerChange(i)},boolDropdownChange(e,t){const i=qe(e.value.operator,t);this.triggerChange(i)}},render(){const{filterType:e,value:i,booleanValues:r}=this.$props;let o;switch(e){case"numeric":return t.createVNode(n.NumericTextBox,{value:i,onChange:e=>{this.inputChange(e.value,e.event)}},null);case"date":return t.createVNode(a.DatePicker,{value:i,onFocus:this.handleFocus,onChange:e=>{this.inputChange(e.value,e.event)}},null);case"boolean":return o=e=>null==e,t.createVNode(u.DropDownList,{onChange:this.boolDropdownChange,value:r.find((e=>e.operator===(o(i)?"":i))),"data-items":r,textField:"text"},null);default:return t.createVNode("span",{class:"k-textbox k-input k-input-md k-rounded-md k-input-solid"},[t.createVNode("input",{class:"k-input-inner",value:i||"",onInput:e=>{this.inputChange(e.target.value,e)}},null)])}}}),Xe=t.defineComponent({props:{filterType:String,operator:String,operators:Array},emits:{change:null},methods:{triggerChange(e){this.$emit("change",e)},operatorChange(e,t){const i=Ue(e.value.operator,t,this.$props.value);this.triggerChange(i)}},render(){const e=this.$props.operators.find((e=>e.operator===this.$props.operator))||null;return"boolean"!==this.$props.filterType?t.createVNode(u.DropDownList,{onChange:this.operatorChange,value:e,"data-items":this.$props.operators,textField:"text"},null):null}});function Je(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!t.isVNode(e)}const Qe=e=>e||{filters:[],logic:"and"},Ze=(e,t)=>Qe(t).filters.filter((t=>!!h.isCompositeFilterDescriptor(t)&&(t.filters&&t.filters.length&&t.filters.length<=2&&!t.filters.find((t=>h.isCompositeFilterDescriptor(t)||t.field!==e)))))[0]||null,et=t.defineComponent({name:"KendoGridColumnMenuFilter",props:{column:Object,filter:Object,expanded:{type:Boolean,default:void 0},filterable:Boolean,filterOperators:{type:Object,default:function(){return _e}},hideSecondFilter:{type:[Boolean,Object],default:function(){}},filterUI:[String,Function,Object],onFilterfocus:Function,onFilterchange:Function,onExpandchange:Function,onClosemenu:Function},inject:{kendoLocalizationService:{default:null}},data:()=>({currentExpanded:!1,filterGroup:null}),created(){let e;if(this.$props.column&&this.$props.column.field){const t=We(this.$props.column.filter),i=Pe(this.$props.filterOperators,t);e=Ze(this.$props.column.field,this.$props.filter),e=e?{...e,filters:e.filters.map((e=>({...e})))}:{logic:"and",filters:[{field:this.$props.column.field,operator:i},{field:this.$props.column.field,operator:i}]},1===e.filters.filter((e=>e.field===this.$props.column.field)).length&&e.filters.splice(1,0,{field:this.$props.column.field,operator:i})}this.currentExpanded=this.$props.expanded||!1,this.filterGroup=e},methods:{removeGroup(e,t){const i=[...t.filters],r=i.findIndex((t=>t===e));return r>-1&&i.splice(r,1),{...t,filters:i}},insertGroup:(e,t)=>({...t,filters:[e,...t.filters]}),isControlled(){return void 0!==this.$props.expanded},onFilterExpand(){const e=this.isControlled(),t=!(e?this.$props.expanded:this.currentExpanded);this.$emit("expandchange",t),e||(this.currentExpanded=t)},filterChangeHandler(e,t){this.filterChange(t||0,e)},firstFilterChange(e){this.filterChange(0,e)},secondFilterChange(e){this.filterChange(1,e)},filterChange(e,t){const i=this.filterGroup.filters.map(((i,r)=>r===e?{...i,value:t.value,operator:t.operator}:i));this.filterGroup={...this.filterGroup,filters:i}},logicChange(e){this.filterGroup={...this.filterGroup,logic:e.target.value.operator}},clear(e){if(e.preventDefault(),!i.hasListener.call(this,"filterchange"))return;const t=this.$props.column.field,r=Qe(this.$props.filter),o=Ze(t,this.$props.filter),s=r.filters.filter((e=>e!==o));s.length?this.$emit("filterchange",{...r,filters:s},{event:e,field:this.$props.column.field}):this.$emit("filterchange",null,{event:e,field:this.$props.column.field}),this.$emit("closemenu")},currentFilterGroup(){return{...this.filterGroup,filters:this.filterGroup.filters.filter((e=>void 0!==e.value&&null!==e.value&&""!==e.value||null===e.value&&e.operator))}},submit(e){if(e.preventDefault(),!i.hasListener.call(this,"filterchange"))return;const t=this.$props.column.field,r=Qe(this.$props.filter),o=Ze(t,this.$props.filter),s=this.currentFilterGroup();let l=null;if(o&&s.filters.length>0){const e=r.filters.map((e=>e===o?s:e));l={...r,filters:e}}else if(0===s.filters.length){const e=r.filters.filter((e=>e!==o));e.length&&(l={...r,filters:e})}else l={...r,filters:[...r.filters,s]};this.$emit("filterchange",l,{event:e,field:this.$props.column.field}),this.$emit("closemenu")},handleFocus(e){this.$emit("filterfocus",e)}},setup:()=>({kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){let e,r;const{column:o,filterUI:n,hideSecondFilter:a,filterOperators:d}=this.$props;if(!o||!o.field)return t.createVNode("div",null,null);const h=o.filter||"text",c=s.provideLocalizationService(this),g=this.filterGroup.filters,m=je(d[h],c),f=je(Ke,c),b={field:o.field,value:g[0].value,operator:g[0].operator,booleanValues:f,filterType:h},v={field:o.field,value:g[1].value,operator:g[1].operator,booleanValues:f,filterType:h},C=this.filterGroup.logic,$=je(ze,c),k={value:$.find((e=>e.operator===(null===C?"":C))),data:$},x=0!==this.currentFilterGroup().filters.length,I=this.isControlled()?this.$props.expanded:this.currentExpanded,S=b.field,y=b.value,N=b.operator,w=b.booleanValues,V=b.filterType,R=v.field,F=v.value,H=v.operator,O=v.booleanValues,D=v.filterType,L=n&&i.templateRendering.call(this,n,i.getListeners.call(this)),A=i.getTemplate.call(this,{h:t.h,template:L,defaultRendering:void 0,additionalProps:this.$props,additionalListeners:{change:this.filterChangeHandler,logicchange:this.logicChange}});return t.createVNode(He,null,{default:()=>[t.createVNode(Fe,{title:c.toLanguageString(J,ve[J]),icon:"filter",svgIcon:l.filterIcon,onMenuitemclick:this.onFilterExpand},null),t.createVNode(Ge,{show:!!I},{default:()=>[t.createVNode("div",{class:"kendo-grid-filter-menu-container"},[t.createVNode("form",{class:"k-filter-menu k-border-up",onSubmit:this.submit,onReset:this.clear},[t.createVNode("div",{class:"k-filter-menu-container"},[!n&&[t.createVNode(Xe,{operator:N,filterType:V,onChange:e=>{this.filterChangeHandler(e,0)},operators:m},null),t.createVNode(Ye,{field:S,value:y,operator:N,booleanValues:w,filterType:V,onFiltercellfocus:this.handleFocus,onChange:e=>{this.filterChangeHandler(e,0)},operators:m},null)],!a&&!n&&[t.createVNode(u.DropDownList,{onChange:this.logicChange,class:"k-filter-and","data-items":k.data,value:k.value,textField:"text"},null),t.createVNode(Xe,{operator:H,filterType:D,onChange:e=>{this.filterChangeHandler(e,1)},operators:m},null),t.createVNode(Ye,{field:R,value:F,operator:H,booleanValues:O,filterType:D,onFiltercellfocus:this.handleFocus,onChange:e=>{this.filterChangeHandler(e,1)},operators:m},null)],n&&A,t.createVNode("div",{class:"k-columnmenu-actions"},[t.createVNode(p.Button,{themeColor:"primary",disabled:!x},Je(e=c.toLanguageString(X,ve[X]))?e:{default:()=>[e]}),t.createVNode(p.Button,{type:"reset"},Je(r=c.toLanguageString(Y,ve[Y]))?r:{default:()=>[r]})])])])])]})]})}}),tt=t.defineComponent({name:"KendoColumnMenuContent",inheritAttrs:!1,props:{column:Object,sortable:[Boolean,Object],sort:{type:Array},filter:Object,filterOperators:Object,filterable:Boolean,render:[Boolean,String,Function,Object],onContentfocus:Function,onClosemenu:Function,onSortchange:Function,onExpandchange:Function,onFilterchange:Function},methods:{handleFocus(e){this.$emit("contentfocus",e)},closeMenu(){this.$emit("closemenu")},expandChange(){this.$emit("expandchange")},sortChange(e,t){this.$emit("sortchange",e,t)},filterChange(e,t){this.$emit("filterchange",e,t)},contentKeyDown(e){e.keyCode===i.Keys.esc&&this.$emit("closemenu")}},render(){const e=this.$props.render,r=t.createVNode("div",{style:this.$attrs.style,onKeydown:this.contentKeyDown},[t.createVNode(Ee,{column:this.$props.column,sortable:this.$props.sortable,sort:this.$props.sort,onClosemenu:this.closeMenu,onSortchange:this.sortChange},null),t.createVNode(et,{column:this.$props.column,filterable:this.$props.filterable,filter:this.$props.filter,filterOperators:this.$props.filterOperators,onFilterfocus:this.handleFocus,onClosemenu:this.closeMenu,onExpandchange:this.expandChange,onFilterchange:this.filterChange},null)]);return i.getTemplate.call(this,{h:t.h,template:"boolean"!=typeof e&&e,defaultRendering:r,additionalProps:this.$props,additionalListeners:{closemenu:this.closeMenu,filterchange:this.filterChange,sortchange:this.sortChange,expandchange:this.expandChange,contentfocus:this.handleFocus}})}}),it=t.defineComponent({name:"KendoColumnMenu",props:{animate:{type:[Boolean,Object],default:function(){return!0}},column:Object,sortable:[Boolean,Object],sort:{type:Array},opened:Boolean,filter:Object,filterable:Boolean,filterOperators:Object,render:[Boolean,String,Function,Object],columnMenuIcon:i.SvgIcon,onClose:Function,onSortchange:Function,onFilterchange:Function},inject:{kendoIntlService:{default:null},kendoLocalizationService:{default:null}},data:()=>({show:!1,blurTimeout:void 0}),created(){this._anchor=i.guid()},computed:{currentOpen(){return this.show||this.$props.opened}},watch:{currentOpen:function(e){this.$nextTick((function(){if(this._content=this.$refs.content,e&&this._content){const e=r.tableKeyboardNavigationTools.getFocusableElements(this._content,{focusable:!0});e.length?e[0].focus():this._content.focus()}}))}},methods:{blur(){clearTimeout(this.blurTimeout),this.blurTimeout=setTimeout((()=>{this.closeMenu()}),200)},focus(){clearTimeout(this.blurTimeout)},handleFocus(e){clearTimeout(this.blurTimeout)},anchorClick(e){e.preventDefault(),this.show=!this.show},closeMenu(){this.$emit("close"),this.show=!1},sortChange(e,t){this.$emit("sortchange",e,t)},filterChange(e,t){this.$emit("filterchange",e,t)}},setup:()=>({kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){const e=this.$props.render,r=s.provideLocalizationService(this),{columnMenuIcon:o}=this.$props;return t.createVNode("div",{style:{display:"inline"}},[t.createVNode("a",{class:"k-grid-header-menu k-grid-column-menu",title:`${this.$props.column.field} ${r.toLanguageString(U,ve[U])}`,ref:i.setRef(this,"kendoAnchor"),onClick:this.anchorClick,href:"#"},[o?t.createVNode(i.Icon,{name:o.name,icon:o},null):t.createVNode(i.Icon,{name:"more-vertical",icon:l.moreVerticalIcon},null)]),t.createVNode(d.Popup,{animate:this.$props.animate,anchor:this._anchor,show:this.currentOpen},{default:()=>[t.createVNode("div",{ref:"content",class:"k-column-menu k-grid-columnmenu-popup",tabindex:0,onFocusout:this.blur,onFocusin:this.focus,style:{outline:"none",width:"230px"}},[t.createVNode(tt,{column:this.$props.column,sortable:this.$props.sortable,sort:this.$props.sort,filter:this.$props.filter,filterable:this.$props.filterable,filterOperators:this.$props.filterOperators,render:e,onContentfocus:this.handleFocus,onClosemenu:this.closeMenu,onSortchange:this.sortChange,onFilterchange:this.filterChange},null)])]})])}});function rt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!t.isVNode(e)}const ot={none:"none",asc:"ascending",desc:"descending"},st={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},lt=t.defineComponent({name:"KendoHeaderRow",props:{grid:Object,cellRender:[String,Function,Object],groupable:[Boolean,Object],reorderable:Boolean,sortable:[Boolean,Object],sort:{type:Array},filter:Object,filterable:Boolean,filterOperators:Object,filterChange:Function,filterRow:Object,columns:Array,columnsMap:Array,columnResize:Object,columnMenu:[Boolean,String,Function,Object],columnMenuAnimate:{type:[Boolean,Object],default:function(){return!0}},columnMenuIcon:Object,isRtl:Boolean,isColCountDefined:Boolean,columnsInitial:Array,onSortChange:Function,onFilterChange:Function,onSelectionchange:Function,onPressHandler:Function,onDragHandler:Function,onReleaseHandler:Function},inject:{onNavFocus:{default:i.noop},kendoLocalizationService:{default:null}},data:()=>({columnMenuOpened:{}}),created(){this.serviceIndex=0,this.index=-1,this._element=null,this.cellClick=this.cellClick.bind(this)},methods:{pressHandler(e,t){this.$emit("pressHandler",e,t)},dragHandler(e,t){this.$emit("dragHandler",e,t)},releaseHandler(e){this.$emit("releaseHandler",e)},selectionChangeHandler(e){this.$emit("selectionchange",e)},cellClick(e,t){if(e.preventDefault(),!i.hasListener.call(this,"sortChange"))return;const{allowUnsort:r,mode:o}=Ne(this.$props.sortable||!1,t.sortable||!1),s=(this.$props.sort||[]).filter((e=>e.field===t.field))[0],l=st[r][s&&s.dir||""],n="single"===o?[]:(this.$props.sort||[]).filter((e=>e.field!==t.field));""!==l&&t.field&&n.push({field:t.field,dir:l}),this.sortChangeHandler(n,{event:e,field:t.field})},sortChangeHandler(e,t){this.$emit("sortChange",e,t)},filterChangeHandler(e,t){this.$emit("filterChange",e,t)},cellClass(e,t,i){let r="k-header"+(i?" k-grid-header-sticky":"")+(t?" "+t:"");return this.$props.sort&&this.$props.sort.filter((t=>t.field===e)).length>0&&(r+=" k-sorted"),r},cellKeyDown(e,t){e.defaultPrevented||(e.keyCode===i.Keys.enter&&this.cellClick(e,t),e.altKey&&e.keyCode===i.Keys.down&&t.field&&(e.preventDefault(),this.columnMenuOpened={[t.field]:!0}))},getTemplate(e){return i.templateRendering.call(this.$props.grid,e,i.getListeners.call(this.$props.grid))},columnMenuClose(){this.onNavFocus({}),this.columnMenuOpened={}}},computed:{element(){return this._element},theadClasses:()=>({"k-table-thead":!0})},render(e){const o=s.provideLocalizationService(this),n=o.toLanguageString(se,ve[se]),a=o.toLanguageString(le,ve[le]),d=o.toLanguageString(ne,ve[ne]);this.serviceIndex=0,this.index=-1;const h=function(e){return e.map((function(e){const o=this.$props.columns[e],s=this.$props.sortable&&o.sortable,h=this.$props.sort?this.$props.sort.findIndex((e=>e.field===o.field)):-1,c=h>=0&&this.$props.sort[h].dir||"none",p=function(e){if(!this.$props.sort)return null;const r=e>=0?this.$props.sort[e].dir:"";return e>=0&&[t.createVNode("span",{key:1,class:"k-sort-icon"},[t.createVNode(i.Icon,{name:"sort-"+r+"-small",icon:"asc"===r?l.sortAscSmallIcon:l.sortDescSmallIcon},null)]),this.$props.sort.length>1&&t.createVNode("span",{key:2,class:"k-sort-icon"},[t.createVNode("span",{class:"k-sort-order"},[e+1])])]}.call(this,h),u=o.columnMenu||!1===o.columnMenu?o.columnMenu:this.$props.columnMenu,g=o.menuIcon||this.$props.columnMenuIcon,m=(o.kFirst?"k-first ":"")+this.cellClass(o.field,o.headerClassName,o.locked)+(u?" k-filterable":""),f=u&&"boolean"!=typeof u?this.getTemplate(u):!!u,b=void 0!==o.left?this.$props.isRtl?{left:o.right+"px",right:o.left+"px"}:{left:o.left+"px",right:o.right+"px"}:{},v="none"===ot[c]?n:"ascending"===ot[c]?a:d;let C=o.isAccessible?{ariaSort:ot[c],ariaLabel:v,role:"columnheader",ariaColumnIndex:this.$props.isColCountDefined?this.$props.columnsInitial.findIndex((e=>e.field===o.field))+1:void 0,ariaSelected:!1,ariaHaspopup:u?"menu":this.$props.filterable&&o.filterable?"dialog":void 0}:{role:"columnheader"};const $=o.declarationIndex>=0?++this.index:--this.serviceIndex,k=void 0!==o.columnMenuOpened?o.columnMenuOpened:this.columnMenuOpened[o.field];return t.createVNode(r.HeaderThElement,{ariaSort:s?C.ariaSort:void 0,ariaLabel:s?C.ariaLabel:void 0,role:C.role,ariaColumnIndex:C.ariaColumnIndex,ariaSelected:C.ariaSelected,ariaHaspopup:C.ariaHaspopup,key:$,colSpan:o.colSpan,rowSpan:o.rowSpan,class:m,style:b,columnId:o.id,navigatable:o.navigatable,onKeydown:e=>this.cellKeyDown(e,o)},{default:()=>[[0===o.children.length&&u&&t.createVNode(it,{key:0,column:{field:o.field,filter:o.filter},opened:k,animate:this.$props.columnMenuAnimate,sortable:s,sort:this.$props.sort,onClose:this.columnMenuClose,onSortchange:this.sortChangeHandler,filter:this.$props.filter,filterable:this.$props.filterable&&o.filterable,filterOperators:this.$props.filterOperators,onFilterchange:this.filterChangeHandler,render:f,columnMenuIcon:g},null),o.internalHeaderCell&&t.createVNode("span",{class:"k-cell-inner"},[t.createVNode(o.internalHeaderCell,{key:1,field:o.field,sortable:s,onHeadercellclick:e=>this.cellClick(e,o),onSelectionchange:this.selectionChangeHandler,selectionValue:o.headerSelectionValue,title:o.title,render:(o.headerCell||this.$props.cellRender)&&this.getTemplate(o.headerCell||this.$props.cellRender)},rt(p)?p:{default:()=>[p]})])||t.createVNode("span",{class:"k-cell-inner"},[t.createVNode(Re,{key:1,field:o.field,sortable:s,onHeadercellclick:e=>this.cellClick(e,o),selectionValue:o.headerSelectionValue,title:o.title,render:(o.headerCell||this.$props.cellRender)&&this.getTemplate(o.headerCell||this.$props.cellRender)},rt(p)?p:{default:()=>[p]})]),this.$props.columnResize&&this.$props.columnResize.resizable&&o.resizable&&t.createVNode(we,{key:2,onResize:(e,t,i)=>this.$props.columnResize&&this.$props.columnResize.dragHandler(e,o,t,i)},null)]]})}),this)};return t.createVNode("thead",{role:"rowgroup",class:this.theadClasses,"data-keyboardnavheader":!0},[this.$props.columnsMap.map((function(e,i){let r;return(this.$props.groupable||this.$props.reorderable)&&t.createVNode(Ve,{key:i,onPressHandler:this.pressHandler,onDragHandler:this.dragHandler,onReleaseHandler:this.releaseHandler},rt(r=h.call(this,e))?r:{default:()=>[r]})||t.createVNode("tr",{class:"k-table-row",role:"row","aria-rowindex":this.columnsMap.length},[h.call(this,e)])}),this),this.$props.filterRow])}}),nt=t.defineComponent({name:"KendoGridFilterCell",inheritAttrs:!1,props:{id:String,grid:Object,field:String,filterType:String,colSpan:Number,title:String,value:[String,Number,Boolean,Date],operator:[String,Function],operators:Array,booleanValues:Array,onChange:Function,render:[String,Function,Object],ariaLabel:String,size:String},inject:{kendoLocalizationService:{default:null},kendoIntlService:{default:null}},methods:{inputChange(e,t){const i=Be(e,t,this.$props);this.triggerChange(i)},operatorChange(e,t){const i=Ue(e.value.operator,t,this.$props.value);this.triggerChange(i)},boolDropdownChange(e,t){const i=qe(e.value.operator,t);this.triggerChange(i)},clear(e){e.preventDefault(),this.triggerChange({value:"",operator:"",event:e})},triggerChange(e){e.field=this.$props.field,this.$emit("change",e)}},setup:()=>({kendoIntlService:t.inject("kendoIntlService",{}),kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){const e=s.provideLocalizationService(this),{size:r}=this.$props,o=this.$props.operators.find((e=>e.operator===this.$props.operator))||null,d=t.createVNode("div",{class:"k-filtercell",style:this.$attrs.style},[t.createVNode("div",{class:"k-filtercell-wrapper"},[function(e,i){let o;switch(e){case"numeric":return t.createVNode(n.NumericTextBox,{size:r,value:i,onChange:e=>{this.inputChange(e.value,e.event)},title:this.$props.title,ariaLabel:this.ariaLabel},null);case"date":return t.createVNode(a.DatePicker,{size:r,value:i,onChange:e=>{this.inputChange(e.value,e)},title:this.$props.title,ariaLabel:this.ariaLabel},null);case"boolean":return o=this.$props.booleanValues,t.createVNode(u.DropDownList,{onChange:this.boolDropdownChange,size:r,value:o.find((e=>e.operator===(null!==i?i:""))),"data-items":o,textField:"text",title:this.$props.title,ariaLabel:this.ariaLabel},null);default:return t.createVNode(n.TextBox,{value:i||"",size:r,onInput:e=>{this.inputChange(e.target.value,e)},title:this.$props.title,"aria-label":this.ariaLabel},null)}}.call(this,this.$props.filterType,this.$props.value),t.createVNode("div",{class:"k-filtercell-operator"},[function(){if("boolean"!==this.$props.filterType)return t.createVNode(u.DropDownList,{onChange:this.operatorChange,value:o,size:r,class:"k-dropdown-operator",icon:"filter",svgIcon:l.filterIcon,iconClassName:"filter k-button-icon","data-items":this.$props.operators,textField:"text",title:e.toLanguageString(ie,ve[ie]),popupSettings:{width:"",anchor:""},ariaLabel:this.ariaLabel},null)}.call(this),t.createVNode(p.Button,{type:"button",size:r,icon:"filter-clear",svgIcon:l.filterClearIcon,class:{"k-disabled":!(null!==this.$props.value&&""!==this.$props.value||this.$props.operator)},title:e.toLanguageString(Y,ve[Y]),onClick:this.clear},null)])])]),h=this.$props.grid?i.getListeners.call(this.$props.grid):null,c=i.templateRendering.call(this.$props.grid,this.$props.render,h);return i.getTemplate.call(this,{h:t.h,template:c,defaultRendering:d,additionalProps:this.$props,additionalListeners:{change:this.triggerChange}})}});const at=t.defineComponent({name:"kendoFilterRow",props:{grid:Object,columns:Array,filter:Object,filterOperators:Object,sort:[Object,Array],cellRender:[String,Function,Object],isRtl:Boolean,ariaRowIndex:Number,size:String,onFilterchange:Function},inject:{kendoLocalizationService:{default:null}},methods:{headerCellClassName(e,t){let i=t?" k-grid-header-sticky":"";return this.$props.sort&&this.$props.sort.filter((t=>t.field===e)).length>0&&(i+=" k-sorted"),i},setFilter(e,t,i,r){const o=[];(""!==e&&null!==e||""!==t)&&o.push({field:i,operator:t,value:e}),this.$props.filter&&this.$props.filter.filters&&(this.$props.filter.filters||[]).forEach((e=>{const t=e;t&&t.field!==i&&o.push(t)}));const s=o.length>0?{logic:"and",filters:o}:null;this.$emit("filterchange",s,r)}},setup:()=>({kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){const e=s.provideLocalizationService(this),i=this.$props.filter&&this.$props.filter.filters||[],o=(e,t=null)=>{const r=i.filter((t=>t.field===e))[0];return r?r.value:t},l=e=>{const t=i.filter((t=>t.field===e))[0];return t?t.operator:null};let n=0,a=-1;const d=this.$props.columns.filter((e=>0===e.children.length)).map((function(i){const s=We(i.filter),d=(i.title||i.field)+" "+((e,t)=>{switch(e){case"text":return t.toLanguageString(ce,ve[ce]);case"numeric":return t.toLanguageString(de,ve[de]);case"boolean":return t.toLanguageString(pe,ve[pe]);case"date":return t.toLanguageString(he,ve[he]);default:return}})(s,e),h=t.createVNode(nt,{grid:this.$props.grid,field:i.field,title:i.filterTitle,value:o(i.field,"text"===s?"":null),operator:l(i.field),operators:je(this.$props.filterOperators[s]||[],e),booleanValues:je(Ke,e),filterType:s,onChange:e=>{this.setFilter(e.value,e.operator,i.field,e)},render:i.filterCell||this.$props.cellRender,"aria-label":d,size:this.$props.size},null),c=i.declarationIndex>=0?++a:--n,p={ariaLabel:i.filterable?e.toLanguageString(ae,ve[ae]):void 0,ariaColumnIndex:i.ariaColumnIndex},u=void 0!==i.left?this.$props.isRtl?{left:i.right+"px",right:i.left+"px"}:{left:i.left+"px",right:i.right+"px"}:{},g=t.createVNode(r.HeaderTdElement,{key:c,role:"gridcell",columnId:r.tableKeyboardNavigationTools.getFilterColumnId(i.id),navigatable:i.navigatable,style:u,class:this.headerCellClassName(i.field,i.locked)||void 0,ariaColumnIndex:p.ariaColumnIndex,"aria-label":d},function(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!t.isVNode(e)}(h)?h:{default:()=>[h]});return i.filterable&&g||t.createVNode(r.HeaderTdElement,{key:c,role:"gridcell",columnId:r.tableKeyboardNavigationTools.getFilterColumnId(i.id),navigatable:i.navigatable,style:u,class:this.headerCellClassName(i.field,i.locked)||void 0,ariaColumnIndex:p.ariaColumnIndex,"aria-label":d},null)}),this);return t.createVNode("tr",{class:"k-table-row k-filter-row","aria-rowindex":this.ariaRowIndex,role:"row"},[d])}}),dt=t.defineComponent({props:{title:String,dir:String,onRemove:Function,onSortChange:Function,onPress:Function,onDrag:Function,onRelease:Function},mounted(){this.element=i.getRef(this,"indicatorContainer"),this.element&&(this.draggable=this.$refs.draggable)},methods:{press(e){this.element&&this.$emit("press",e,this.element)},drag(e){this.element&&this.$emit("drag",e,this.element)},release(e){this.element&&this.$emit("release",e,this.element)},sortChange(e){e.preventDefault();const t="asc"===this.$props.dir?"desc":"asc";this.$emit("sortChange",e,t)},groupRemove(e){e.preventDefault(),this.$emit("remove",e)}},setup:()=>({indicatorContainerRef:t.ref(null)}),render(){return t.createVNode(i.Draggable,{onPress:this.press,onDrag:this.drag,onRelease:this.release,ref:"draggable"},{default:()=>[t.createVNode("div",{class:"k-chip k-chip-md k-chip-solid k-chip-solid-base k-rounded-md",ref:i.setRef(this,"indicatorContainer")},[t.createVNode(i.Icon,{name:"sort-"+this.$props.dir+"-small",class:"k-chip-icon",icon:"asc"===this.$props.dir?l.sortAscSmallIcon:l.sortDescSmallIcon},null),t.createVNode("span",{class:"k-chip-content",tabindex:-1,onClick:this.sortChange},[this.$props.title]),t.createVNode("span",{class:"k-chip-actions"},[t.createVNode("span",{class:"k-chip-action k-chip-remove-action",tabindex:-1,onClick:this.groupRemove},[t.createVNode(i.Icon,{name:"x-circle",icon:l.xCircleIcon},null)])])])]})}}),ht=t.defineComponent({props:{group:Array,resolveTitle:Function,ariaControls:String,onPressHandler:Function,onDragHandler:Function,onReleaseHandler:Function,onGroupChange:Function},inject:{kendoLocalizationService:{default:null}},methods:{pressHandler(e,t){this.$emit("pressHandler",e,t)},dragHandler(e,t){this.$emit("dragHandler",e,t)},releaseHandler(e){this.$emit("releaseHandler",e)},onGroupRemove(e,t){const i=this.$props.group.slice();i.splice(t,1),this.$emit("groupChange",i,e)},onGroupSortChange(e,t,i,r){const o=Object.assign({},i,{dir:r}),s=this.$props.group.slice();s.splice(t,1,o),this.$emit("groupChange",s,e)}},setup:()=>({kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){const e=this.$props.group||[],i=this.$props.ariaControls,r=e.map((function(e,i){return t.createVNode(dt,{key:i,dir:e.dir||"asc",title:this.$props.resolveTitle(e.field),onRemove:e=>this.onGroupRemove(e,i),onSortChange:(t,r)=>{this.onGroupSortChange(t,i,e,r)},onPress:this.pressHandler,onDrag:this.dragHandler,onRelease:this.releaseHandler},null)}),this),o=s.provideLocalizationService(this).toLanguageString(ue,ve[ue]);return t.createVNode("div",{class:"k-grouping-header",role:"toolbar","aria-label":o,"aria-controls":i},[!!r.length&&t.createVNode("div",{class:"k-chip-list k-chip-list-md"},[r]),t.createVNode("div",{class:"k-grouping-drop-container"},[!r.length&&s.provideLocalizationService(this).toLanguageString(q,ve[q])])])}}),ct=t.defineComponent({name:"Footer",props:{staticHeaders:Boolean,row:Object,columnResize:Object,cols:Array,size:String},data:()=>({scrollbarWidth:0,rtl:!1,tableWidth:null}),computed:{tableClass(){const{size:e}=this.$props;return{"k-table":!0,"k-grid-footer-table":!0,[`k-table-${i.kendoThemeMaps.sizeMap[e]||e}`]:e}},divStyle(){const e=this.$data.scrollbarWidth+"px";return{padding:`0 ${this.rtl?0:e} 0 ${this.rtl?e:0}`}},tableStyle(){return this.tableWidth?{width:this.tableWidth}:null}},mounted(){this.rtl=v(this.$el),this.$props.columnResize.colGroupFooter=i.getRef(this,"colGroupHeader"),this._footerWrap=i.getRef(this,"footerWrap")},methods:{setScrollLeft(e){this._footerWrap&&(this._footerWrap.scrollLeft=e)},setWidth(e){this.$data.tableWidth=e+"px"}},setup(){const e=t.ref(null);return{colGroupHeaderRef:t.ref(null),footerWrapRef:e}},render(){return this.$props.staticHeaders?t.createVNode("div",{class:"k-grid-footer",style:this.divStyle,role:"presentation"},[t.createVNode("div",{class:"k-grid-footer-wrap",ref:i.setRef(this,"footerWrap"),role:"presentation"},[t.createVNode("table",{class:this.tableClass,style:this.tableStyle,role:"presentation"},[t.createVNode("colgroup",{ref:i.setRef(this,"colGroupHeader")},[this.$props.cols]),t.createVNode("tfoot",{class:"k-table-tfoot",role:"rowgroup"},[this.$props.row])])])]):t.createVNode("tfoot",{class:"k-table-tfoot k-grid-footer",role:"rowgroup"},[this.$props.row])}}),pt=t.defineComponent({name:"FooterRow",props:{isRtl:Boolean,columns:Array,rowIndex:Number},methods:{columnStyles(e){return void 0!==e.left?this.$props.isRtl?{left:e.right+"px",right:e.left+"px"}:{left:e.left+"px",right:e.right+"px"}:{}}},render(){return t.createVNode("tr",{class:"k-table-row",role:"row","aria-rowIndex":this.$props.rowIndex},[w(this.$props.columns).map((function(e,r){let o=null;const s=e.locked&&void 0!==e.left?"k-grid-footer-sticky":"",l=e.footerClassName?`k-table-td ${e.footerClassName} ${s}`:"k-table-td "+s;return o=i.getTemplate.call(this,{h:t.h,template:e.footerCell,defaultRendering:null,additionalProps:{field:e.field,colSpan:1!==e.colSpan?e.colSpan:void 0,defaultStyle:this.columnStyles(e)}}),t.createVNode("td",{key:r,colspan:1!==e.colSpan?e.colSpan:void 0,style:this.columnStyles(e),class:l,role:"gridcell"},[o])}),this)])}});class ut{constructor(e,t){this.table=null,this.containerHeight=0,this.topCacheCount=0,this.attendedSkip=0,this.propsSkip=0,this.total=0,this.scrollableVirtual=!1,this.realSkip=0,this.pageSize=0,this.fixedScroll=!1,this.askedSkip=void 0,this.tableTransform="",this.prevScrollPos=0,this.tableTranslate=0,this.scrollSyncing=!1,this.topItems=(e,t)=>{if(!this.container||t)return{topItemsCount:0,topItemsHeight:0};const i=this.container.clientHeight,r=this.container.querySelectorAll(".k-group-footer").length,o=Math.ceil(i/e[0].line),s=Math.ceil(r/o),l=Math.max(s,Math.ceil((e.length-o)/2));let n=0;for(let t=0;t<l;t++)n+=e[t].line+e[t].acc;return{topItemsCount:l,topItemsHeight:n,itemsNeededOnScreen:o+o/2+(s?r/(1+s):0)}},this.horizontalScrollbarHeight=()=>this.container?this.container.offsetHeight-this.container.clientHeight:0,e&&(this.topCacheCount=t,this.attendedSkip=-this.topCacheCount),this.scrollHandler=this.scrollHandler.bind(this)}get container(){return this.containerRef}get rowHeights(){const e=[],t=this.tableBodyRef&&this.tableBodyRef.children||[];let i=0;for(let r=0;r<t.length;r++)t[r].className.indexOf("k-grouping-row")>-1?i+=t[r].scrollHeight:t[r].className.indexOf("k-detail-row")>-1?e[e.length-1].line+=t[r].scrollHeight:(e.push({line:t[r].scrollHeight,acc:i}),i=0);return e}changePage(e,t){this.attendedSkip=e-this.topCacheCount,this.PageChange({skip:Math.max(0,e-this.topCacheCount),take:this.pageSize},t)}translate(e){this.tableTranslate=e,this.scrollableVirtual&&this.table&&(this.table.style.transform="translateY("+e+"px)")}reset(){this.scrollSyncing=!0,!this.fixedScroll&&(this.container&&(this.container.scrollTop=0),this.translate(0))}localScrollUp(e){if(!this.container)return;const t=this.rowHeights,i=this.container.scrollTop;let r=this.tableTranslate,o=0;const{topItemsCount:s,topItemsHeight:l,itemsNeededOnScreen:n}=this.topItems(t,!!this.topCacheCount),a=i-r;if(!(a>l||t.length<=n)){for(;o<this.topCacheCount+this.attendedSkip-this.realSkip+s&&this.propsSkip-o>0&&!(r+(t[t.length-1-o].line+t[t.length-1-o].acc)+a<=i);)r-=t[t.length-1-o].line+t[t.length-1-o].acc,o++;if(0===o&&0===this.topCacheCount&&this.attendedSkip>0&&(r=Math.max(r-t[0].line,0),o=1),this.propsSkip-o<=0&&r>i)return this.translate(0),this.changePage(0,e),void(this.container.scrollTop=0);if(r>i&&(r=i),r!==this.tableTranslate){this.translate(Math.max(0,r-l));const t=Math.max(0,this.propsSkip-o-s);this.changePage(t,e)}}}localScrollDown(e){if(!this.container)return;const t=this.rowHeights,i=this.container.scrollTop;let r=this.tableTranslate,o=0;const{topItemsCount:s,topItemsHeight:l,itemsNeededOnScreen:n}=this.topItems(t,!!this.topCacheCount);for(;o<t.length-this.topCacheCount&&!(r+t[o].line+t[o].acc>i);)r+=t[o].line+t[o].acc,o++;s>this.propsSkip+o||t.length<=n||(o>=t.length-this.topCacheCount&&this.propsSkip+o>=this.total?(this.translate(r-l),this.changePage(this.total-1-s,e)):r!==this.tableTranslate&&this.propsSkip+o-s!==this.propsSkip&&(this.translate(r-l),this.changePage(this.propsSkip+o-s,e)))}scrollNonStrict(e){const t=this.total*this.prevScrollPos/this.containerHeight;let i=Math.floor(t);i>=this.total&&(i=this.total-1);const r=Math.min(t-i,1);let o=0;const s=i-this.propsSkip,l=this.rowHeights;s>=0&&s<=1?o=-(l[0].line+l[0].acc)*r:-1===s&&(o=-(l[l.length-1].line+l[l.length-1].acc)*r);const{topItemsCount:n,topItemsHeight:a,itemsNeededOnScreen:d}=this.topItems(l,!!this.topCacheCount),h=Math.max(0,o-a-this.horizontalScrollbarHeight()+this.containerHeight*t/this.total);this.prevScrollPos<h&&l.length<=d||(this.translate(h),this.changePage(i-n,e))}scrollHandler(e){if(!this.scrollableVirtual)return;if(this.scrollSyncing||!this.container||!this.table)return void(this.scrollSyncing=!1);const t=this.container.scrollTop,i=this.prevScrollPos;if(this.prevScrollPos=t,void 0!==this.askedSkip)return this.translate(this.containerHeight*this.askedSkip/this.total),this.changePage(this.askedSkip,e),this.prevScrollPos=t,void(this.askedSkip=void 0);t-i<0&&t>this.tableTranslate-this.table.scrollHeight/10?this.localScrollUp(e):t-i>0&&t<this.tableTranslate+2*this.table.scrollHeight/3?this.localScrollDown(e):this.scrollNonStrict(e),this.prevScrollPos=t}}let gt=class{constructor(e=0,t,i,r){this.total=e,this.offsets=[],this.heights=[];let o=0;for(let s=0;s<e;s++){this.offsets.push(o);const e=r&&r[s].expanded&&"data"===r[s].rowType?i:t;o+=e,this.heights.push(e)}}height(e){return this.heights[e]}index(e){if(e<0)return;const t=this.offsets.reduce(((t,i,r)=>void 0!==t?t:i===e?r:i>e?r-1:void 0),void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.offsets[this.offsets.length-1]+this.heights[this.heights.length-1]}};class mt{constructor(e){this.table=null,this.containerHeight=0,this.topCacheCount=0,this.attendedSkip=0,this.propsSkip=0,this.total=0,this.scrollableVirtual=!1,this.realSkip=0,this.pageSize=0,this.PageChange=null,this.fixedScroll=!1,this.askedSkip=void 0,this.tableTransform="",this.scrollSyncing=!1,this.lastLoaded=0,this.firstLoaded=0,this.lastScrollTop=0,this.firstLoaded=this.pageSize,this.lastLoaded=this.realSkip+this.pageSize,this.scrollHandler=this.scrollHandler.bind(this)}get container(){return this.containerRef}translate(e){this.scrollableVirtual&&this.table&&(this.table.style.transform="translateY("+e+"px)")}changePage(e,t){this.PageChange&&this.PageChange({skip:Math.max(0,e),take:this.pageSize},t)}reset(){this.scrollSyncing=!0,!this.fixedScroll&&(this.container&&(this.container.scrollTop=0),this.translate(0))}scrollHandler(e){if(!(this.scrollableVirtual&&this.container&&this.table&&this.rowHeightService&&this.containerRef))return;if(this.scrollSyncing)return void(this.scrollSyncing=!1);const t=this.container.scrollTop,i=this.lastScrollTop>=t,r=!i;this.lastScrollTop=t;let o=this.rowHeightService.index(t),s=this.rowHeightService.offset(o);const{offsetHeight:l}=this.containerRef,n=this.rowHeightService.index(t+l);if(r&&n>=this.lastLoaded&&this.lastLoaded<this.total){const t=o+this.pageSize-this.total;t>0&&(o-=t,s=this.rowHeightService.offset(o)),this.firstLoaded=o,this.translate(s);const i=this.firstLoaded+this.pageSize;this.lastLoaded=Math.min(i,this.total),this.changePage(this.firstLoaded,e)}else if(i&&o<this.firstLoaded){const t=Math.floor(.3*this.pageSize);this.firstLoaded=Math.max(o-t,0),this.translate(this.rowHeightService.offset(this.firstLoaded)),this.lastLoaded=Math.min(this.firstLoaded+this.pageSize,this.total),this.changePage(this.firstLoaded,e)}}}class ft{constructor(e){this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.onResize=e,this.dragHandler=this.dragHandler.bind(this)}dragHandler(e,t,i,r){const o=e.originalEvent;r||(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation());const s=i.parentElement;if(!s||!s.parentElement)return;const l=s.clientWidth;let n;if(this.isRtl?(n=i.getBoundingClientRect().right-i.offsetWidth/2-e.clientX,n+=l):n=l+e.clientX-i.getBoundingClientRect().left-i.offsetWidth/2,!r&&Math.abs(n-l)<1)return;this.fixateInitialWidths(s.parentElement.clientWidth),this.setWidths(t,Math.floor(n)/l);const a=this.columns.filter((e=>!e.children.length)).indexOf(t);this.onResize(a,l,n,o,r)}fixateInitialWidths(e){const t=this.columns.filter((e=>!e.children.length));let i=0;const r=this.colGroupMain?this.colGroupMain.children:[];for(let t=0;t<r.length;t++)r[t].width?e-=parseFloat(r[t].width):i++;if(0===i)return;const o=Math.floor(e/i);for(let e=0;e<r.length;e++){const i=r[e];i.width||(i.width=o,t[e].width=o.toString(),this.colGroupHeader&&(this.colGroupHeader.children[e].width=o),this.colGroupFooter&&(this.colGroupFooter.children[e].width=o))}}setWidths(e,t){const i=this.columns.indexOf(e),r=[];let o=e.children.length;for(let e=i+1;o>0&&e<this.columns.length;e++){const t=this.columns[e];t.children.length?o+=t.children.length:r.push(t),o--}0===r.length&&r.push(e),r.forEach((e=>{let i=e.width?parseFloat(e.width.toString())*t:0;const r=void 0===e.minResizableWidth?10:e.minResizableWidth;i<r&&(i=r),e.width=i})),this.updateColElements(r)}updateColElements(e){const t=this.columns.filter((e=>!e.children.length));let i=1e-10;for(let r=0;r<e.length;r++){const o=t.indexOf(e[r]),s=parseFloat((e[r].width||0).toString());i+=s-Math.floor(s);const l=Math.floor(s)+Math.floor(i);i-=Math.floor(i),this.colGroupMain&&(this.colGroupMain.children[o].width=l+"px"),this.colGroupHeader&&(this.colGroupHeader.children[o].width=l+"px"),this.colGroupFooter&&this.colGroupFooter.children[o]&&(this.colGroupFooter.children[o].width=l+"px")}}}class bt{constructor(e,t,r){this.reorderable=!1,this.groupable=!1,this.dropElementClue=null,this.dragElementClue=null,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e.children?e.children[0]:e},this.refDropElementClue=e=>{this.dropElementClue=e,this.dropElementClue&&i.canUseDOM&&document.body.appendChild(this.dropElementClue.$el)},this.refDragElementClue=e=>{this.dragElementClue=e,this.dragElementClue&&i.canUseDOM&&document.body.appendChild(this.dragElementClue.$el)},this.pressHandler=(e,t)=>{e.isTouch||e.originalEvent.preventDefault();const i=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),i>=0){const e=this.columns[i];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=i)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t);const i=this.groupPanelDivElement&&this.groupPanelDivElement.children;this.currentGroup=this.isTargetGroupingContainer(e)?i&&i.length?i.length:0:this.getGroupIndex(e);const r=!this.isValid();r&&(this.currentColumn=-1,this.currentGroup=-1);const o=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.isTargetGroupingContainer(e)?e.originalEvent.target:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,o,r),this.updateDropElementClue(e,t,o,r)},this.releaseHandler=e=>{const t=this.startColumn,i=this.currentColumn,r=this.startGroup,o=this.currentGroup;this.dropElementClue&&(this.dropElementClue.visible=!1),this.dragElementClue&&(this.dragElementClue.visible=!1);const s=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,s&&(t>=0&&i>=0?this.columnReorder(t,i,e.originalEvent):r>=0&&o>=0?this.groupReorder(r,o,e.originalEvent):t>=0&&o>=0&&this.columnToGroup(t,o,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=r}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const i=C(e,t);if(-1===i)return-1;for(let e=0;e<t.parentNode.children.length;e++)if(t.parentNode.children[e]===t)return this.columns.findIndex((t=>t.index===i&&t.depth===e));return-1}isTargetGroupingContainer(e){const t=e.originalEvent.target;return t.className.indexOf&&-1!==t.className.indexOf("k-grouping-drop-container")}getGroupIndex(e){return C(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,i,r){if(!this.dragElementClue)return;const o=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.visible=!0,this.dragElementClue.top=e.pageY+10,this.dragElementClue.left=e.pageX,this.dragElementClue.innerText=o,this.dragElementClue.status=r||!i?"cancel":"plus"}updateDropElementClue(e,t,i,r){if(!this.dropElementClue)return;if(r||!i)return void(this.dropElementClue.visible=!1);const o=i.getBoundingClientRect(),s=(i.closest(".k-grouping-header")||i).getBoundingClientRect();let l=o.left+e.pageX-e.clientX-6;!this.isTargetGroupingContainer(e)&&(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(l+=o.width);const n=s.top+e.pageY-e.clientY;this.dropElementClue.visible=!0,this.dropElementClue.top=n,this.dropElementClue.left=l,this.dropElementClue.height=this.currentColumn>=0?t.clientHeight:s.height}}const vt=t.defineComponent({data:()=>({visible:!1,top:0,left:0,innerText:"",status:"cancel"}),render(){return this.visible&&t.createVNode("div",{class:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:this.top+"px",left:this.left+"px"}},[t.createVNode(i.Icon,{name:this.status,class:"k-drag-status",icon:"cancel"===this.status?l.cancelIcon:l.plusIcon},null),this.innerText])}}),Ct=t.defineComponent({data:()=>({height:0,visible:!1,left:0,top:0}),render(){return this.visible&&t.createVNode("div",{class:"k-grouping-dropclue",style:{zIndex:1e4,display:"block",top:this.top+"px",left:this.left+"px",height:this.height+"px"}},null)}}),$t=t.defineComponent({name:"GridCell",inheritAttrs:!1,emits:{cellclick:null,cellkeydown:null},props:{id:String,field:String,dataItem:Object,format:String,readFormat:String,className:String,colSpan:Number,columnIndex:Number,columnsCount:Number,dataIndex:Number,rowType:String,level:Number,expanded:Boolean,type:String,editor:String,isSelected:Boolean,isHighlighted:Boolean,ariaColumnIndex:Number,render:[String,Function,Object],isRtl:Boolean,onEdit:Function,onSave:Function,onRemove:Function,onCancel:Function,onChange:Function,onSelectionchange:Function},inject:{kendoIntlService:{default:null},getKeyboardNavigationAttributes:{default:i.noop}},methods:{triggerClick(){this.$emit("cellclick",{dataItem:this.$props.dataItem,field:this.$props.field})},triggerKeydown(e){this.$emit("cellkeydown",{event:e,dataItem:this.$props.dataItem,field:this.$props.field})},triggerEdit(e){this.$emit("edit",e)},triggerAdd(e){this.$emit("add",e)},triggerCancel(e){this.$emit("cancel",e)},triggerSave(e){this.$emit("save",e)},triggerRemove(e){this.$emit("remove",e)}},created(){this._intl=s.provideIntlService(this)},computed:{tdClass(){const{className:e,isHighlighted:t}=this.$props;return{"k-table-td":!0,"k-highlighted":t,[e]:e}}},setup:()=>({kendoIntlService:t.inject("kendoIntlService",{})}),render(){let e=null;const o=this.getKeyboardNavigationAttributes(this.$props.id);if("groupFooter"===this.$props.rowType)e=t.createVNode("td",{class:this.tdClass},null);else if(void 0!==this.$props.field&&"groupHeader"!==this.$props.rowType){const i=f(this.$props.field,this.$props.dataItem);let s="";null!=i&&(s=this.$props.format?this.$props.type?this._intl.format(this.$props.format,V[this.$props.type](i,this._intl,this.$props.readFormat)):this._intl.format(this.$props.format,i):i.toString()),e=t.createVNode("td",{style:this.$attrs.style,colspan:this.$props.colSpan,class:this.tdClass,onKeydown:this.triggerKeydown,onClick:this.triggerClick,role:"gridcell","aria-colindex":this.$props.ariaColumnIndex,"aria-selected":this.$props.isSelected,"data-grid-col-index":this.$props.columnIndex,tabindex:o.tabIndex,"data-keyboardnavlevel":o[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":o[r.KEYBOARD_NAV_DATA_ID]},[s])}return i.getTemplate.call(this,{h:t.h,template:this.$props.render,defaultRendering:e,additionalProps:this.$props,additionalListeners:{click:this.triggerClick,keydown:this.triggerKeydown,edit:this.triggerEdit,add:this.triggerAdd,cancel:this.triggerCancel,save:this.triggerSave,remove:this.triggerRemove}})}}),kt=t.defineComponent({name:"KendoGridGroupCell",inheritAttrs:!1,props:{id:String,field:String,dataItem:Object,format:String,type:String,colSpan:Number,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String,dataIndex:Number,isSelected:Boolean,isRtl:Boolean,ariaColumnIndex:Number,render:[String,Function,Object]},emits:{change:null,cellkeydown:null},inject:{kendoIntlService:{default:null},kendoLocalizationService:{default:null},getKeyboardNavigationAttributes:{default:i.noop}},computed:{tdClass(){const{className:e}=this.$props;return{"k-table-td":!0,[e]:e}}},methods:{triggerKeydown(e,t){this.$emit("cellkeydown",{event:e,dataItem:this.$props.dataItem,dataIndex:this.$props.dataIndex,field:this.$props.field,expanded:this.$props.expanded}),!e.defaultPrevented&&e.keyCode===i.Keys.enter&&(e.preventDefault(),this.$emit("change",{dataItem:this.$props.dataItem,dataIndex:this.$props.dataIndex,event:e,level:this.$props.level,field:void 0,value:!t}))},clickHandler(e,t,i){e.preventDefault(),this.$emit("change",{dataItem:t,dataIndex:this.$props.dataIndex,event:e,level:this.$props.level,field:void 0,value:!i})}},render(){let e=null;const{columnIndex:o,level:n,columnsCount:a,rowType:d,dataItem:h,field:c,expanded:p,render:u}=this.$props,g=this.getKeyboardNavigationAttributes(this.$props.id),m=s.provideLocalizationService(this).toLanguageString(ge,ve[ge]),f=s.provideLocalizationService(this).toLanguageString(me,ve[me]);return void 0===o||void 0===n||o<n||void 0===a||"groupHeader"!==d||void 0===h[c]?e=t.createVNode("td",{style:this.$attrs.style,key:"g"+o,class:"k-table-td k-group-cell"},null):o<=n&&(e=t.createVNode("td",{style:this.$attrs.style,onKeydown:e=>{this.triggerKeydown(e,p)},key:"g-colspan",class:this.tdClass,colspan:a-o,role:"gridcell","aria-colindex":this.$props.ariaColumnIndex,"aria-selected":this.$props.isSelected,"aria-expanded":p,"data-grid-col-index":this.$props.columnIndex,tabindex:g.tabIndex,"data-keyboardnavlevel":g[r.KEYBOARD_NAV_DATA_LEVEL],"data-keyboardnavid":g[r.KEYBOARD_NAV_DATA_ID]},[t.createVNode("p",{class:"k-reset"},[t.createVNode("a",{onClick:e=>{this.clickHandler(e,h,p)},href:"#",tabindex:-1,title:p?m:f,"aria-label":p?m:f},[t.createVNode(i.Icon,{name:p?"caret-alt-down":this.isRtl?"caret-alt-left":"caret-alt-right",icon:p?l.caretAltDownIcon:this.isRtl?l.caretAltLeftIcon:l.caretAltRightIcon},null)]),h[c]?h[c].toString():""])])),i.getTemplate.call(this,{h:t.h,template:u,defaultRendering:e,additionalProps:this.$props,additionalListeners:{keydown:this.triggerKeydown,click:this.clickHandler}})}}),xt=t.defineComponent({name:"KendoGridRow",props:{rowType:String,dataItem:Object,isAltRow:Boolean,isHidden:Boolean,isHighlighted:Boolean,onClick:Function,isInEdit:Boolean,isSelected:Boolean,selectedField:String,rowHeight:Number,ariaRowIndex:Number,dataIndex:Number,render:[String,Function,Object],onRowclick:Function,onRowdblclick:Function},methods:{handleClick(e){this.$emit("rowclick",e)},handleDoubleClick(e){this.$emit("rowdblclick",e)}},computed:{trClass(){const{rowType:e,isAltRow:t,isInEdit:i,selectedField:r,isHighlighted:o}=this.$props;return{"k-table-row":!0,"k-selected":void 0!==r&&f(r,this.$props.dataItem),"k-highlighted":o,"k-table-group-row":"groupHeader"===e,"k-grouping-row":"groupHeader"===e,"k-group-footer":"groupFooter"===e,"k-master-row":"groupHeader"!==e&&"groupFooter"!==e,"k-table-alt-row":t,"k-edit-row":i}}},render(){const e=i.getDefaultSlots(this),r=t.createVNode("tr",{onClick:this.handleClick,onDblclick:this.handleDoubleClick,class:this.trClass,style:{height:this.$props.rowHeight?this.$props.rowHeight+"px":"",visibility:this.$props.isHidden?"hidden":""},role:"row","aria-rowindex":this.$props.ariaRowIndex,"data-grid-row-index":"data"===this.$props.rowType?this.$props.dataIndex:void 0},[e]);return i.getTemplate.call(this,{h:t.h,template:this.$props.render,defaultRendering:r,additionalProps:this.$props,additionalListeners:{click:this.handleClick},defaultSlots:e,swapDefaultSlots:!0})}}),It=t.defineComponent({props:{field:String,title:String,selectionValue:Boolean,render:[Object,Function,String]},created(){this.inputId=i.guid()},inject:{kendoLocalizationService:{default:null}},methods:{changeHandle(e){this.$emit("selectionchange",{field:this.$props.field,event:e})}},render(){const e=this.$props.render,r=s.provideLocalizationService(this).toLanguageString(T,ve[T]),o=t.createVNode("input",{checked:this.$props.selectionValue,id:this.inputId,type:"checkbox",class:"k-checkbox k-checkbox-md k-rounded-md","aria-label":r,onChange:this.changeHandle},null),l=i.getTemplate.call(this,{h:t.h,template:e,defaultRendering:o,additionalProps:{...this.$props,selectAll:r},additionalListeners:{selectionchange:this.changeHandle}}),n=e?l:t.createVNode("span",{class:"k-checkbox-wrap"},[l]);return t.createVNode("span",{class:"k-link"},[t.createVNode("span",{class:"k-column-title"},[n])])}}),St=t.defineComponent({name:"GridNoRecords",inject:{kendoLocalizationService:{default:null}},setup:()=>({kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){const e=i.getDefaultSlots(this),r=s.provideLocalizationService(this).toLanguageString(A,ve[A]);return e?t.createVNode("div",null,[e]):r}}),yt={name:"@progress/kendo-vue-grid",productName:"Kendo UI for Vue",productCode:"KENDOUIVUE",productCodes:["KENDOUIVUE"],publishDate:0,version:"7.0.2",licensingDocsUrl:"https://www.telerik.com/kendo-vue-ui/my-license/"},Nt=t.defineComponent({name:"KendoGrid",props:{topCacheCount:{type:Number,default:0},collapsedGroups:{type:Array,default:function(){return[]}},uniqueField:String,totalGroupedHeight:Number,allGroupedItems:Object,alternatePerGroup:Boolean,columns:Array,columnVirtualization:Boolean,dataItems:[Array,Object],sortable:[Boolean,Object],sort:Array,filterable:Boolean,filterOperators:Object,filterCellRender:[String,Function,Object],headerCellRender:[String,Function,Object],loader:[String,Function,Object,Boolean],filter:Object,highlight:Object,pageable:[Boolean,Object],pageSize:Number,total:Number,skip:Number,take:Number,expandField:String,expandColumn:Object,selectedField:String,cellRender:[String,Function,Object],rowRender:[String,Function,Object],resizable:Boolean,reorderable:Boolean,group:Array,groupable:[Boolean,Object],editField:String,rowClass:Function,scrollable:{type:String,default:"scrollable"},size:{type:String,default:"medium",validator:function(e){return["small","medium"].includes(e)}},pager:[String,Function,Object],rowHeight:Number,detailRowHeight:Number,detail:[String,Function,Object],columnMenu:[Boolean,String,Function,Object],columnMenuAnimate:{type:[Boolean,Object],default:function(){return!0}},columnMenuIcon:i.SvgIcon,dataItemKey:String,navigatable:{type:Boolean,default:!1},onItemchange:Function,onExpandchange:Function,onDatastatechange:Function,onPagechange:Function,onSortchange:Function,onFilterchange:Function,onGroupchange:Function},data:()=>({isRtl:!1,context:void 0,navigation:void 0,showLicenseWatermark:!1,licenseMessage:void 0,notHiddenColumns:[]}),watch:{skip:function(e,t){this.onSkipChanged(e,t)},total:function(e,t){this.onTotalChanged(e,t)},rowHeight:function(e,t){this.onRowHeightChanged(e,t)}},created(){i.validatePackage(yt),this.showLicenseWatermark=i.shouldShowValidationUI(yt),this.licenseMessage=i.getLicenseMessage(yt),this.initialHeight=null,this._columns=[];const e=this.currentGroupable,t=this.getVirtualScroll();this.vs=new t(e||void 0===this.$props.rowHeight||0===this.$props.rowHeight,this.$props.topCacheCount),this.dragLogic=new bt(this.columnReorder.bind(this),this.groupReorder.bind(this),this.columnToGroup.bind(this)),this.columnResize=new ft(this.onResize.bind(this)),this._columnsMap=[[]],this._header=null,this._footer=null,this.forceUpdateTimeout=void 0,this._gridId=i.guid(),this._gridRoleElementId=i.guid(),this.slicedCurrentData=void 0,this._prevTotal=void 0},mounted(){this.setRefs();const e=i.isRtl(this._element);this._prevTotal=this.$props.total,this.isRtl=e,this.initialHeight=this._element.style?this._element.style.height:null,this.resizeObserver=i.canUseDOM&&window.ResizeObserver&&new ResizeObserver(this.calculateMedia),null!=document&&document.body&&this.resizeObserver&&this.resizeObserver.observe(document.body)},updated(){this.setRefs();const e=i.isRtl(this._element);this.isRtl=e,this._prevTotal=this.$props.total,this.vs.tableTransform&&this.vs.table&&(this.vs.table.style.transform=this.vs.tableTransform,this.vs.tableTransform="")},unmounted(){this.gridUnmounted()},computed:{nonscrollableWrapperClass(){const{size:e}=this.$props;return{"k-grid":!0,"k-grid-md":!e,[`k-grid-${i.kendoThemeMaps.sizeMap[e]||e}`]:e}},scrollableWrapperClass(){const{scrollable:e}=this.$props;return{...this.nonscrollableWrapperClass,"k-grid-virtual":"virtual"===e}},gridTableClass(){const{size:e}=this.$props;return{"k-table":!0,"k-grid-table":!0,"k-grid-md":!e,[`k-table-${i.kendoThemeMaps.sizeMap[e]||e}`]:e}},getCorrectHeight(){return"virtual"===this.$props.scrollable?this.initialHeight||"450px":null},currentGroupable(){return!0===this.$props.groupable&&this.$props.group&&this.$props.group.length||i.isObject(this.$props.groupable)&&!1!==this.$props.groupable.enabled},computedCollapsed(){let e=[];if(this.$props.group)for(let t=0;t<this.$props.group.length;t++)this.$props.collapsedGroups[t]?e.push(this.$props.collapsedGroups[t]):e.push([]);return e},getAriaRowCount(){const e=this.$props.dataItems,t=void 0!==this.$props.total&&this.$props.total||null!=e&&void 0!==e.total&&e.total||null!=e&&void 0!==e.length&&e.length||0;return this.$props.detail?this._columnsMap.length+(this.$props.filterable?1:0)+2*t+(this._columns.some((e=>!!e.footerCell))?1:0):this.$props.pageable||"scrollable"!==this.$props.scrollable?this.$props.groupable?-1:this._columnsMap.length+(this.$props.filterable?1:0)+t+(this._columns.some((e=>!!e.footerCell))?1:0):void 0},getAriaColCount(){const e=this.$props.columns,t=this.$props.columnVirtualization,i=e&&0!==e.filter((e=>void 0!==e.hidden)).length;if(t||i)return 0!==e.length?e.length:-1}},methods:{getColumnsEssentialProps:e=>e&&JSON.stringify(e.map((e=>({id:e.id,field:e.field,title:e.title,children:e.children})))),calculateMedia(){const e=this.filterHiddenColumns(this.$props.columns||[]);this.getColumnsEssentialProps(this.notHiddenColumns)!==this.getColumnsEssentialProps(e)&&this.$forceUpdate()},filterHiddenColumns(e){if(!e||0===e.length)return e;const t=e=>({...e,children:e.children&&e.children.length>0?this.filterHiddenColumns(e.children):e.children});return[...e].filter((e=>!e.hidden)).filter((e=>i.canUseDOM&&e&&e.media?window.matchMedia(e.media).matches:e)).map((e=>t(e)))},getColumns(){const e=this._columns.filter((e=>e.declarationIndex>=0&&-1===e.parentIndex)),t=e=>(e.sort(((e,t)=>e.declarationIndex-t.declarationIndex)),e.map((e=>{const{declarationIndex:i,parentIndex:r,depth:o,colSpan:s,rowSpan:l,index:n,kFirst:a,children:d,...h}=e;return d.length?{children:t(d),...h}:h})));return t(e)},setRefs(){const e=i.getRef(this,"gridNav");e&&(this._element=e.$el);const t=i.getRef(this,"groupPanelDiv");if(t){let e=t.$el||null;this.dragLogic.refGroupPanelDiv(e)}const r=i.getRef(this,"dropElementClue"),o=i.getRef(this,"dragElementClue");this.dragLogic.refDropElementClue(r),this.dragLogic.refDragElementClue(o),this.columnResize.colGroupMain=i.getRef(this,"colGroup"),this._header=i.getRef(this,"header"),this._footer=i.getRef(this,"footer"),this.vs.containerRef=i.getRef(this,"scrollContainer"),this.vs.table=i.getRef(this,"scrollTable"),this.resetTableWidth(),this.vs.tableBodyRef=i.getRef(this,"scrollTableBody")},gridUnmounted(){clearTimeout(this.forceUpdateTimeout),this.columnResize.columns=[],this.dragLogic.columns=[],this.dragLogic&&this.dragLogic.dragElementClue&&(this.dragLogic.dragElementClue.$el.remove(),this.dragLogic.dropElementClue.$el.remove()),this.currentData=[],this._columns=[],null!=document&&document.body&&this.resizeObserver&&this.resizeObserver.disconnect()},resetVirtual(){this.vs.PageChange=this.pageChangeHandler,this.vs.realSkip=this.$props.skip||0,this.vs.pageSize=(void 0!==this.$props.take?this.$props.take:this.$props.pageSize)||0,this.vs.scrollableVirtual="virtual"===this.$props.scrollable,this.vs.propsSkip=(this.$props.skip||0)+("virtual"===this.$props.scrollable?this.vs.topCacheCount+(this.vs.attendedSkip-(this.$props.skip||0)):0)},getVirtualScroll:()=>ut,isAllData(){const{dataItems:e,total:t}=this.$props;return Array.isArray(e)?e.length===t:!!e&&t===e.total},initializeVirtualization(e){if((this.$props.total!==this._prevTotal||"virtual"===this.$props.scrollable!==this.vs.scrollableVirtual)&&this.vs.reset(),this.resetVirtual(),this.vs.total=e,void 0!==this.$props.rowHeight&&this.$props.rowHeight>0&&!this.currentGroupable)this.vs.containerHeight=Math.min(1533915,this.$props.rowHeight*(e||0));else if(this.$props.totalGroupedHeight)this.vs.containerHeight=Math.min(1533915,this.$props.totalGroupedHeight);else if(this.$props.allGroupedItems&&this.$props.allGroupedItems.data){const e=this.totalGroupedRows(F(this.$props.allGroupedItems,this.computedCollapsed,this.$props.uniqueField).data);this.vs.containerHeight=Math.min(1533915,this.$props.rowHeight*e)}else this.vs.containerHeight=1533915;if(this.slicedCurrentData=void 0,this.vs instanceof mt){const{rowHeight:t=0,detail:i,expandField:r}=this.$props;let{detailRowHeight:o=0}=this.$props;o=i&&r?o:t,this.isAllData()?(this.vs.total=this.currentData.length,this.slicedCurrentData=this.currentData.slice(this.vs.realSkip,this.vs.realSkip+this.vs.pageSize),this.vs.rowHeightService=this.rowHeightService(this.vs,this.currentData.length,t,o,this.currentData)):this.vs.rowHeightService=new gt(e,t,o);const s=this.vs.rowHeightService.totalHeight();this.vs.containerHeight=O?Math.min(D,s):s}},onSkipChanged(e,t){Math.max(0,this.vs.attendedSkip)!==e&&void 0!==e&&(this.vs.attendedSkip=e,this.vs.propsSkip=(e||0)+("virtual"===this.$props.scrollable?this.vs.topCacheCount+(this.vs.attendedSkip-(e||0)):0))},onTotalChanged(e,t){const i=this.currentGroupable;this.vs.reset(),this.vs=new ut(i||void 0===this.$props.rowHeight||0===this.$props.rowHeight,this.$props.topCacheCount),this.resetVirtual(),this.setRefs()},onRowHeightChanged(e,t){const i=this.currentGroupable;this.vs.reset(),this.vs=new ut(i||void 0===this.$props.rowHeight||0===this.$props.rowHeight,this.$props.topCacheCount),this.resetVirtual(),this.setRefs()},scrollHandler(e){clearTimeout(this.forceUpdateTimeout),this.$props.columnVirtualization&&!this.vs.scrollableVirtual&&(this.forceUpdateTimeout=setTimeout((()=>{this.$forceUpdate()}),0)),this._header&&this._header.setScrollLeft(e.currentTarget.scrollLeft),this._footer&&this._footer.setScrollLeft(e.currentTarget.scrollLeft),this.vs&&this.vs.scrollHandler(e),this.$emit("scroll",e)},rowClick(e,t){"checkbox"!==e.target.type&&this.$emit("rowclick",{dataItem:t.dataItem,...this.getArguments(e)})},rowDoubleClick(e,t){"checkbox"!==e.target.type&&this.$emit("rowdblclick",{dataItem:t.dataItem,...this.getArguments(e)})},loopGroupedItems(e,t,i=0,r=null){return e.forEach((e=>{!r&&t(e,i)&&(r=e),e.items&&e.items.length&&!r&&(r=this.loopGroupedItems(e.items,t,i+1,r))})),r},updateGroupCollapsed(e){let t=this.computedCollapsed,i=t[e.level];const r=this.$props.uniqueField,o=this.allGroupedItems?this.loopGroupedItems(this.allGroupedItems.data,(function(t,i){return t.value===e.dataItem.value&&i===e.level}),0,null):e.dataItem,s=H(o||e.dataItem,r);if(e.value){if(i&&i.length){const e=i.indexOf(s);e>-1&&i.splice(e,1)}}else i?i.includes(s)||i.push(s):i=[s];return t},itemChange(e){const t=i.hasListener.call(this,"itemchange");e.field===this.$props.expandField||(this.$props.group||this.$props.detail)&&void 0===e.field?i.hasListener.call(this,"expandchange")&&e.dataItem&&this.$emit("expandchange",{...this.getArguments(e.event),collapsedGroups:this.updateGroupCollapsed(e),dataItem:e.dataItem,value:e.value}):t&&this.$emit("itemchange",{...this.getArguments(e.event),dataItem:e.dataItem,field:e.field,value:e.value})},cellClickHandler(e){this.$emit("cellclick",{dataItem:e.dataItem,field:e.field})},cellKeydownHandler(e){this.$emit("cellkeydown",e)},editHandler(e){this.$emit("edit",{dataItem:e})},removeHandler(e){this.$emit("remove",{dataItem:e})},saveHandler(e){this.$emit("save",{dataItem:e})},cancelHandler(e){this.$emit("cancel",{dataItem:e})},selectionChangeHandler(e){const{event:t,dataItem:i,dataIndex:r,columnIndex:o}=e;this.$emit("selectionchange",{...this.getArguments(t.event),dataItem:i,startColIndex:o,endColIndex:o,startRowIndex:r,endRowIndex:r,dataItems:this.getLeafDataItems(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,isDrag:!1,componentId:this._gridId,selectedField:this.$props.selectedField||""})},onHeaderSelectionChangeHandler(e){this.$emit("headerselectionchange",{field:e.field,event:e.event,target:this})},pageChangeHandler(e,t){this.raiseDataEvent("pagechange",{page:e,event:t},{skip:e.skip,take:e.take},t)},sortChangeHandler(e,t){this.raiseDataEvent("sortchange",{sort:e},{sort:e},t)},filterChangeHandler(e,t){this.raiseDataEvent("filterchange",{filter:e},{filter:e,skip:0},t)},groupChangeHandler(e,t){this.raiseDataEvent("groupchange",{group:e},{group:e,skip:0},t)},raiseDataEvent(e,t,r,o){i.hasListener.call(this,e)?this.$emit(e,{...this.getArguments(o),...t}):i.hasListener.call(this,"datastatechange")&&this.$emit("datastatechange",{...this.getArguments(o),data:{...this.getDataState(),...r}})},columnReorder(e,t,i){const r=this._columns[e].depth,o=e=>{do{e++}while(e<this._columns.length&&this._columns[e].depth>r);return e},s=this._columns.splice(e,o(e)-e);this._columns.splice(e<t?o(t-s.length):t,0,...s),this._columns.filter((e=>e.declarationIndex>=0)).forEach(((e,t)=>e.orderIndex=t));const l=this.getColumns();this.$emit("columnreorder",{target:this,columns:l,event:i,prev:e,next:t})},groupReorder(e,t,i){if(void 0===this.$props.group)return;const r=this.$props.group.slice();r.splice(t,0,...r.splice(e,1)),this.groupChangeHandler(r,i)},columnToGroup(e,t,i){const r=this._columns[e].field;if(!r)return;const o=(this.$props.group||[]).slice();o.splice(t,0,{field:r}),this.groupChangeHandler(o,i)},resetTableWidth(){let e=0;if(!this.columnResize.colGroupMain)return;const t=this.columnResize.colGroupMain.children;for(let i=0;i<t.length;i++){const r=t[i].width;if(!r)return;e+=parseFloat(r.toString())}e=Math.round(e),this._header&&this._header.setWidth(e),this._footer&&this._footer.setWidth(e),this.vs.table&&(this.vs.table.style.width=e+"px")},onResize(e,t,i,r,o){this.resetTableWidth(),this.$emit("columnresize",{columns:this.getColumns(),index:e,event:r,newWidth:t,oldWidth:i,end:o,target:this})},initColumns(e,o){const s=r.tableKeyboardNavigationTools.getIdPrefix(this.navigation);if(this._columns=y(e,this.getColumns(),{prevId:0,idPrefix:s}),0===this._columns.length){const e=N(this.$props.dataItems,this.$props.group,this.$props.expandField,{prevId:0,idPrefix:s});this._columns=e}this.$props.selectedField&&this._columns.filter((e=>e.field===this.$props.selectedField)).forEach((e=>{e.width=e.width||"50px",e.internalCell=t.markRaw(L),e.internalHeaderCell=t.markRaw(It)}));const l={id:"",resizable:!0,width:"32px",title:" ",declarationIndex:-1,orderIndex:-1,children:[],parentIndex:-1,depth:0,colSpan:0,rowSpan:0,left:0,right:0,index:0,rightBorder:!1,ariaColumnIndex:1,isAccessible:!0};let n=0;this.$props.expandField&&i.hasListener.call(this,"expandchange")&&this.$props.detail&&(this._columns.unshift({...l,internalCell:t.markRaw($e),field:this.$props.expandField,headerClassName:"k-hierarchy-cell k-header",id:r.tableKeyboardNavigationTools.generateNavigatableId(`${this._columns.length}`,s,"column"),...this.expandColumn}),n++);for(let e=0;e<o;e++)this._columns.unshift({...l,isAccessible:!1,internalCell:t.markRaw(kt),field:"value"}),n++;this._columns.slice(n).forEach((e=>e.parentIndex>=0&&(e.parentIndex+=n))),this._columnsMap=S(this._columns),this.columnResize.columns=this._columns,this.dragLogic.columns=this._columns},resolveTitle(e){const t=this.findColumnByField(e),i=t&&(t.title||t.field);return void 0===i?e:i},findColumnByField(e){let t;return this.$props.columns.forEach((i=>{const r=this.searchColumn(i,e);r&&(t=r)})),t},searchColumn(e,t){if(e.field===t)return e;if(e.children){let i,r=null;for(i=0;null==r&&i<e.children.length;i++)r=this.searchColumn(e.children[i],t);return r}return null},getDataState(){return{filter:this.$props.filter,sort:this.$props.sort,skip:this.$props.skip,take:void 0!==this.$props.take?this.$props.take:this.$props.pageSize,group:this.$props.group}},getArguments(e){return{event:e,target:this}},getLeafDataItems(){return this.currentData.filter((e=>"data"===e.rowType)).map((e=>e.dataItem))},totalGroupedRows(e){let t=0;return e&&(t=this.addSubItems(e,t)),t},addSubItems(e,t){return e.forEach((e=>{t++,!1!==e.expanded&&e.items&&(t=this.addSubItems(e.items,t)),this.group&&this.group.length&&("always"===this.$props.groupable.footer||!1!==e.expanded&&e.items&&"visible"===this.$props.groupable.footer)&&t++})),t}},setup:()=>({groupPanelDivRef:t.ref(null),dropElementClueRef:t.ref(null),dragElementClueRef:t.ref(null),headerRef:t.ref(null),footerRef:t.ref(null),gridNavRef:t.ref(null),colGroupRef:t.ref(null),scrollContainerRef:t.ref(null),scrollTableRef:t.ref(null),scrollTableBodyRef:t.ref(null)}),render(){const e=i.getDefaultSlots(this);let s=this.$props.total||0;const l=r.tableKeyboardNavigationTools.getIdPrefix(this.navigation);let n=[];Array.isArray(this.$props.dataItems)?n=this.$props.dataItems:this.$props.dataItems&&(n=F(this.$props.dataItems,this.$props.collapsedGroups.length?this.computedCollapsed:[],this.$props.uniqueField).data,s=s||this.$props.dataItems.total);const a=!0===this.$props.groupable||i.isObject(this.$props.groupable)&&!1!==this.$props.groupable.enabled;this.columnResize.resizable=this.$props.resizable||!1,this.dragLogic.reorderable=this.$props.reorderable||!1,this.dragLogic.groupable=a,this.initializeVirtualization(s);const d=i.isObject(this.$props.groupable)&&this.$props.groupable.footer||"none";this.currentData=[];const h=b(this.currentData,n,d,{index:this.$props.skip||0},void 0!==this.$props.group,this.$props.expandField),c=e||[];this.notHiddenColumns=this.filterHiddenColumns(this.$props.columns),this.initColumns(this.notHiddenColumns,h);const p=c.filter((e=>e&&e.tag&&-1!==e.tag.toLowerCase().indexOf("toolbar")||e.componentOptions&&e.componentOptions.tag&&-1!==e.componentOptions.tag.toLowerCase().indexOf("toolbar")||e.type&&e.type.name&&-1!==e.type.name.toLowerCase().indexOf("toolbar"))),u=c.filter((e=>e&&e.tag&&-1!==e.tag.toLowerCase().indexOf("records")||e.componentOptions&&e.componentOptions.tag&&-1!==e.componentOptions.tag.toLowerCase().indexOf("records")||e.type&&e.type.name&&-1!==e.type.name.toLowerCase().indexOf("records"))),m=this._columns.filter((e=>0===e.children.length)),f=a&&t.createVNode(ht,{ref:e=>{this.groupPanelDivRef=e},group:this.$props.group||[],ariaControls:this._gridRoleElementId,onGroupChange:this.groupChangeHandler,onPressHandler:this.dragLogic.pressHandler,onDragHandler:this.dragLogic.dragHandler,onReleaseHandler:this.dragLogic.releaseHandler,resolveTitle:this.resolveTitle},null),v=(this.dragLogic.reorderable||this.dragLogic.groupable)&&i.canUseDOM&&document&&document.body,C=[v&&t.createVNode(Ct,{ref:e=>{this.dropElementClueRef=e}},null),v&&t.createVNode(vt,{ref:e=>{this.dragElementClueRef=e}},null)],$=t.createVNode(ye,{size:this.$props.size,columnResize:this.columnResize,staticHeaders:"none"!==this.$props.scrollable,ref:e=>{this.headerRef=e},headerRow:t.createVNode(lt,{grid:this,sort:this.$props.sort,groupable:this.$props.groupable,reorderable:this.$props.reorderable,sortable:this.$props.sortable,onSortChange:this.sortChangeHandler,filter:this.$props.filter,filterable:this.$props.filterable,filterOperators:this.$props.filterOperators||_e,onFilterChange:this.filterChangeHandler,columnMenu:this.$props.columnMenu,columnMenuIcon:this.$props.columnMenuIcon,columnMenuAnimate:this.$props.columnMenuAnimate,onSelectionchange:this.onHeaderSelectionChangeHandler,columns:this._columns,columnsInitial:this.$props.columns,columnResize:this.columnResize,onPressHandler:this.dragLogic.pressHandler,onDragHandler:this.dragLogic.dragHandler,onReleaseHandler:this.dragLogic.releaseHandler,columnsMap:this._columnsMap,cellRender:this.$props.headerCellRender,isRtl:this.isRtl,isColCountDefined:void 0!==this.getAriaColCount,filterRow:this.$props.filterable&&t.createVNode(at,{grid:this,size:this.$props.size,columns:this._columns,filter:this.$props.filter,filterOperators:this.$props.filterOperators||_e,onFilterchange:this.filterChangeHandler,sort:this.$props.sort,cellRender:this.$props.filterCellRender,isRtl:this.isRtl,ariaRowIndex:this._columnsMap.length+1},null)||void 0},null),cols:m.map((function(e,i){return t.createVNode("col",{key:i.toString(),width:void 0!==e.width?Math.floor(parseFloat(e.width.toString()))+"px":void 0},null)}),this)},null),k=this._columns.some((e=>!!e.footerCell))?t.createVNode(ct,{size:this.$props.size,columnResize:this.columnResize,staticHeaders:"none"!==this.$props.scrollable,ref:e=>{this.footerRef=e},row:t.createVNode(pt,{isRtl:this.isRtl,rowIndex:this.getAriaRowCount+1,columns:this._columns.map((function(e){return{...e,footerCell:i.templateRendering.call(this,e.footerCell,i.getListeners.call(this))}}),this)},null),cols:m.map((function(e,i){return t.createVNode("col",{key:i.toString(),width:void 0!==e.width?Math.floor(parseFloat(e.width.toString()))+"px":void 0},null)}),this)},null):t.createVNode("span",null,null),x=i.templateRendering.call(this,this.$props.cellRender,i.getListeners.call(this)),I=this.showLicenseWatermark?t.createVNode(i.WatermarkOverlay,{message:this.licenseMessage},null):null,S=this.$attrs.style,y=S&&i.isObject(S)&&S.width||"",N=parseFloat(y.toString()),w=this.vs&&this.vs.container&&this.vs.container.scrollLeft||0,{colSpans:V,hiddenColumns:R}=r.tableColumnsVirtualization({enabled:this.$props.columnVirtualization,columns:this._columns,tableViewPortWidth:N,scrollLeft:w}),O=function(e,o,s){let n=!1;const a=this.$props.selectedField,d=a?i.getNestedValue(a,e.dataItem):void 0,h=this.$props.highlight&&this.$props.dataItemKey&&void 0!==i.getter(this.$props.dataItemKey)(e.dataItem)?this.$props.highlight[i.getter(this.$props.dataItemKey)(e.dataItem)]:void 0;return{row:this._columns.map((function(a,c){if(R[c])return null;const p=`${a.className?a.className+" ":""}${a.locked?"k-grid-content-sticky":""}`,u=void 0!==a.left?this.isRtl?{left:a.right+"px",right:a.left+"px"}:{left:a.left+"px",right:a.right+"px"}:{};let g,m=!1;if(a.editable&&this.$props.editField){const t=i.getNestedValue(this.$props.editField,e.dataItem);(!0===t||t===a.field)&&(n=!0,m=!0)}a.cell&&(g=i.templateRendering.call(this,a.cell,i.getListeners.call(this)));const f=this.computedCollapsed&&this.computedCollapsed[e.level]&&this.computedCollapsed[e.level].some((t=>t===H(e.dataItem,this.$props.uniqueField))),b=f?!f:e.expanded;return a.internalCell?t.createVNode(a.internalCell,{key:c,id:r.tableKeyboardNavigationTools.generateNavigatableId(`${o}-${String(c)}`,l),colSpan:V[c],dataItem:e.dataItem,field:a.field||"",editor:a.editor,format:a.format,readFormat:a.readFormat,type:a.type,className:p,render:g||x,onChange:this.itemChange,onSelectionchange:t=>this.selectionChangeHandler({event:t,dataItem:e.dataItem,dataIndex:s,columnIndex:c}),columnIndex:c,columnsCount:this._columns.filter((e=>!e.children.length)).length,rowType:e.rowType,level:e.level,expanded:b,dataIndex:e.dataIndex,style:u,ariaColumnIndex:a.ariaColumnIndex,isRtl:this.isRtl,isSelected:Array.isArray(d)&&d.indexOf(c)>-1,isHighlighted:!("boolean"==typeof h||!h||!a.field||!0!==h[a.field])},null):m?t.createVNode(Ie,{id:r.tableKeyboardNavigationTools.generateNavigatableId(`${o}-${String(c)}`,l),key:c,colSpan:V[c],dataItem:e.dataItem,field:a.field||"",editor:a.editor,format:a.format,readFormat:a.readFormat,type:a.type,className:p,render:g||x,onEdit:this.editHandler,onRemove:this.removeHandler,onSave:this.saveHandler,onCancel:this.cancelHandler,onChange:this.itemChange,columnIndex:c,columnsCount:this._columns.filter((e=>!e.children.length)).length,rowType:e.rowType,level:e.level,expanded:b,dataIndex:e.dataIndex,style:u},null):t.createVNode($t,{key:c,id:r.tableKeyboardNavigationTools.generateNavigatableId(`${o}-${String(c)}`,l),colSpan:V[c],dataItem:e.dataItem,field:a.field||"",editor:a.editor,format:a.format,readFormat:a.readFormat,type:a.type,className:p,render:g||x,onCellclick:this.cellClickHandler,onCellkeydown:this.cellKeydownHandler,onEdit:this.editHandler,onRemove:this.removeHandler,onSave:this.saveHandler,onCancel:this.cancelHandler,onChange:this.itemChange,onSelectionchange:t=>this.selectionChangeHandler({event:t,dataItem:e.dataItem,dataIndex:s,columnIndex:c}),columnIndex:c,columnsCount:this._columns.filter((e=>!e.children.length)).length,rowType:e.rowType,level:e.level,expanded:b,dataIndex:e.dataIndex,style:u,isSelected:Array.isArray(d)&&d.indexOf(c)>-1,isHighlighted:!("boolean"==typeof h||!h||!a.field||!0!==h[a.field])},null)}),this),isInEdit:n,isSelected:"boolean"==typeof d&&d,isHighlighted:"boolean"==typeof h&&h}};let D=0;if("virtual"===this.$props.scrollable&&this.totalGroupedRows(this.currentData)/2>this.$props.take){const e=this.vs.topCacheCount+this.vs.attendedSkip-(this.$props.skip||0);for(let t=0;t<e;){const e=this.currentData.shift();if(!e)break;this.currentData.push(e),D++,"groupHeader"===e.rowType&&t--,t++}}const L=e=>e>=this.currentData.length-D,A=i.templateRendering.call(this,this.$props.detail,i.getListeners.call(this));let T=this.vs.propsSkip||0;const E=this._columnsMap.length+(this.$props.filterable?1:0)+1;let G,z=-1,_=0;const M=this.currentData.length&&this.currentData.map((function(e,o){"data"===e.rowType&&(T++,z++),this.$props.alternatePerGroup&&"groupHeader"===e.rowType&&(T=0);const s=T%2==0,n=this.$props.dataItemKey&&i.getter(this.$props.dataItemKey)(e.dataItem),a=o+(this.vs.propsSkip||0),d=n||"ai"+a,h=d+"_1";G=a+E+_;const c=i.templateRendering.call(this,this.$props.rowRender,i.getListeners.call(this));let p;this.$props.detail&&"data"===e.rowType&&e.expanded&&(p=m.length-(this.$props.expandField?1:0)-(this.$props.group?this.$props.group.length:0)||1,_++,G=a+E+_);const u=2*o+E,g=2*o+E+1,f=O.call(this,e,d,z);return[t.createVNode(xt,{key:d,dataItem:e.dataItem,isAltRow:s,isInEdit:f.isInEdit,isSelected:f.isSelected,isHighlighted:f.isHighlighted,rowType:e.rowType,isHidden:L(o),onRowclick:t=>this.rowClick(t,e),onRowdblclick:t=>this.rowDoubleClick(t,e),selectedField:this.$props.selectedField,rowHeight:this.$props.rowHeight,render:c,ariaRowIndex:this.$props.detail?u:G,dataIndex:z,class:this.$props.rowClass?this.$props.rowClass(e):""},{default:()=>[f.row]}),this.$props.detail&&"data"===e.rowType&&e.expanded&&t.createVNode("tr",{key:h,class:s?"k-table-row k-table-alt-row k-detail-row":"k-table-row k-detail-row",style:{visibility:L(o)?"hidden":"",height:this.$props.detailRowHeight+"px"},role:"row","aria-rowindex":this.$props.detail?g:G},[this.$props.group&&this.$props.group.map((function(i,r){return t.createVNode(kt,{id:"",dataIndex:e.dataIndex,field:i.field,dataItem:e.dataItem,key:r},null)}),this),this.$props.expandField&&t.createVNode(ke,{id:r.tableKeyboardNavigationTools.generateNavigatableId(`${h}-dhcell`,l)},null),t.createVNode(xe,{dataItem:e.dataItem,dataIndex:e.dataIndex,colSpan:p,ariaColIndex:2+(this.$props.group?this.$props.group.length:0),detail:this.$props.detail?A:void 0,id:r.tableKeyboardNavigationTools.generateNavigatableId(`${h}-dcell`,l)},null)])]}),this)||t.createVNode("tr",{class:"k-table-row k-grid-norecords"},[t.createVNode("td",{class:"k-table-td",colspan:this._columns.filter((e=>!e.children.length)).length},[u.length?u:t.createVNode(St,null,null)])]),j=i.templateRendering.call(this,this.$props.pager,i.getListeners.call(this)),K=this.$props.pageable&&t.createVNode(r.Pager,{class:"k-grid-pager",onPagesizechange:this.pageChangeHandler,onPagechange:this.pageChangeHandler,size:this.$props.size,total:s,skip:this.vs.propsSkip||0,pageSize:(void 0!==this.$props.take?this.$props.take:this.$props.pageSize)||10,messagesMap:Ce,settings:r.normalize(this.$props.pageable||{})},null),B=i.getTemplate.call(this,{h:t.h,template:j,defaultRendering:K,additionalProps:{...this.$props,skip:this.vs.propsSkip||0,messagesMap:Ce},additionalListeners:{pagesizechange:this.pageChangeHandler,pagechange:this.pageChangeHandler}}),P=e=>this.$props.sort&&this.$props.sort.filter((t=>t.field===e)).length>0,W=t.createVNode("colgroup",{ref:i.setRef(this,"colGroup")},[m.map((function(e,i){return t.createVNode("col",{key:i.toString(),class:P(e.field)?"k-sorted":void 0,width:void 0!==e.width?-1!==e.width.toString().indexOf("%")?e.width:Math.floor(parseFloat(e.width.toString()))+"px":void 0},null)}),this)]),q={height:this.getCorrectHeight},U=i.templateRendering.call(this,this.$props.loader,i.getListeners.call(this)),Y=this.$props.loader&&t.createVNode("div",{class:"k-loader-container k-loader-container-md k-loader-top"},[t.createVNode("div",{class:"k-loader-container-overlay k-overlay-light"},null),t.createVNode("div",{class:"k-loader-container-inner"},[t.createVNode(o.Loader,{size:"large",type:"infinite-spinner"},null)])]),X=i.getTemplate.call(this,{h:t.h,template:U,defaultRendering:Y});return"none"===this.$props.scrollable?t.createVNode(r.TableKeyboardNavigationProvider,{ref:"navRef",id:this._gridId,navigatable:this.$props.navigatable},{default:()=>[t.createVNode(g,{ref:e=>{this.gridNavRef=e},currentData:this.currentData,style:q,class:this.nonscrollableWrapperClass},{default:()=>[p,f,t.createVNode("div",{role:"grid",class:"k-grid-aria-root",id:this._gridRoleElementId,"aria-colcount":this.getAriaColCount,"aria-rowcount":this.getAriaRowCount},[t.createVNode("table",{class:"k-table",style:{tableLayout:"fixed"},role:"none"},[W,$,t.createVNode("tbody",{class:"k-table-tbody","data-keyboardnavbody":!0},[M,X]),k])]),B,C]})]}):t.createVNode(r.TableKeyboardNavigationProvider,{ref:"navRef",id:this._gridId,navigatable:this.$props.navigatable},{default:()=>[t.createVNode(g,{ref:e=>{this.gridNavRef=e},currentData:this.currentData,style:q,class:this.scrollableWrapperClass},{default:()=>[p,f,t.createVNode("div",{role:"grid",class:"k-grid-aria-root",id:this._gridRoleElementId,"aria-colcount":this.getAriaColCount,"aria-rowcount":this.getAriaRowCount},[$,t.createVNode("div",{class:"k-grid-container",role:"presentation"},[t.createVNode("div",{role:"presentation",ref:i.setRef(this,"scrollContainer"),class:"k-grid-content k-virtual-content",onScroll:this.scrollHandler},[t.createVNode("div",{class:"k-grid-table-wrap",role:"presentation"},[t.createVNode("table",{role:"none",class:this.gridTableClass,ref:i.setRef(this,"scrollTable")},[W,t.createVNode("tbody",{class:"k-table-tbody",role:"rowgroup","data-keyboardnavbody":!0,ref:i.setRef(this,"scrollTableBody")},[M])])]),t.createVNode("div",{class:"k-height-container",role:"presentation"},[t.createVNode("div",{style:"virtual"===this.$props.scrollable?{height:this.vs.containerHeight+"px"}:{}},null)])]),X]),k,I]),B,C]})]})}}),wt=t.defineComponent({name:"KendoGridColumnMenuFilterUI",inheritAttrs:!1,props:{firstFilterProps:Object,secondFilterProps:Object,logicValue:Object,logicData:Array,hideSecondFilter:Boolean,operators:Array,render:[String,Function,Object]},emits:{change:null,filteruifocus:null,logicChange:null},methods:{handleFocus(e){this.$emit("filteruifocus",e)},changeHandler(e,t){this.$emit("change",e,t)},logicChange(e){this.$emit("logicChange",e)}},render(){const{firstFilterProps:e,hideSecondFilter:r,secondFilterProps:o,logicData:s,logicValue:l,operators:n,render:a}=this.$props,d=e.field,h=e.value,c=e.operator,p=e.booleanValues,g=e.filterType,m=o.field,f=o.value,b=o.operator,v=o.booleanValues,C=o.filterType,$=t.createVNode("div",{style:this.$attrs.style,class:this.$attrs.class},[t.createVNode(Ye,{field:d,value:h,operator:c,booleanValues:p,filterType:g,onFiltercellfocus:this.handleFocus,onChange:e=>{this.changeHandler(e,0)},operators:n},null),!r&&t.createVNode("div",null,[t.createVNode(u.DropDownList,{onChange:this.logicChange,class:"k-filter-and","data-items":s,value:l,textField:"text"},null),t.createVNode(Ye,{field:m,value:f,operator:b,booleanValues:v,filterType:C,onFiltercellfocus:this.handleFocus,onChange:e=>{this.changeHandler(e,1)},operators:n},null)])]);return i.getTemplate.call(this,{h:t.h,template:a,defaultRendering:$,additionalProps:this.$props,additionalListeners:{change:this.changeHandler,logicchange:this.logicChange}})}});function Vt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!t.isVNode(e)}const Rt={name:"KendoGridColumnMenuCheckboxFilter",props:{column:Object,filter:Object,filterable:Boolean,filterOperators:Object,checkAllItem:[String,Object,Function],item:[String,Object,Function],expanded:{type:Boolean,default:void 0},dataItems:Array,searchBox:{type:Boolean,default:!0},uniqueData:{type:Boolean,default:!0}},data:()=>({currentExpanded:!1,currentValue:"",currentData:void 0,dataFromProps:void 0,currentFilter:void 0}),created(){this.compositeFilterIndex=this.getFilterIndex(),this.currentExpanded=this.$props.expanded,this.currentData=this.parseData(this.$props.dataItems,this.$props.uniqueData)||[],this.dataFromProps=this.parseData(this.$props.dataItems,!1)||[],this.currentFilter=this.defaultFilter()},updated(){const e=this.$props.column.field||"",t=this.$props.dataItems.map((t=>f(e,t)));((e,t)=>e.length===t.length&&e.every(((e,i)=>e===t[i])))(t,this.dataFromProps)||(this.currentData=t,this.dataFromProps=t)},inject:{kendoLocalizationService:{default:null}},setup:()=>({kendoLocalizationService:t.inject("kendoLocalizationService",{})}),render(){let e,r;const{column:o}=this.$props;if(!o||!o.field)return t.createVNode("div",null,null);const a=s.provideLocalizationService(this),d=void 0!==this.$props.expanded?this.$props.expanded:this.currentExpanded,h=[];if(this.currentFilter){const e=[...this.currentFilter.filters];this.compositeFilterIndex=e.findIndex((e=>!!(e.filters&&e.filters.length>0)&&e.filters[0].field===o.field)),-1!==this.compositeFilterIndex&&e[this.compositeFilterIndex].filters.length>0&&e[this.compositeFilterIndex].filters.forEach((e=>{e.field===this.$props.column.field&&h.push(e.value)}))}const c=function(){return this.$props.searchBox&&t.createVNode("span",{class:"k-list-filter"},[t.createVNode("span",{class:"k-textbox k-input k-input-md k-rounded-md k-input-solid"},[t.createVNode(i.Icon,{name:"search",icon:l.searchIcon,class:"k-input-icon"},null),t.createVNode("input",{ref:"searchBox",placeholder:a.toLanguageString(ee,ve[ee]),class:"k-input-inner",value:this.currentValue,onInput:this.handleSearchChange},null)])])},u=h.filter(((e,t)=>h.indexOf(e)===t)),g=i.templateRendering.call(this,this.$props.item,i.getListeners.call(this)),m=i.templateRendering.call(this,this.$props.checkAllItem,i.getListeners.call(this)),f=t.createVNode("li",{class:"k-item"},[t.createVNode(n.Checkbox,{label:a.toLanguageString(te,ve[te]),onChange:e=>this.handleCheckBoxChange(e,"all"),checked:this.isAllSelected()},null)]),b=i.getTemplate.call(this,{h:t.h,template:m,defaultRendering:f,additionalProps:{checked:this.isAllSelected()},additionalListeners:{change:e=>this.handleCheckBoxChange(e,"all")}});return t.createVNode(He,null,{default:()=>[t.createVNode(Fe,{title:a.toLanguageString(J,ve[J]),icon:"filter",svgIcon:l.filterIcon,onMenuitemclick:this.onFilterExpand},null),t.createVNode(Ge,{show:!!d},{default:()=>[t.createVNode("div",{class:"kendo-grid-filter-menu-container"},[t.createVNode("form",{class:"k-filter-menu k-border-up",onSubmit:this.submit,onReset:this.clear},[t.createVNode("div",{class:"k-filter-menu-container"},[c.call(this),t.createVNode("ul",{class:"k-reset k-multicheck-wrap"},[b,this.currentData.map((function(e,r){const o=t.createVNode("li",{class:"k-item",key:r},[t.createVNode(n.Checkbox,{label:String(e),onChange:t=>this.handleCheckBoxChange(t,e),checked:u.includes(e)},null)]);return i.getTemplate.call(this,{h:t.h,template:g,defaultRendering:o,additionalProps:{item:e,index:r,checked:u.includes(e)},additionalListeners:{change:t=>this.handleCheckBoxChange(t,e)}})}),this)]),t.createVNode("div",{class:"k-columnmenu-actions"},[t.createVNode(p.Button,{themeColor:"primary"},Vt(e=a.toLanguageString(X,ve[X]))?e:{default:()=>[e]}),t.createVNode(p.Button,{type:"reset"},Vt(r=a.toLanguageString(Y,ve[Y]))?r:{default:()=>[r]})])])])])]})]})},methods:{defaultFilter(){return this.$props.filter?i.clone(this.$props.filter):{filters:[],logic:"and"}},parseData(e,t){const i=this.$props.column.field||"",r=e.map((e=>f(i,e)));return t?r.filter(((e,t)=>r.indexOf(e)===t)):r},getFilterIndex(){const e=this.$props.column.field;return this.defaultFilter().filters.findIndex((t=>t.filters&&t.filters.length>0&&t.filters[0].field===e))},onFilterExpand(){const e=void 0!==this.$props.expanded,t=!(e?this.$props.expanded:this.currentExpanded);this.$emit("expandchange",t),e||(this.currentExpanded=t)},handleSearchChange(e){const t={logic:"and",filters:[{field:this.$props.column.field,operator:"startswith",value:e.target.value,ignoreCase:!0}]};this.currentValue=e.target.value,this.currentData=this.parseData(h.filterBy(this.$props.dataItems||[],t),this.$props.uniqueData)},clear(e){e.preventDefault();const t=this.currentFilter||null;null!==t&&t.filters.length>0?(this.compositeFilterIndex>=0&&t.filters.splice(this.compositeFilterIndex,1),this.$emit("filterchange",t,e)):this.$emit("filterchange",null,e),this.$emit("closemenu")},submit(e){e.preventDefault();const t=this.currentFilter||null;this.$emit("filterchange",t,e),this.$emit("closemenu")},handleCheckBoxChange(e,t){const i=this.$props.column.field||"",r={...this.currentFilter},o=[...this.currentFilter.filters];let s=[];if(-1!==this.compositeFilterIndex&&r.filters[this.compositeFilterIndex].filters&&"all"!==t&&(s=r.filters[this.compositeFilterIndex].filters),e.value&&"all"===t)this.currentData.forEach((e=>{s.push({field:i,operator:"eq",value:e})}));else if(e.value)s.push({field:i,operator:"eq",value:t});else if(this.currentFilter){const e=s.findIndex((e=>e.value===t));s.splice(e,1)}r.logic="and",-1!==this.compositeFilterIndex?o[this.compositeFilterIndex]={logic:"or",filters:s}:o.push({logic:"or",filters:s}),(!e.value&&"all"===t||0===s.length)&&o.splice(this.compositeFilterIndex,1),r.filters=o,this.currentFilter=r},isAllSelected(){let e=!1;if(this.currentFilter){const t=[...this.currentFilter.filters];return-1!==this.compositeFilterIndex&&(e=this.currentData.every((e=>!(-1===this.compositeFilterIndex||!t[this.compositeFilterIndex].filters)&&t[this.compositeFilterIndex].filters.findIndex((t=>t.value===e))>=0)),e)}return e}}},Ft=t.defineComponent({render:()=>null}),Ht=t.defineComponent({name:"GridToolbar",props:{size:{type:String,default:"medium",validator:function(e){return["small","medium"].includes(e)}}},computed:{wrapperClass(){const{size:e}=this.$props;return{"k-toolbar":!0,"k-grid-toolbar":!0,"k-toolbar-solid":!0,[`k-toolbar-${i.kendoThemeMaps.sizeMap[e]||e}`]:e}}},render(){const e=i.getDefaultSlots(this);return t.createVNode("div",{class:this.wrapperClass,role:"toolbar"},[e])}});e.Footer=ct,e.FooterRow=pt,e.Grid=Nt,e.GridCell=$t,e.GridColumnMenuCheckboxFilter=Rt,e.GridColumnMenuFilter=et,e.GridColumnMenuFilterCell=Ye,e.GridColumnMenuFilterUI=wt,e.GridColumnMenuItem=Fe,e.GridColumnMenuItemContent=Ge,e.GridColumnMenuItemGroup=He,e.GridColumnMenuSort=Ee,e.GridDetailRow=Ft,e.GridEditCell=Ie,e.GridFilterCell=nt,e.GridGroupCell=kt,e.GridHeaderCell=Re,e.GridHierarchyCell=$e,e.GridNoRecords=St,e.GridRow=xt,e.GridToolbar=Ht,e.applyExpandedState=F,e.autoGenerateColumns=N,e.checkPropCompatibility=function(e){for(let t=0;t<$.length;t++){const i=$[t];if(void 0!==e[i]){const e="on"+i.charAt(0).toUpperCase()+i.slice(1);console.warn(x(i,e))}}},e.filterGroupByField=Ze,e.firefox=O,e.firefoxMaxHeight=D,e.flatData=b,e.footerColumns=w,e.getIndex=C,e.getNestedValue=f,e.groupedFirstItemValue=H,e.isRtl=v,e.mapColumns=S,e.parsers=V,e.readColumns=y,e.sortGroupByField=(e,t)=>{const i=Le(e,t);return Te(i,t)||Ae(i,t)}}));
