/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use strict";var n=Object.defineProperty;var h=(s,e,t)=>e in s?n(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var i=(s,e,t)=>h(s,typeof e!="symbol"?e+"":e,t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("./utils/consts.js"),d=6;class o{constructor(e){i(this,"itemId");i(this,"treeViewGuid");i(this,"initialized",!1);i(this,"destDomNodeWithMeta");i(this,"destItemId");i(this,"destTreeViewGuid");this.event=e,this.itemId=e.itemHierarchicalIndex,this.treeViewGuid=e.target.guid()}init(){return this.initialized||(this.setDestimationMeta(document.elementFromPoint(this.event.clientX,this.event.clientY)),this.initialized=!0),this}get isDropAllowed(){return this.initialized&&this.destItemId&&this.destTreeViewGuid?!`${this.destTreeViewGuid}_${this.destItemId}_`.startsWith(`${this.treeViewGuid}_${this.itemId}_`):!1}get destinationMeta(){return{itemHierarchicalIndex:this.destItemId,treeViewGuid:this.destTreeViewGuid}}getDropOperation(){if(this.initialized&&this.isDropAllowed){const{top:e,height:t}=this.destDomNodeWithMeta.getBoundingClientRect();return e+t-this.event.clientY<d?"after":this.event.clientY-e<d?"before":"child"}else return}setDestimationMeta(e){let t=e;for(;t&&!t[r.DOM_KENDO_ITEM_ID_FIELD];)t=t.parentNode;t&&t[r.DOM_KENDO_ITEM_ID_FIELD]&&(this.destDomNodeWithMeta=t,this.destItemId=t[r.DOM_KENDO_ITEM_ID_FIELD],this.destTreeViewGuid=t[r.DOM_KENDO_TREEVIEW_GUID_FIELD])}}exports.TreeViewDragAnalyzer=o;
