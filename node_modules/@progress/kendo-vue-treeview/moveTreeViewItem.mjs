/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
import { removeItem as v, addItem as r } from "./utils/itemUtils.mjs";
import { getItemById as R, getDecrementedItemIdAfterRemoval as C } from "./utils/itemIdUtils.mjs";
import { CHILDREN_FIELD as E } from "./utils/consts.mjs";
const T = function(u, f, s, p, n, l) {
  const o = l || E;
  if (!_())
    return e();
  const d = R(u, f, o);
  if (!d)
    return e();
  if (!n || n === f) {
    if (!F())
      return e();
    const m = v(u, o, f), t = r(
      d,
      s,
      o,
      C(u, p),
      m
    );
    return n ? { sourceData: t, targetData: t } : t;
  } else {
    const m = v(u, o, f), t = r(d, s, o, p, n);
    return { sourceData: m, targetData: t };
  }
  function e() {
    return n ? { sourceData: f, targetData: n } : f;
  }
  function F() {
    return !`${p}_`.startsWith(`${u}_`);
  }
  function _() {
    return !(!f || !f.length || !u || !p || n && !n.length || !R(p, !n || n === f ? f : n, o));
  }
};
export {
  T as moveTreeViewItem
};
